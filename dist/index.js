"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var u=s((function(e,t){e.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function h(e,t){return y(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||m(e,t)||S()}function v(e){return function(e){if(Array.isArray(e))return E(e)}(e)||g(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){if(Array.isArray(e))return e}function g(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var _=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a?a:e),A=function(){return Math.random().toString(36).substring(7).split("").join(".")},C={INIT:"@@redux/INIT"+A(),REPLACE:"@@redux/REPLACE"+A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A()}};function I(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function O(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(O)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function d(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function l(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!I(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:C.REPLACE})}function h(){var e,t=l;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[_]=function(){return this},e}return p({type:C.INIT}),(r={dispatch:p,subscribe:l,getState:d,replaceReducer:f})[_]=h,r}function T(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return N({},n,{dispatch:r=D.apply(void 0,i)(n.dispatch)})}}}var P=function(e,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function U(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function M(e){return"function"==typeof e}var V=!1,j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else V&&console.log("RxJS: Back to a better error behavior. Thank you. <3");V=e},get useDeprecatedSynchronousErrorHandling(){return V}};function L(e){setTimeout((function(){throw e}),0)}var H={closed:!0,next:function(e){},error:function(e){if(j.useDeprecatedSynchronousErrorHandling)throw e;L(e)},complete:function(){}},x=Array.isArray||function(e){return e&&"number"==typeof e.length};function F(e){return null!==e&&"object"==typeof e}var G=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),B=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i)n[i].remove(this);if(M(r))try{r.call(this)}catch(e){t=e instanceof G?W(e.errors):[e]}if(x(o)){i=-1;for(var a=o.length;++i<a;){var s=o[i];if(F(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof G?t=t.concat(W(e.errors)):t.push(e)}}}if(t)throw new G(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function W(e){return e.reduce((function(e,t){return e.concat(t instanceof G?t.errors:t)}),[])}var q="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),K=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=H;break;case 1:if(!n){i.destination=H;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new z(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new z(i,n,r,o)}return i}return U(t,e),t.prototype[q]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(B),z=function(e){function t(t,n,r,o){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return M(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==H&&(M((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=r,a._complete=o,a}return U(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;j.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=j.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):L(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;L(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};j.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),j.useDeprecatedSynchronousErrorHandling)throw e;L(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!j.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return j.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(L(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(K),Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function J(e){return e}function X(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Y(e)}function Y(e){return 0===e.length?J:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Z=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof K)return e;if(e[q])return e[q]()}return e||t||n?new K(e,t,n):new K(H)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||j.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),j.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){j.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof K?r:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=$(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[Q]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Y(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=$(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function $(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var ee=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),te=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return U(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(B),ne=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return U(t,e),t}(K),re=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return U(t,e),t.prototype[q]=function(){return new ne(this)},t.prototype.lift=function(e){var t=new oe(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ee;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new ee;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ee;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ee;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ee;return this.hasError?(e.error(this.thrownError),B.EMPTY):this.isStopped?(e.complete(),B.EMPTY):(this.observers.push(e),new te(this,e))},t.prototype.asObservable=function(){var e=new Z;return e.source=this,e},t.create=function(e,t){return new oe(e,t)},t}(Z),oe=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return U(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):B.EMPTY},t}(re),ie=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return U(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ee;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(re),ae=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return U(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return U(t,e),t.prototype.schedule=function(e,t){return this},t}(B)),se=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return U(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(ae),ue=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),ce=function(e){function t(n,r){void 0===r&&(r=ue.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return U(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ue),de=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t}(ce))(se),le=new Z((function(e){return e.complete()}));function pe(e){return e?function(e){return new Z((function(t){return e.schedule((function(){return t.complete()}))}))}(e):le}function fe(e){return e&&"function"==typeof e.schedule}var he,ve=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function ye(e,t){return new Z((function(n){var r=new B,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function ge(e,t){return t?ye(e,t):new Z(ve(e))}function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return fe(n)?(e.pop(),ye(e,n)):ge(e)}function Ee(e,t){return new Z(t?function(n){return t.schedule(Se,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Se(e){var t=e.error;e.subscriber.error(t)}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(he||(he={}));var be=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return me(this.value);case"E":return Ee(this.error);case"C":return pe()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function _e(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Ae(e,t))}}var Ae=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new Ce(e,this.scheduler,this.delay))},e}(),Ce=function(e){function t(t,n,r){void 0===r&&(r=0);var o=e.call(this,t)||this;return o.scheduler=n,o.delay=r,o}return U(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Ie(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(be.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(be.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(be.createComplete()),this.unsubscribe()},t}(K),Ie=function(e,t){this.notification=e,this.destination=t},Oe=1,Te=Promise.resolve(),Re={};function we(e){return e in Re&&(delete Re[e],!0)}var Ne=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return U(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=function(e){var t=Oe++;return Re[t]=!0,Te.then((function(){return we(t)&&e()})),t}(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(function(e){we(e)}(n),t.scheduled=void 0)},t}(ae),De=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<o&&(e=n.shift()));if(this.active=!1,t){for(;++r<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(ce))(Ne),ke=De,Pe=new ce(ae);function Ue(){}var Me=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ve(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new je(e,t))}}var je=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Le(e,this.project,this.thisArg))},e}(),Le=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return U(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(K),He=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(K),xe=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return U(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(K),Fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Ge=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Be(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var We=function(e){if(e&&"function"==typeof e[Q])return r=e,function(e){var t=r[Q]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Ge(e))return ve(e);if(Be(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,L),e};if(e&&"function"==typeof e[Fe])return t=e,function(e){for(var n=t[Fe]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o=F(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function qe(e,t,n,r,o){if(void 0===o&&(o=new xe(e,n,r)),!o.closed)return t instanceof Z?t.subscribe(o):We(t)(o)}function Ke(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[Q]}(e))return function(e,t){return new Z((function(n){var r=new B;return r.add(t.schedule((function(){var o=e[Q]();r.add(o.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Be(e))return function(e,t){return new Z((function(n){var r=new B;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Ge(e))return ye(e,t);if(function(e){return e&&"function"==typeof e[Fe]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new Z((function(n){var r,o=new B;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[Fe](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof Z?e:new Z(We(e))}function ze(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(ze((function(n,r){return Ke(e(n,r)).pipe(Ve((function(e,o){return t(n,e,r,o)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Qe(e,n))})}var Qe=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Je(e,this.project,this.concurrent))},e}(),Je=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return U(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new xe(this,t,n),o=this.destination;o.add(r);var i=qe(this,e,void 0,void 0,r);i!==r&&o.add(i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(He);function Xe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ze(J,e)}function Ye(){return Xe(1)}function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ye()(me.apply(void 0,e))}function $e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(x(n))return et(n,null);if(F(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return et(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return et(e=1===e.length&&x(e[0])?e[0]:e,null).pipe(Ve((function(e){return o.apply(void 0,e)})))}return et(e,null)}function et(e,t){return new Z((function(n){var r=e.length;if(0!==r)for(var o=new Array(r),i=0,a=0,s=function(s){var u=Ke(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),o[s]=e},error:function(e){return n.error(e)},complete:function(){++i!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=o[n],e}),{}):o),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}function tt(e,t,n,r){return M(n)&&(r=n,n=void 0),r?tt(e,t,n).pipe(Ve((function(e){return x(e)?r.apply(void 0,e):r(e)}))):new Z((function(r){!function e(t,n,r,o,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,i),a=function(){return s.removeEventListener(n,r,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var d=0,l=t.length;d<l;d++)e(t[d],n,r,o,i)}o.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function nt(e,t,n){return n?nt(e,t).pipe(Ve((function(e){return x(e)?n.apply(void 0,e):n(e)}))):new Z((function(n){var r,o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(o)}catch(e){return void n.error(e)}if(M(t))return function(){return t(o,r)}}))}function rt(e){return!x(e)&&e-parseFloat(e)+1>=0}function ot(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}function it(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return fe(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof Z?e[0]:Xe(n)(ge(e,r))}function at(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function st(e,t){return function(n){return n.lift(new ut(e,t))}}var ut=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.predicate,this.thisArg))},e}(),ct=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return U(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(K);function dt(e,t,n){return[st(t,n)(new Z(We(e))),st(at(t,n))(new Z(We(e)))]}function lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!x(e[0]))return e[0];e=e[0]}return ge(e,void 0).lift(new pt)}var pt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ft(e))},e}(),ft=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return U(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],o=qe(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var a=this.subscriptions[i];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)},t}(He);function ht(e,t,n){void 0===e&&(e=0);var r=-1;return rt(t)?r=Number(t)<1?1:Number(t):fe(t)&&(n=t),fe(n)||(n=Pe),new Z((function(t){var o=rt(e)?e:+e-n.now();return n.schedule(vt,o,{index:0,period:r,subscriber:t})}))}function vt(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function yt(e){return function(t){var n=new gt(e),r=t.lift(n);return n.caught=r}}var gt=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new mt(e,this.selector,this.caught))},e}(),mt=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.selector=n,o.caught=r,o}return U(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new xe(this,void 0,void 0);this.add(r);var o=qe(this,n,void 0,void 0,r);o!==r&&this.add(o)}},t}(He),Et=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new St(e,this.dueTime,this.scheduler))},e}(),St=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return U(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(bt,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(K);function bt(e){e.debouncedNext()}function _t(e,t){void 0===t&&(t=Pe);var n,r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return function(e){return e.lift(new At(r,t))}}var At=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Ct(e,this.delay,this.scheduler))},e}(),Ct=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return U(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,o=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new It(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(be.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(be.createComplete()),this.unsubscribe()},t}(K),It=function(e,t){this.time=e,this.notification=t};function Ot(e){return function(t){return 0===e?pe():t.lift(new Tt(e))}}var Tt=function(){function e(e){if(this.total=e,this.total<0)throw new Me}return e.prototype.call=function(e,t){return t.subscribe(new Rt(e,this.total))},e}(),Rt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return U(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(K);function wt(e){return function(t){return t.lift(new Nt(e))}}var Nt=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Dt(e,this.value))},e}(),Dt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return U(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(K);function kt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?ze((function(){return e}),t,n):("number"==typeof t&&(n=t),ze((function(){return e}),n))}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return fe(n)?(e.pop(),function(t){return Ze(e,t,n)}):function(t){return Ze(e,t)}}var Ut=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=ke);var o=e.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=r,(!rt(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=ke),o}return U(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=ke),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(Z);function Mt(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Vt(e,t))}}var Vt=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new Ut(t,this.delay,this.scheduler).subscribe(e)},e}();function jt(e,t){return"function"==typeof t?function(n){return n.pipe(jt((function(n,r){return Ke(e(n,r)).pipe(Ve((function(e,o){return t(n,e,r,o)})))})))}:function(t){return t.lift(new Lt(e))}}var Lt=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Ht(e,this.project))},e}(),Ht=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return U(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new xe(this,t,n),i=this.destination;i.add(o),this.innerSubscription=qe(this,e,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t}(He);function xt(e,t,n){return function(r){return r.lift(new Ft(e,t,n))}}var Ft=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Gt(e,this.nextOrObserver,this.error,this.complete))},e}(),Gt=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._tapNext=Ue,i._tapError=Ue,i._tapComplete=Ue,i._tapError=r||Ue,i._tapComplete=o||Ue,M(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||Ue,i._tapError=n.error||Ue,i._tapComplete=n.complete||Ue),i}return U(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(K);function Bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new Kt(r,n))}}var Wt,qt,Kt=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new zt(e,this.observables,this.project))},e}(),zt=function(e){function t(t,n,r){var o=e.call(this,t)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var a=0;a<i;a++)o.toRespond.push(a);for(a=0;a<i;a++){var s=n[a];o.add(qe(o,s,s,a))}return o}return U(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values[n]=t;var i=this.toRespond;if(i.length>0){var a=i.indexOf(n);-1!==a&&i.splice(a,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(He),Qt=function(e,t){return e===t||"function"==typeof t&&e===t.toString()},Jt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.pipe(st((function(e){var n=e.type,r=t.length;if(1===r)return Qt(n,t[0]);for(var o=0;o<r;o++)if(Qt(n,t[o]))return!0;return!1})))}},Xt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xt(t,null,[{key:"of",value:function(){return new this(me.apply(void 0,arguments))}},{key:"from",value:function(e,t){return new this(Ke(e,t))}}]),Xt(t,[{key:"lift",value:function(e){var n=new t(this);return n.operator=e,n}},{key:"ofType",value:function(){return Jt.apply(void 0,arguments)(this)}}]),t}(Z),Zt=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(function(e){var t=r.__notifier.subscribe(e);return t&&!t.closed&&e.next(r.value),t})));return r.value=n,r.__notifier=new re,r.__subscription=e.subscribe((function(e){e!==r.value&&(r.value=e,r.__notifier.next(e))})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Z),$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en=[];function tn(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function nn(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function rn(e,t,n){rn.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function on(e,t){on.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function an(e,t){an.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function sn(e,t,n){sn.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function un(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function cn(e){var t=void 0===e?"undefined":$t(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function dn(e,t,n,r,o,i,a){a=a||[];var s=(o=o||[]).slice(0);if(void 0!==i){if(r){if("function"==typeof r&&r(s,i))return;if("object"===(void 0===r?"undefined":$t(r))){if(r.prefilter&&r.prefilter(s,i))return;if(r.normalize){var u=r.normalize(s,i,e,t);u&&(e=u[0],t=u[1])}}}s.push(i)}"regexp"===cn(e)&&"regexp"===cn(t)&&(e=e.toString(),t=t.toString());var c=void 0===e?"undefined":$t(e),d=void 0===t?"undefined":$t(t),l="undefined"!==c||a&&a[a.length-1].lhs&&a[a.length-1].lhs.hasOwnProperty(i),p="undefined"!==d||a&&a[a.length-1].rhs&&a[a.length-1].rhs.hasOwnProperty(i);if(!l&&p)n(new on(s,t));else if(!p&&l)n(new an(s,e));else if(cn(e)!==cn(t))n(new rn(s,e,t));else if("date"===cn(e)&&e-t!=0)n(new rn(s,e,t));else if("object"===c&&null!==e&&null!==t)if(a.filter((function(t){return t.lhs===e})).length)e!==t&&n(new rn(s,e,t));else{if(a.push({lhs:e,rhs:t}),Array.isArray(e)){var f;for(e.length,f=0;f<e.length;f++)f>=t.length?n(new sn(s,f,new an(void 0,e[f]))):dn(e[f],t[f],n,r,s,f,a);for(;f<t.length;)n(new sn(s,f,new on(void 0,t[f++])))}else{var h=Object.keys(e),v=Object.keys(t);h.forEach((function(o,i){var u=v.indexOf(o);u>=0?(dn(e[o],t[o],n,r,s,o,a),v=un(v,u)):dn(e[o],void 0,n,r,s,o,a)})),v.forEach((function(e){dn(void 0,t[e],n,r,s,e,a)}))}a.length=a.length-1}else e!==t&&("number"===c&&isNaN(e)&&isNaN(t)||n(new rn(s,e,t)))}function ln(e,t,n,r){return r=r||[],dn(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function pn(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=un(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}Wt="object"===(void 0===a?"undefined":$t(a))&&a?a:"undefined"!=typeof window?window:{},(qt=Wt.DeepDiff)&&en.push((function(){void 0!==qt&&Wt.DeepDiff===ln&&(Wt.DeepDiff=qt,qt=void 0)})),tn(rn,nn),tn(on,nn),tn(an,nn),tn(sn,nn),Object.defineProperties(ln,{diff:{value:ln,enumerable:!0},observableDiff:{value:dn,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&dn(e,t,(function(r){n&&!n(e,t,r)||pn(e,t,r)}))},enumerable:!0},applyChange:{value:pn,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=un(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==qt},enumerable:!0},noConflict:{value:function(){return en&&(en.forEach((function(e){e()})),en=null),ln},enumerable:!0}});var fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{};function hn(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var vn=hn((function(e,t){!function(t,n){e.exports=function(t){var n,r=(t=t||{}).Base64,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(o),a=String.fromCharCode,s=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?a(192|t>>>6)+a(128|63&t):a(224|t>>>12&15)+a(128|t>>>6&63)+a(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return a(240|t>>>18&7)+a(128|t>>>12&63)+a(128|t>>>6&63)+a(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(e){return e.replace(u,s)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),t>=2?"=":o.charAt(n>>>6&63),t>=1?"=":o.charAt(63&n)].join("")},l=t.btoa&&"function"==typeof t.btoa?function(e){return t.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,d)},p=function(e){return l(c(String(e)))},f=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},h=function(e,t){return t?f(p(e)):p(e)};t.Uint8Array&&(n=function(e,t){for(var n="",r=0,i=e.length;r<i;r+=3){var a=e[r],s=e[r+1],u=e[r+2],c=a<<16|s<<8|u;n+=o.charAt(c>>>18)+o.charAt(c>>>12&63)+(void 0!==s?o.charAt(c>>>6&63):"=")+(void 0!==u?o.charAt(63&c):"=")}return t?f(n):n});var v,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,g=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return a(55296+(t>>>10))+a(56320+(1023&t));case 3:return a((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return a((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},m=function(e){return e.replace(y,g)},E=function(e){var t=e.length,n=t%4,r=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),o=[a(r>>>16),a(r>>>8&255),a(255&r)];return o.length-=[0,0,2,1][n],o.join("")},S=t.atob&&"function"==typeof t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/\S{1,4}/g,E)},b=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},A=function(e){return function(e){return m(S(e))}(_(e))};if(t.Uint8Array&&(v=function(e){return Uint8Array.from(b(_(e)),(function(e){return e.charCodeAt(0)}))}),t.Base64={"1.8.0":"2.6.3",atob:b,btoa:l,fromBase64:A,toBase64:h,utob:c,encode:h,encodeURI:function(e){return h(e,!0)},btou:m,decode:A,noConflict:function(){var e=t.Base64;return t.Base64=r,e},fromUint8Array:n,toUint8Array:v},"function"==typeof Object.defineProperty){var C=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",C((function(){return A(this)}))),Object.defineProperty(String.prototype,"toBase64",C((function(e){return h(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",C((function(){return h(this,!0)})))}}return t.Meteor&&(Base64=t.Base64),e.exports&&(e.exports.Base64=t.Base64),{Base64:t.Base64}}(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:fn)}));function yn(e){return vn.Base64.encode(e,!0)}function gn(e){return vn.Base64.decode(e)}var mn={"-":"+",_:"/",".":"="};function En(e){var t=e.replace(/[-_.]/g,(function(e){return mn[e]}));return Uint8Array.from(atob(t),(function(e){return e.charCodeAt(0)}))}function Sn(e,t){e=new Uint8Array(e),t=new Uint8Array(t);var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function bn(e){var t,n,r,o,i,a=e.length;for(t="",n=0;n<a;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],i=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&i)<<0)}return t}function _n(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE ".concat(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/))&&e.length?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(""))}function An(){var e=navigator.userAgent.toLowerCase();return!/opera|opr\/[\d]+/.test(e)&&/(msie|trident)/.test(e)}function Cn(){return"object"===("undefined"==typeof WebAssembly?"undefined":t(WebAssembly))&&"function"==typeof Worker}var In=function(){return"function"==typeof AudioWorklet},On=function(){return An()},Tn=function(){return!An()&&!Cn()};function Rn(e){if(""===e||void 0===e)return 0;for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)<=parseInt("0x7F",16)?t+=1:e.charCodeAt(n)<=parseInt("0x7FF",16)?t+=2:e.charCodeAt(n)<=parseInt("0xFFFF",16)?t+=3:e.charCodeAt(n)<=parseInt("0x1FFFFF",16)?t+=4:e.charCodeAt(n)<=parseInt("0x3FFFFFF",16)?t+=5:t+=6;return t}var wn=function(e){var t=e.charCodeAt(0);return t<=parseInt("0x7F",16)?1:t<=parseInt("0x7FF",16)?2:t<=parseInt("0xFFFF",16)?3:t<=parseInt("0x1FFFFF",16)?4:t<=parseInt("0x3FFFFFF",16)?5:6},Nn=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||(e=navigator.userAgent.toLowerCase(),t=0,n=0,window.screen.width<window.screen.height?(t=window.screen.width,n=window.screen.height):(t=window.screen.height,n=window.screen.width),e.indexOf("ipad")>-1||e.indexOf("macintosh")>-1&&{1024:768,1112:834,1194:834,1366:1024}[n]===t)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i);var e,t,n},Dn=function(){return/edge\/(\d+)/i.test(navigator.userAgent)},kn=function(){return/opera|opr\/[\d]+/i.test(navigator.userAgent)},Pn=function(){var e=navigator.userAgent;return!kn()&&!Dn()&&/chrome/i.test(e)&&/webkit/i.test(e)},Un=function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")},Mn=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],d=0;(u=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},Vn=function(e){return"function"==typeof e},jn=function(e){return e.toString()},Ln=function(e){return"string"==typeof e},Hn=function(e){return e},xn=function(e){return null===e};function Fn(e,t,n){void 0===t&&(t=Hn),Mn(Vn(t)||xn(t),"Expected payloadCreator to be a function, undefined or null");var r=xn(t)||t===Hn?Hn:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},o=Vn(n),i=e.toString(),a=function(){var t=r.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),o&&(i.meta=n.apply(void 0,arguments)),i};return a.toString=function(){return i},a}var Gn=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Bn=function(e){return Array.isArray(e)},Wn=function(e){return null==e},qn=function(e){return e[e.length-1]},Kn=/\s/,zn=/(_|-|\.|:)/,Qn=/([a-z][A-Z]|[A-Z][a-z])/,Jn=/[\W_]+(.|$)/g,Xn=/(.)([A-Z]+)/g,Yn=function(e){return function(e){return Kn.test(e)?e.toLowerCase():zn.test(e)?(function(e){return e.replace(Jn,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():Qn.test(e)?function(e){return e.replace(Xn,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()}(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()},Zn=function(e){return Yn(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))},$n=function(e){return-1===e.indexOf("/")?Zn(e):e.split("/").map(Zn).join("/")},er=function(e,t){return e.reduce((function(e,n){return t(e,n)}),{})},tr=function(e){return"undefined"!=typeof Map&&e instanceof Map};function nr(e){if(tr(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}function rr(e,t){return tr(t)?t.get(e):t[e]}var or=function(e){return function t(n,r,o,i){var a=void 0===r?{}:r,s=a.namespace,u=void 0===s?"/":s,c=a.prefix;return void 0===o&&(o={}),void 0===i&&(i=""),nr(n).forEach((function(r){var a=function(e){return i||!c||c&&new RegExp("^"+c+u).test(e)?e:""+c+u+e}(function(e){var t;if(!i)return e;var n=e.toString().split("||"),r=i.split("||");return(t=[]).concat.apply(t,r.map((function(e){return n.map((function(t){return""+e+u+t}))}))).join("||")}(r)),s=rr(r,n);e(s)?t(s,{namespace:u,prefix:c},o,a):o[a]=s})),o}},ir=or(Gn);function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sr(e,t,n[t])}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Gn(qn(n))?n.pop():{};return Mn(n.every(Ln)&&(Ln(e)||Gn(e)),"Expected optional object followed by string action types"),Ln(e)?lr([e].concat(n),o):ar({},cr(e,o),lr(n,o))}function cr(e,t){return function(e,t){var n=void 0===t?{}:t,r=n.namespace,o=void 0===r?"/":r,i=n.prefix,a={};return Object.getOwnPropertyNames(e).forEach((function(t){var n=i?t.replace(""+i+o,""):t;return function t(n,r,o){var i=$n(o.shift());0===o.length?r[i]=e[n]:(r[i]||(r[i]={}),t(n,r[i],o))}(t,a,n.split(o))})),a}(dr(ir(e,t)),t)}function dr(e,t){var n=void 0===t?{}:t,r=n.prefix,o=n.namespace,i=void 0===o?"/":o;return er(Object.keys(e),(function(t,n){var o,a=e[n];Mn(function(e){if(Vn(e)||Wn(e))return!0;if(Bn(e)){var t=e[0],n=void 0===t?Hn:t,r=e[1];return Vn(n)&&Vn(r)}return!1}(a),"Expected function, undefined, null, or array with payload and meta functions for "+n);var s=r?""+r+i+n:n,u=Bn(a)?Fn.apply(void 0,[s].concat(a)):Fn(s,a);return ar({},t,((o={})[n]=u,o))}))}function lr(e,t){var n=dr(er(e,(function(e,t){var n;return ar({},e,((n={})[t]=Hn,n))})),t);return er(Object.keys(n),(function(e,t){var r;return ar({},e,((r={})[$n(t)]=n[t],r))}))}var pr,fr=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[t.length-1]&&t.pop(),o=t;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s=void 0===e,u=void 0===t;return s&&u&&r?r:o.reduce((function(e,n){return n.apply(void 0,[e,t].concat(i))}),s&&!u&&r?r:e)}},hr=or((function(e){return(Gn(e)||tr(e))&&(n=(t=nr(e)).every((function(e){return"next"===e||"throw"===e})),!(t.length&&t.length<=2&&n));var t,n}));function vr(e,t,n){void 0===n&&(n={}),Mn(Gn(e)||tr(e),"Expected handlers to be a plain object.");var r=hr(e,n),o=nr(r).map((function(e){return function(e,t,n){void 0===t&&(t=Hn);var r=jn(e).split("||");Mn(!(void 0===n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),Mn(Vn(t)||Gn(t),"Expected reducer to be a function or object with next and throw reducers");var o=Vn(t)?[t,t]:[t.next,t.throw].map((function(e){return Wn(e)?Hn:e})),i=o[0],a=o[1];return function(e,t){void 0===e&&(e=n);var o=t.type;return o&&-1!==r.indexOf(jn(o))?(!0===t.error?a:i)(e,t):e}}(e,rr(e,r),t)})),i=fr.apply(void 0,o.concat([t]));return function(e,n){return void 0===e&&(e=t),i(e,n)}}var yr=Fn("CONNECT_ZOOM_SOCKET"),gr=Fn("CONNECT_XMPP_SOCKET"),mr=Fn("CLOSE_ZOOM_SOCKET"),Er=Fn("CLOSE_XMPP_SOCKET"),Sr=Fn("LOAD_WEB_IM"),br=Fn("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),_r=Fn("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),Ar=Fn("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),Cr=ur((i(pr={},"SET_ZOOM_SOCKET_STATUS",(function(e){return e})),i(pr,"SET_RWG_SERVERS_LIST",(function(e){return e})),i(pr,"SET_RWG_RETRY_COUNT",(function(e){return e})),i(pr,"SET_XMPP_SOCKET_STATUS",(function(e){return e})),i(pr,"SET_IS_XMPP_SDK_LOADED",(function(e){return e})),i(pr,"RESET_SOCKET",(function(){return{}})),pr)),Ir=Cr.setZoomSocketStatus,Or=Cr.setRwgServersList,Tr=Cr.setRwgRetryCount,Rr=Cr.setXmppSocketStatus,wr=Cr.setIsXmppSdkLoaded,Nr=Cr.resetSocket,Dr=Fn("CONNECT_TO_MEDIA_STREAM"),kr=Fn("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),Pr=ur("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","RESET_MEDIA"),Ur=Pr.setAudioEncodeStatus,Mr=Pr.setAudioDecodeStatus,Vr=Pr.setVideoEncodeStatus,jr=Pr.setVideoDecodeStatus,Lr=Pr.setSharingEncodeStatus,Hr=Pr.setSharingDecodeStatus,xr=Pr.setMediaConstraints,Fr=Pr.resetMedia;function Gr(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=Yt.of.apply(Yt,v(r||[]));return e(i,t,null)}function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return it.apply(void 0,v(t.map((function(e){var t=e.apply(void 0,n);if(!t)throw new TypeError('combineEpics: one of the provided Epics "'.concat(e.name||"<anonymous>","\" does not return a stream. Double check you're not missing a return statement!"));return t.pipe(yt((function(e,t){return setTimeout((function(){throw e}),0),t})))}))))};try{Object.defineProperty(r,"name",{value:"combineEpics(".concat(t.map((function(e){return e.name||"<anonymous>"})).join(", "),")")})}catch(e){}return r}function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flatMap((function(e){return Object.values(e)}));return Br.apply(void 0,v(r))}function qr(e,t){return e.pipe(Jt("".concat(br)),st((function(e){return e.payload.evt===t})))}function Kr(e,t){return e.pipe(Jt("".concat(Ar)),st((function(e){return e.payload.event===t})))}function zr(e,t){return e.pipe(Jt("".concat(kr)),st((function(e){return Array.isArray(t)?t.indexOf(e.payload.type)>-1:e.payload.type===t})))}var Qr="undefined"!=typeof window&&window,Jr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xr=void 0!==a&&a,Yr=Qr||Xr||Jr;function Zr(e,t){return void 0===t&&(t=null),new io({method:"GET",url:e,headers:t})}function $r(e,t,n){return new io({method:"POST",url:e,body:t,headers:n})}function eo(e,t){return new io({method:"DELETE",url:e,headers:t})}function to(e,t,n){return new io({method:"PUT",url:e,body:t,headers:n})}function no(e,t,n){return new io({method:"PATCH",url:e,body:t,headers:n})}!function(){if(!Yr)throw new Error("RxJS could not find any global context (window, self, global)")}();var ro=Ve((function(e,t){return e.response}));function oo(e,t){return ro(new io({method:"GET",url:e,responseType:"json",headers:t}))}var io=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(Yr.XMLHttpRequest)return new Yr.XMLHttpRequest;if(Yr.XDomainRequest)return new Yr.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(Yr.XMLHttpRequest)return new Yr.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new Yr.ActiveXObject(e))break}catch(e){}return new Yr.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);return n.request=r,n}var n;return U(t,e),t.prototype._subscribe=function(e){return new ao(e,this.request)},t.create=((n=function(e){return new t(e)}).get=Zr,n.post=$r,n.delete=eo,n.put=to,n.patch=no,n.getJSON=oo,n),t}(Z),ao=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var o=n.headers=n.headers||{};return n.crossDomain||r.getHeader(o,"X-Requested-With")||(o["X-Requested-With"]="XMLHttpRequest"),r.getHeader(o,"Content-Type")||Yr.FormData&&n.body instanceof Yr.FormData||void 0===n.body||(o["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return U(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this.xhr,r=this.request,o=this.destination;try{t=new so(e,n,r)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,o=t.url,i=t.async,a=t.password,s=t.headers,u=t.body;try{var c=this.xhr=e.createXHR();this.setupEvents(c,e),n?c.open(r,o,i,n,a):c.open(r,o,i),i&&(c.timeout=e.timeout,c.responseType=e.responseType),"withCredentials"in c&&(c.withCredentials=!!e.withCredentials),this.setHeaders(c,s),u?c.send(u):c.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(Yr.FormData&&e instanceof Yr.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n,r,o=t.progressSubscriber;function i(e){var t,n=i,r=n.subscriber,o=n.progressSubscriber,a=n.request;o&&o.error(e);try{t=new vo(this,a)}catch(e){t=e}r.error(t)}function a(e){}function s(e){var t=s,n=t.subscriber,r=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;if(0===i&&(i=a?200:0),i<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var u=void 0;try{u=new uo("ajax error "+i,this,o)}catch(e){u=e}n.error(u)}}}e.ontimeout=i,i.request=t,i.subscriber=this,i.progressSubscriber=o,e.upload&&"withCredentials"in e&&(o&&(n=function(e){n.progressSubscriber.next(e)},Yr.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=o),r=function(e){var t,n=r,o=n.progressSubscriber,i=n.subscriber,a=n.request;o&&o.error(e);try{t=new uo("ajax error",this,a)}catch(e){t=e}i.error(t)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=o),e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=o,a.request=t,e.onload=s,s.subscriber=this,s.progressSubscriber=o,s.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(K),so=function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=co(this.responseType,t)},uo=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=co(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function co(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;case"text":default:return"response"in t?t.response:t.responseText}}var lo,po,fo,ho,vo=function(e,t){return uo.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},yo=io.create,go=0,mo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"__jsonp_callback__";return new Z((function(r){go++;var o="".concat(n).concat(go),i=document.createElement("script");Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),i.src="".concat(e,"?").concat(new URLSearchParams(Object.assign(t,{callback:o})).toString()),i.async=!0,i.onerror=function(e){return r.error(e)},document.getElementsByTagName("head")[0].appendChild(i),window[o]=function(e){i.parentNode&&i.parentNode.removeChild(i),delete window[o],r.next(e),r.complete()}}))},Eo=window.WEB_ENDPOINT||"zoom.us",So="https://".concat(Eo,"/api/v1/wc/info"),bo="https://".concat(Eo,"/wc/lsdk"),_o="https://".concat("applications.zoom.us","/sdkhelper/auth?sdkToken="),Ao="https://dmogdx0jrul3u.cloudfront.net/".concat("1.8.0","/lib"),Co="https://source.zoom.us/".concat("1.8.0","/lib"),Io="https://jssdk.zoomus.cn/".concat("1.8.0","/lib"),Oo=3051,To=3052,Ro=6024,wo=3110,No=3099;!function(e){e[e.CONF_SUCCESS=0]="CONF_SUCCESS",e[e.CONF_FAIL_MEETING_OVER=6]="CONF_FAIL_MEETING_OVER",e[e.CONF_FAIL_CONF_USER_FULL=9]="CONF_FAIL_CONF_USER_FULL",e[e.CONF_FAIL_CONFLOCKED=12]="CONF_FAIL_CONFLOCKED",e[e.CONF_FAIL_WEBINAR_DENIED_EMAIL=3033]="CONF_FAIL_WEBINAR_DENIED_EMAIL",e[e.CONF_FAIL_HAS_BEEN_REMOVED=103039]="CONF_FAIL_HAS_BEEN_REMOVED",e[e.CONF_RESULT_MMR_IB_REJECT=103043]="CONF_RESULT_MMR_IB_REJECT",e[e.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS=103044]="CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS"}(lo||(lo={})),function(e){e[e.LEAVEREASON_RECONNECT=5]="LEAVEREASON_RECONNECT",e[e.LEAVEREASON_KICKEDBYHOST=7]="LEAVEREASON_KICKEDBYHOST",e[e.LEAVEREASON_ENDBYHOST=8]="LEAVEREASON_ENDBYHOST",e[e.LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING=9]="LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING"}(po||(po={})),function(e){e[e.LEAVESUBREASON_WAITINGROOMFAILOVER=1]="LEAVESUBREASON_WAITINGROOMFAILOVER"}(fo||(fo={}));var Do,ko,Po,Uo=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount"],Mo={bChime:"bAllowPlayChimeForEnterOrExit",topic:function(e){return{meetingTopic:gn(e)}}},Vo=Fn("GET_MEETING_INFO"),jo=Fn("GET_INSTANT_MEETING_INFO"),Lo=Fn("LOGON_ZOOM_DOMAIN"),Ho=Fn("VERIFY_ZOOM_RECAPTCHA"),xo=Fn("LOGON_THIRD_PARTY_DOMAIN"),Fo=Fn("PING_RWC_SERVER"),Go=Fn("MEETING_FAILOVER"),Bo=Fn("LEAVE_MEETING"),Wo=Fn("END_MEETING"),qo=Fn("REGISTER_WEBINAR"),Ko=ur((i(ho={},"SET_MEETING_INFO",(function(e){return e})),i(ho,"SET_WINDOWN_OPEN",(function(e){return e})),i(ho,"SET_APPID_SIGNATURE",(function(e){return e})),i(ho,"SET_ZAK",(function(e){return e})),i(ho,"SET_TK_MTKGUID",(function(e){return e})),i(ho,"SET_PING_RWC_TIMESTAMP",(function(e){return e})),i(ho,"SET_IN_MEETING_INFO",(function(e){return e})),i(ho,"SET_MEETING_ATTRIBUTE",(function(e){if(Uo.some((function(t){return void 0!==e[t]}))){var t=e;return Object.keys(Mo).some((function(t){return void 0!==e[t]}))&&(t=Object.keys(e).reduce((function(t,n){var r=Mo[n];return"function"==typeof r?Object.assign(t,r(e[n])):"string"==typeof r?t[r]=e[n]:(t[n],e[n]),t}),{})),t}return{}})),i(ho,"SET_IS_HOST",(function(e){return e&&e.bHost})),i(ho,"SET_IS_COHOST",(function(e){return e&&e.bCoHost})),i(ho,"RESET_MEETING",(function(e){return e})),i(ho,"SET_MEETING_IS_ON_HOLD",(function(e){return e})),i(ho,"SET_IS_MEETING_RESET",(function(e){return e})),i(ho,"SET_AUDIO_VIDEO_BEFORE_ON_HOLD",(function(e){return e})),i(ho,"SET_CURRENT_USER_AUDIO_BEFORE_RESET",(function(e){return e})),i(ho,"SET_IS_CURRENT_USER_MUTED_BEFORE_RESET",(function(e){return e})),i(ho,"SET_MEETING_STATUS",(function(e){return e})),i(ho,"SET_MEETING_REGION",(function(e){return e})),i(ho,"SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET",(function(e){return e})),ho)),zo=Ko.setMeetingInfo,Qo=Ko.setWindownOpen,Jo=Ko.setAppidSignature,Xo=Ko.setZak,Yo=Ko.setTkMtkguid,Zo=Ko.setPingRwcTimestamp,$o=Ko.setInMeetingInfo,ei=Ko.setMeetingAttribute,ti=Ko.resetMeeting,ni=Ko.setIsHost,ri=Ko.setIsCohost,oi=Ko.setMeetingIsOnHold,ii=Ko.setIsMeetingReset,ai=Ko.setAudioVideoBeforeOnHold,si=Ko.setCurrentUserAudioBeforeReset,ui=Ko.setIsCurrentUserMutedBeforeReset,ci=Ko.setMeetingStatus,di=Ko.setMeetingRegion,li=Ko.setIsCurrentUserStartVideoBeforeReset;function pi(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:(r.onload=function(){t()},r.onerror=function(){n()}),r.src=e,"function"==typeof document.body.append?document.getElementsByTagName("head")[0].append(r):document.getElementsByTagName("head")[0].appendChild(r)}!function(e){e[e.None=0]="None",e[e.Hand=1]="Hand",e[e.Yes=2]="Yes",e[e.No=3]="No",e[e.Fast=4]="Fast",e[e.Slow=5]="Slow",e[e.Bad=6]="Bad",e[e.Good=7]="Good",e[e.Clap=8]="Clap",e[e.Coffee=9]="Coffee",e[e.Clock=10]="Clock",e[e.Emoji=11]="Emoji"}(Do||(Do={})),function(e){e.LoginSuccess="zoomLoginSuccess",e.LoginFail="zoomLoginFail",e.CaptchaSuccess="captchaSuccess",e.CaptchaFail="captchaFail",e.SSOLoginSuccess="ssoLoginSuccess",e.SSOLoginFail="ssoLoginFail",e.JoinSuccess="joinSuccess",e.RegisterSuccess="registerSuccess"}(ko||(ko={})),function(e){e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory"}(Po||(Po={}));var fi,hi,vi,yi=yn("{}"),gi=function(){function e(t){n(this,e),this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=yn("zoom-storage-".concat(t)),this.localStorageKey=yn("zoom-local-storage"),this.memoryCache={},this.sessionCache=JSON.parse(gn(sessionStorage.getItem(this.sessionStorageKey)||yi)),this.localCache=JSON.parse(gn(localStorage.getItem(this.localStorageKey)||yi))}return o(e,[{key:"getValue",value:function(e){return this.sessionCache.hasOwnProperty(e)?{value:this.sessionCache[e],type:Po.SessionStorage}:this.localCache.hasOwnProperty(e)?{value:this.localCache[e],type:Po.LocalStorage}:{value:this.memoryCache[e],type:Po.Memory}}},{key:"setValue",value:function(e,t,n){if(!e)throw new Error("key is null");switch(n){case Po.SessionStorage:var r=this.sessionCache[e],o=t;return"function"==typeof t&&(o=t(r)),r!==o&&(this.sessionCache[e]=o,this.flushValue(Po.SessionStorage)),o;case Po.LocalStorage:var i=this.localCache[e],a=t;return"function"==typeof t&&(a=t(i)),i!==a&&(this.localCache[e]=a,this.flushValue(Po.LocalStorage)),a;case Po.Memory:var s=this.memoryCache[e],u=t;return"function"==typeof t&&(u=t(s)),this.memoryCache[e]=u,u;default:return null}}},{key:"removeValue",value:function(e){switch(this.getValue(e).type){case Po.SessionStorage:delete this.sessionCache[e],this.flushValue(Po.SessionStorage);break;case Po.LocalStorage:delete this.localCache[e],this.flushValue(Po.LocalStorage);break;case Po.Memory:delete this.memoryCache[e]}}},{key:"flushValue",value:function(e){e===Po.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,yn(JSON.stringify(this.sessionCache))):e===Po.LocalStorage&&localStorage.setItem(this.localStorageKey,yn(JSON.stringify(this.localCache)))}}],[{key:"init",value:function(t){this.instance=new e(t)}},{key:"get",value:function(e){if(void 0===this.instance)throw new Error("read before initial");return this.instance.getValue(e).value}},{key:"set",value:function(e,t,n){if(void 0===this.instance)throw new Error("set before initial");return this.instance.setValue(e,t,n)}},{key:"remove",value:function(e){if(void 0===this.instance)throw new Error("remove before initial");return this.instance.removeValue(e)}},{key:"clearSession",value:function(){if(void 0===this.instance)throw new Error("clear before initial");return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey)}}]),e}();gi.instance=void 0,function(e){e.WebclientOpt="WEB-CLIENT_OPT",e.WebclientWebinarToken="WEB-CLIENT_WEBINAR_TOKEN",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientUserId="WEB_CLIENT_USER_ID",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL"}(fi||(fi={})),function(e){e.WebclientDeviceId="WEBCLIENT_DEVICE_ID"}(hi||(hi={})),function(e){e.Open="open",e.Message="message",e.Error="error",e.Close="close"}(vi||(vi={}));var mi,Ei,Si=function(){function e(){n(this,e),this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.heartBeatInterval=6e4,this.eventHandlers=new Map,this.websocket=null,this.seq=1}return o(e,null,[{key:"createAgent",value:function(){return this.rwgInstance||(this.rwgInstance=new e),this.rwgInstance}}]),o(e,[{key:"on",value:function(e,t){var n=this.eventHandlers.get(e);n||(n=[]),n.push(t),this.eventHandlers.set(e,n)}},{key:"off",value:function(e,t){var n=this.eventHandlers.get(e);if(n){var r=n.filter((function(e){return e!==t}));this.eventHandlers.set(e,r)}}},{key:"emit",value:function(e,t){var n=this.eventHandlers.get(e);n&&n instanceof Array&&n.slice(0).forEach((function(e){try{e(t)}catch(e){console.error(e)}}))}},{key:"sendMessageToRwg",value:function(e){this.seq+=1;var t=this.seq;return this.websocket&&this.websocket.send(JSON.stringify(Object.assign(e,{seq:t}))),t}},{key:"connect",value:function(e){this.websocket=new WebSocket(e),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}},{key:"close",value:function(){var e;null===(e=this.websocket)||void 0===e||e.close()}},{key:"addHeartBeat",value:function(){var e=this,t=setInterval((function(){e.sendMessageToRwg({evt:0})}),this.heartBeatInterval);this.intervalsToBeCleardWhenSocketClose.push(t)}},{key:"clearIntervals",value:function(){this.intervalsToBeCleardWhenSocketClose.forEach((function(e){return clearInterval(e)}))}},{key:"addWebSocketEventListeners",value:function(){var e=this;this.websocket&&(this.websocket.addEventListener("open",(function(t){e.addHeartBeat(),e.emit("open",t)})),this.websocket.addEventListener("message",(function(t){e.emit("message",t)})),this.websocket.addEventListener("close",(function(t){e.clearIntervals(),e.emit("close",t)})),this.websocket.addEventListener("error",(function(t){e.emit("error",t)})))}},{key:"joinMeetingRes",value:function(e){this.emit(4098,e)}},{key:"lockMeeting",value:function(e){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:e}})}}},{key:"endMeeting",value:function(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}},{key:"leaveMeeting",value:function(){return{seq:this.sendMessageToRwg({evt:4103,body:{}})}}},{key:"recordMeeting",value:function(e){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:e}})}}},{key:"expel",value:function(e){return{seq:this.sendMessageToRwg({evt:4107,body:{userId:e}})}}},{key:"expelAttendee",value:function(e){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:e}})}}},{key:"rename",value:function(e,t,n){return{seq:this.sendMessageToRwg({evt:4109,body:{id:e,dn2:t,olddn2:n}})}}},{key:"assignHost",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4111,body:{id:e,bCoHost:t}})}}},{key:"reclaimHost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.sendMessageToRwg({evt:4133,body:{id:e,bCoHost:t}});return{seq:n}}},{key:"revokeCoHost",value:function(e){return{seq:this.sendMessageToRwg({evt:4195,body:{id:e}})}}},{key:"putOnHold",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4113,body:{id:e,bHold:t}})}}},{key:"setMuteOnEntry",value:function(e){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:e}})}}},{key:"setHoldOnEntry",value:function(e){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:e}})}}},{key:"inviteCRCDevice",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this.sendMessageToRwg({evt:4119,body:{ip:e,type:t,encrypt:n}});return{seq:r}}},{key:"cancelInviteCRCDevice",value:function(e){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:e}})}}},{key:"sendCloseCaption",value:function(e){return{seq:this.sendMessageToRwg({evt:4125,body:u({},e)})}}},{key:"allowViewParticipantNumber",value:function(e){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:e}})}}},{key:"lowerAllHands",value:function(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}},{key:"raiseLowerHand",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4131,body:{id:e,bOn:t}})}}},{key:"chat",value:function(e,t,n){return{seq:n?this.sendMessageToRwg({evt:4135,body:{text:e,destNodeID:t,sn:n}}):this.sendMessageToRwg({evt:4135,body:{text:e,destNodeID:t}})}}},{key:"assignCC",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4137,body:{id:e,bCCEditor:t}})}}},{key:"setChatPriviledge",value:function(e){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:e}})}}},{key:"sendFeedback",value:function(e){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:e}})}}},{key:"clearFeedback",value:function(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}},{key:"allowUnmuteVideo",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4147,body:{id:e,bOn:t}})}}},{key:"allowUnmuteAudio",value:function(e){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:e}})}}},{key:"allowRaiseHand",value:function(e){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:e}})}}},{key:"boToken",value:function(e){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:e}})}}},{key:"startBO",value:function(e){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:e}})}}},{key:"stopBO",value:function(e){return{seq:this.sendMessageToRwg({evt:4177,body:{status:e}})}}},{key:"assignToBO",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:e,targetBID:t}})}}},{key:"switchBO",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:e,targetBID:t}})}}},{key:"wantJoinBO",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:e,targetBID:t}})}}},{key:"joinBO",value:function(e){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:e}})}}},{key:"leaveBO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.sendMessageToRwg({evt:4185,body:{reason:e}});return{seq:t}}},{key:"broadcastBO",value:function(e){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:e}})}}},{key:"askForHelpBO",value:function(e){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:e}})}}},{key:"askForHelpResultBO",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:e,helpResult:t}})}}},{key:"allowParticipantRename",value:function(e){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:e}})}}},{key:"allowMessageFeedbackNotify",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:e,id:t}})}}},{key:"setPlayChime",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:e,id:t}})}}},{key:"admitAllSilentUsers",value:function(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}},{key:"bindTeleUser",value:function(e,t,n){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:e,targetUserID:t,bBind:n}})}}},{key:"practiceSession",value:function(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}},{key:"roleChangeWebinar",value:function(e,t,n,r){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:t,userID:n,clientCap:r,bPromote:e}})}}},{key:"updateMeetingTopic",value:function(){return{seq:this.sendMessageToRwg({evt:4211,body:{}})}}},{key:"mute",value:function(e,t){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:t,id:e}})}}},{key:"audioDrop",value:function(e){return{seq:this.sendMessageToRwg({evt:8195,body:{id:e}})}}},{key:"audioDialout",value:function(e,t,n){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:e,dn2:t,bCallme:n}})}}},{key:"audioCancelDialout",value:function(e,t){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:e,bCallme:t}})}}},{key:"audioMuteAll",value:function(e){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:e}})}}},{key:"allowToTalk",value:function(e,t){return{seq:this.sendMessageToRwg({evt:8204,body:{id:e,bAllowTalk:t}})}}},{key:"subscribeVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.sendMessageToRwg({evt:12289,body:{id:e,size:t,bOn:n}});return{seq:r}}},{key:"unsubscribeVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.sendMessageToRwg({evt:12291,body:{id:e}});return{seq:t}}},{key:"muteAttendeeVideo",value:function(e,t){return{seq:this.sendMessageToRwg({evt:12297,body:{id:e,bOn:t}})}}},{key:"notifyRwgIsMuteVideo",value:function(e,t){return this.muteAttendeeVideo(e,t)}},{key:"spotlightVideo",value:function(e,t){return{seq:this.sendMessageToRwg({evt:12299,body:{id:e,bOn:t}})}}},{key:"pauseSharing",value:function(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}},{key:"resumeSharing",value:function(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}},{key:"allowAnonymousQuestion",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:e,bOn:t}})}}},{key:"allowViewAll",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:e,bOn:t}})}}},{key:"allowVote",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:e,bOn:t}})}}},{key:"allowComment",value:function(e,t){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:e,bOn:t}})}}},{key:"sharingRequestRemoteControl",value:function(e,t){return{seq:this.sendMessageToRwg({evt:16389,body:{id:e,bOn:t}})}}},{key:"subscribeGrabRemoteControl",value:function(e,t){return{seq:this.sendMessageToRwg({evt:16393,body:{id:e,bOn:t}})}}},{key:"subscribeSharing",value:function(e,t){return{seq:this.sendMessageToRwg({evt:16415,body:{id:e,size:t}})}}},{key:"unsubscribeSharing",value:function(e){return{seq:this.sendMessageToRwg({evt:16417,seq:1,body:{id:e}})}}},{key:"sendRWGConnectionPerformance",value:function(e){return{seq:this.sendMessageToRwg({evt:4167,body:{data:e}})}}},{key:"sendDatachannelOffer",value:function(e){return{seq:this.sendMessageToRwg({evt:24321,offer:e})}}},{key:"joinOrLeaveVoip",value:function(e){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:e}})}}},{key:"startSharing",value:function(e){return{seq:this.sendMessageToRwg({evt:16409,body:{id:e,boOn:!1}})}}},{key:"stopSharing",value:function(e){return{seq:this.sendMessageToRwg({evt:16409,body:{id:e,bOn:!0}})}}},{key:"lockSharing",value:function(e){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:e}})}}}]),e}();Si.rwgInstance=null,function(e){e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5"}(mi||(mi={})),function(e){e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM"}(Ei||(Ei={}));var bi=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"}}),_i=(window.crypto||window.msCrypto).subtle,Ai=fi.WebclientIVState,Ci=Object.keys(bi).map((function(e){return bi[e].sessionType})),Ii=function(){function e(t,r,o){n(this,e),this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(t,r,o),gi.set(Ai,{},Po.SessionStorage)}return o(e,[{key:"resetParameters",value:function(e,t,n){this.isGCMEnabled=!(An()||!Cn())&&n===Ei.AES_GCM,this.gcmSessionKey=En(t),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(e)}},{key:"beginCrypto",value:function(e,t,n){var r=new Uint32Array(1);r[0]=9,r[0]+=Number(n);var o=new Uint8Array(r.buffer),i=new Uint8Array(132),a=En(t);return i.set(a,0),i.set(o,a.length),i=i.subarray(0,a.length+4),_i.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then((function(e){return _i.sign({name:"HMAC"},e,i)})).then((function(e){return _i.importKey("raw",e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))}},{key:"getNextIV",value:function(e){var t=gi.get(Ai);return void 0===t[e]?(t[e]=0,gi.set(Ai,t,Po.SessionStorage)):gi.set(Ai,(function(t){return u(u({},t),{},i({},e,t[e]+1))}),Po.SessionStorage)}},{key:"resetIVState",value:function(){var e=gi.get(Ai);if(void 0===e);else{var t=Object.keys(e).filter((function(e){return Ci.indexOf(e)>-1}));t.length>0&&(t.forEach((function(t){e[t]+=1e6})),gi.set(Ai,e,Po.SessionStorage))}}}],[{key:"init",value:function(t,n,r){this.instance?this.instance.resetParameters(t,n,r):this.instance=new e(t,n,r)}},{key:"resetIV",value:function(){if(void 0===this.instance)throw new Error("reset before intialize");this.instance.resetIVState()}},{key:"beginEncrypt",value:function(e){var t=e.text,n=e.type,r=new Uint8Array(0);if(this.instance.isGCMEnabled){var o,i=this.instance.getNextIV(n.sessionType),a=new ArrayBuffer(16),s=new Uint8Array(a);return new DataView(a).setUint32(0,i,!0),o="BO_BROADCAST"===n.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(o,this.instance.zoomId,n.gcmType).then((function(e){var n=(new TextEncoder).encode(t);return _i.encrypt({name:"AES-GCM",iv:s,additionalData:r,tagLength:128},e,n)})).then((function(e){var t=new ArrayBuffer(1);new Uint8Array(t)[0]=s.length;var n=new ArrayBuffer(2);new DataView(n).setUint16(0,r.length,!0);var o=new ArrayBuffer(4);new DataView(o).setUint32(0,e.byteLength-16,!0);var i=Sn(t,s);i=Sn(i,n),i=Sn(i,r),i=Sn(i,o);var a=(i=Sn(i,e)).buffer,u=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(new Uint8Array(a));return window.btoa(u).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")}))}return Promise.resolve(yn(t))}},{key:"beginDecrypt",value:function(e){var t=e.decryptedText,n=e.type,r=e.zoomId;if(!this.instance.isGCMEnabled)return Promise.resolve({message:bn(En(t))});var o,i=function(e){var t,n=e.length,r=new Array(n);for(t=0;t<n;++t)r[t]=255&e.charCodeAt(t);return new Uint8Array(r)}(atob(t.replace(/_/g,"/").replace(/-/g,"+"))),a=i[0],s=i.slice(1,a+1),u=i.slice(1+a,3+a),c=new DataView(u.buffer).getUint16(0,!0),d=i.slice(1+a+2,1+a+2+c),l=i.slice(1+a+2+c,1+a+2+c+4),p=new DataView(l.buffer).getUint32(0,!0),f=i.slice(1+a+2+c+4,1+a+2+c+4+p),h=i.slice(1+a+2+c+4+p);return o="BO_BROADCAST"===n.sessionType?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(o,r,n.gcmType).then((function(e){var t=Sn(f,h);return _i.decrypt({name:"AES-GCM",iv:s,additionalData:d,tagLength:8*h.length},e,t.buffer)})).then((function(e){return{message:(new TextDecoder).decode(e),iv:s,aad:d}})).catch((function(e){return{message:"[".concat("This is an encrypted message","]"),iv:s,aad:d}}))}}]),e}();Ii.instance=void 0;var Oi=fi.WebclientIVState,Ti=function(){function e(){n(this,e),this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.mediaSocketAddress=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.callbackList=[]}return o(e,null,[{key:"getInstance",value:function(){return void 0===this.agentInstance&&(this.agentInstance=new e),this.agentInstance}}]),o(e,[{key:"init",value:function(){if(!this.instance){var e,t={ivObj:(e={},i(e,mi.AUDIO_ENCODE,gi.get(Oi)&&gi.get(Oi)[mi.AUDIO_ENCODE]),i(e,mi.VIDEO_ENCODE,gi.get(Oi)&&gi.get(Oi)[mi.VIDEO_ENCODE]),i(e,mi.SHARING_ENCODE,gi.get(Oi)&&gi.get(Oi)[mi.SHARING_ENCODE]),e)};this.instance=new JsMediaSDK_Instance(t),this.instance.setRWGAgent(Si.createAgent())}}},{key:"setAssetsAndConstraint",value:function(e,t){var n;this.assetsPath=e,this.constraints=t,this.mediaWorkersPath=function(e){return{audioWorkerPath:"".concat(e,"/js_audio_process.min.js"),audioWorkletPath:"".concat(e,"/js_audio_worklet.min.js"),audioWasm:"".concat(e,"/audio.encode.wasm"),videoWorkerPath:"".concat(e,"/video_s.min.js"),videoMtWorkerPath:"".concat(e,"/video_m.min.js"),videoWasm:"".concat(e,"/video.decode.wasm"),videoMtWasm:"".concat(e,"/video.mt.wasm"),sharingWorkerPath:"".concat(e,"/sharing_s.min.js"),sharingMtWorkerPath:"".concat(e,"/sharing_m.min.js"),videoSIMDWorkerPath:"".concat(e,"/video_simd.min.js"),videoSIMDWasm:"".concat(e,"/video.simd.wasm"),sharingSIMDWorkerPath:"".concat(e,"/sharing_simd.min.js"),videoMSIMDWasm:"".concat(e,"/video.msimd.wasm"),sharingMSIMDWorkerPath:"".concat(e,"/sharing_msimd.min.js"),videoMSIMDWorkerPath:"".concat(e,"/video_msimd.min.js")}}(this.assetsPath),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),null===(n=this.instance)||void 0===n||n.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback)}},{key:"onMediaSDKCallback",value:function(e,t){this.callbackList.length>0&&this.callbackList.forEach((function(n){return n(e,t)}))}},{key:"registerCallback",value:function(e){this.callbackList.push(e)}},{key:"unregisterCallback",value:function(e){var t=this.callbackList.findIndex((function(t){return t===e}));t>-1&&this.callbackList.splice(t,1)}},{key:"connect",value:function(e){var t,n,r,o=e.svcUrl,i=e.meetingNumber,a=e.conId,s=e.e2eEncrypt,u=e.isViewOnly,c=e.currentUserId,d=e.isWebinar;this.svcUrl=o,this.meetingNumber=i,this.confId=a;var l,p,f,h,v,y,g,m,E,S,b=function(e,t,n){return{videoSocketAddress:"wss://".concat(e,"/wc/media/").concat(t,"?type=v&cid=").concat(n),audioSocketAddress:"wss://".concat(e,"/wc/media/").concat(t,"?type=a&cid=").concat(n),sharingSocketAddress:"wss://".concat(e,"/wc/media/").concat(t,"?type=").concat(On()?"j":"s","&cid=").concat(n)}}(o,i,a);this.mediaSocketAddress=b,this.currentUserId=c,Cn()?null===(l=this.instance)||void 0===l||l.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkletPath:null===(p=this.mediaWorkersPath)||void 0===p?void 0:p.audioWorkletPath,e2eEncrypt:s,isEnableListenInitEvent:!0}):null===(f=this.instance)||void 0===f||f.setPropsBeforeInit({callback:this.onMediaSDKCallback,e2eEncrypt:s,isEnableListenInitEvent:!0}),!0===(null===(t=this.constraints)||void 0===t?void 0:t.audio)&&Cn()&&((d||In())&&(null===(E=this.instance)||void 0===E||E.initAudioDecode(this.mediaWorkersPath,b.audioSocketAddress,c,!1,a,i)),!In()||d&&u||null===(S=this.instance)||void 0===S||S.initAudioEncode(this.mediaWorkersPath,b.audioSocketAddress,c,!1,a,i)),!0===(null===(n=this.constraints)||void 0===n?void 0:n.video)&&Cn()&&(null===(h=this.instance)||void 0===h||h.initVideoDecode(this.mediaWorkersPath,b.videoSocketAddress,c,!1,a,i),d&&u||null===(v=this.instance)||void 0===v||v.initVideoEncode(this.mediaWorkersPath,b.videoSocketAddress,c,!1,a,i)),!0===(null===(r=this.constraints)||void 0===r?void 0:r.screen)&&(Cn()?(null===(y=this.instance)||void 0===y||y.initSharingDecode(this.mediaWorkersPath,b.sharingSocketAddress,c,!1,a,i),d&&u||null===(g=this.instance)||void 0===g||g.initSharingEncode(this.mediaWorkersPath,b.sharingSocketAddress,c,!1,a,i)):null===(m=this.instance)||void 0===m||m.initSharingDecode(b.sharingSocketAddress))}},{key:"desroy",value:function(){var e;null===(e=this.instance)||void 0===e||e.destroy(),this.instance=null,this.callbackList=[]}},{key:"disconnect",value:function(){var e,t;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(17,{}),null===(t=this.instance)||void 0===t||t.JsMediaSDK_UnInit()}},{key:"muteAudio",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(8,{ssrc:0})}},{key:"unmuteAudio",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}},{key:"joinComputerAudio",value:function(e,t,n,r){var o;null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(22,{CaptureAudio:r,CaptureAudioInfo:{ssrc:e,AudioSelectValue:"default"===t?null:t},speakerInfo:{defaultDeviceId:n}})}},{key:"leaveComputerAudio",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(21,null)}},{key:"changeSpeaker",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:e})}},{key:"changeMicrophone",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:"default"===e?null:e})}},{key:"restoreWebRTC",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:"default"===e?null:e})}},{key:"renderVideo",value:function(e,t,n){var r;null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(1,{ssrc:0,canvas:e,enableWaterMark:n,waterMarkText:t})}},{key:"stopRenderVideo",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(2,{ssrc:0})}},{key:"startCaptureVideo",value:function(e,t,n,r){var o,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t;Array.isArray(t)||(a=[t]),null===(o=this.instance)||void 0===o||o.Notify_MeidaSDK(3,{mode:i,ssid:e,width:640,height:360,fps:24,canvas:a,video:n,VideoSelectValue:"default"===r?null:r})}},{key:"stopCaptureVideo",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(4,{ssrc:0})}},{key:"changeCamera",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(12,{VideoSelectValue:"default"===e?null:e})}},{key:"switchVideoSource",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(13,{ssrc:e})}},{key:"switchCanvasForVideoCapture",value:function(e){var t,n=e;Array.isArray(e)||(n=[e]),null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(25,n)}},{key:"renderSharing",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.receivedSharingCanvas=t,null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(23,{width:0,height:0,ssrc:e,canvas:t,cursorCanvas:n,enableWaterMark:o,waterMarkText:i})}},{key:"stopRenderSharing",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(24,{})}},{key:"switchSharingSource",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(36,{ssrc:e})}},{key:"ajustmentReceivedSharingCanvas",value:function(e,t){if(this.receivedSharingCanvas)try{this.receivedSharingCanvas.width=e,this.receivedSharingCanvas.height=t}catch(e){}}},{key:"startRemoteControl",value:function(e,t,n){var r;null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(26,u({socketURL:"wss://".concat(this.svcUrl),meetingID:this.meetingNumber,condID:this.confId,os:t,dom:e},n))}},{key:"stopRemoteControl",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(28)}},{key:"resendRemoteControlPositionPDU",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(41)}},{key:"updateRemoteControlProperties",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(27,e)}},{key:"startDesktopSharing",value:function(e,t,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.sharingCanvas=document.querySelector("#".concat(t)),null===(r=this.instance)||void 0===r||r.Notify_MeidaSDK(30,{mode:o,ssid:e,canvas:t,video:n})}},{key:"stopDesktopSharing",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(31,{})}},{key:"pauseDesktopSharing",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(32,{})}},{key:"resumeDesktopSharing",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(33,{})}},{key:"ajustmentSharingCanvas",value:function(e,t){if(this.sharingCanvas)try{this.sharingCanvas.width=e,this.sharingCanvas.height=t}catch(e){}}},{key:"checkChromeSharingExtension",value:function(){var e;null===(e=this.instance)||void 0===e||e.Notify_MeidaSDK(34,{})}},{key:"enableAudioEncode",value:function(){var e;null===(e=this.instance)||void 0===e||e.initAudioEncode(this.mediaWorkersPath,this.mediaSocketAddress.audioSocketAddress,this.currentUserId,!1,this.confId,this.meetingNumber)}},{key:"sendUserNodeList",value:function(e){var t;null===(t=this.instance)||void 0===t||t.Notify_MeidaSDK(43,e)}}]),e}();Ti.agentInstance=void 0;var Ri,wi,Ni="POOL";!function(e){e.Expel="expel",e.Promote="promote",e.Depromote="depromote",e.MemberChange="memberChange",e.RaiseHand="raisehand",e.LowerHand="lowerhand",e.PutdownHands="putdownhands"}(Ri||(Ri={})),function(e){e[e.AttendeeToAllPanelist=1]="AttendeeToAllPanelist",e[e.PanelistToAttendee=3]="PanelistToAttendee"}(wi||(wi={}));var Di=["CONNECTED","DISCONNECTED",Ni,"CONNFAIL","OnlineMembers","GroupChange","RosterChange","WebinarQA","Message"],ki=function(){function e(){var t=this;if(n(this,e),this.callbackList=void 0,this.instance=void 0,this.callbackList=[],"undefined"!=typeof webIM&&(this.instance=new webIM.WebimInstance,this.instance)){var r=this.instance.server;Di.forEach((function(e){r.on(e,(function(n){t.onXmppCallback(e,n)}))}))}this.onXmppCallback=this.onXmppCallback.bind(this)}return o(e,[{key:"onXmppCallback",value:function(e,t){this.callbackList.length>0&&this.callbackList.forEach((function(n){return n(e,t)}))}},{key:"registerCallback",value:function(e){this.callbackList.push(e)}},{key:"unregisterCallback",value:function(e){var t=this.callbackList.findIndex((function(t){return t===e}));t>-1&&this.callbackList.splice(t,1)}},{key:"connect",value:function(e){var t,n=this,r=e.svcUrl,o=e.meetingNumber,i=e.conId,a=e.clientCap,s=e.jid,u=e.displayName;if(!this.instance&&void 0!==window.webIM){this.instance=new window.webIM.WebimInstance;var c=this.instance.server;Di.forEach((function(e){c.on(e,(function(t){n.onXmppCallback(e,t)}))}))}var d="wss://".concat(r,"/wc/media/").concat(o,"?type=x&cid=").concat(i);null===(t=this.instance)||void 0===t||t.server.connect({url:d,jid:s,meetingNumber:o,clientCap:a,displayName:u})}},{key:"lowerHand",value:function(e){var t;null===(t=this.instance)||void 0===t||t.server.lowerHand(e)}},{key:"raiseHand",value:function(){var e;null===(e=this.instance)||void 0===e||e.server.raiseHand()}},{key:"sendWebinarMsg",value:function(e,t,n,r){var o;null===(o=this.instance)||void 0===o||o.server.sendWebinarMsg(e,t,n,r)}},{key:"rename",value:function(e,t){var n;null===(n=this.instance)||void 0===n||n.server.rename(e,t)}},{key:"sendAsk",value:function(e,t,n){var r;null===(r=this.instance)||void 0===r||r.server.sendAsk(e,t,n)}},{key:"sendAnswer",value:function(e,t,n){var r;null===(r=this.instance)||void 0===r||r.server.sendAnswer(e,t,n)}},{key:"answerOnline",value:function(e,t){var n;null===(n=this.instance)||void 0===n||n.server.answerOnline(e,t)}},{key:"sendDismiss",value:function(e){var t;null===(t=this.instance)||void 0===t||t.server.sendDismiss(e)}},{key:"sendReOpen",value:function(e){var t;null===(t=this.instance)||void 0===t||t.server.sendReOpen(e)}},{key:"sendUpVote",value:function(e){var t;null===(t=this.instance)||void 0===t||t.server.sendUpVote(e)}},{key:"sendDownVote",value:function(e){var t;null===(t=this.instance)||void 0===t||t.server.sendDownVote(e)}},{key:"disconnect",value:function(){var e;null===(e=this.instance)||void 0===e||e.server.disconnect(),this.instance=void 0}}],[{key:"getInstance",value:function(){return void 0===this.agentInstance&&(this.agentInstance=new e),this.agentInstance}}]),e}();ki.agentInstance=void 0;var Pi=Fn("NOOP");function Ui(e){return X(Ve((function(t,n){return e(t,n)||Pi()})),st((function(e){return"NOOP"!==e.type})))}function Mi(e){return X(ze((function(t,n){return e(t,n)||me(Pi())})),Ui((function(e){return e})))}function Vi(e){return X(jt((function(t,n){return e(t,n)||me(Pi())})),Ui((function(e){return e})))}var ji,Li,Hi,xi=function(e,t){if(window.requestAnimationFrame){var n=performance.now(),r=0;return r=window.requestAnimationFrame((function o(i){r=window.requestAnimationFrame(o),i-n>=t&&(e(),n=i)})),function(){window.cancelAnimationFrame(r)}}var o=performance.now(),i=0,a=!1;return setTimeout((function n(){i+=t,e();var r=performance.now()-o-i,s=setTimeout(n,Math.max(t-r,0));a&&clearTimeout(s)}),t),function(){a=!0}},Fi={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},Gi=i({},"".concat(7937),(function(){return{payloads:{add:[],update:[],remove:[]},onThrottle:function(e){var t,n,r;e.add&&(t=this.payloads.add).push.apply(t,v(e.add)),e.update&&(n=this.payloads.update).push.apply(n,v(e.update)),e.remove&&(r=this.payloads.remove).push.apply(r,v(e.remove))}}})),Bi="UPDATE_USER_PARTICIPANT_ATTRIBUTE";!function(e){e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated"}(Li||(Li={})),function(e){e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed"}(Hi||(Hi={}));var Wi,qi,Ki,zi,Qi={success:"ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",fail:["JOIN_MEETING_FAILED"]},Ji=(i(ji={},Li.ConnectionChange,[{event:"JOIN_MEETING_SUCCESS",payload:function(){return{state:Hi.Connected}}},{event:"RECONNECTING_MEETING",payload:function(e){return u({state:Hi.Reconnecting},e)}},{event:"LEAVING_MEETING",payload:function(e){return u({state:Hi.Closed},e)}}]),i(ji,Li.OnHoldChange,[{event:"MEETING_IN_WAITING_ROOM",payload:function(e){return{isOnHold:e}}}]),i(ji,Li.UserAdd,[{event:"ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",payload:function(e){return[e]}},{event:"ADD_USER_PARTICIPANT_ATTRIBUTE",payload:function(e){return e}}]),i(ji,Li.UserUpdate,[{event:"UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",payload:function(e){return[e]}},{event:Bi,payload:function(e){return e}}]),i(ji,Li.UserRemove,[{event:"REMOVE_USER_PARTICIPANT_ATTRIBUTE",payload:function(e){return e}}]),i(ji,Li.AttendeeUpdate,[{event:"UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",payload:function(e){return e}}]),ji),Xi="RECORDING_START_CLOUD_RECORDING_SUCCESS",Yi="RECORDING_STOP_CLOUD_RECORDING_SUCCESS";!function(e){e.OnRecordingChange="on-recording-change",e.OnLocalRecordingChange="on-local-recording-change"}(qi||(qi={})),function(e){e.Started="Started",e.Stopped="Stopped"}(Ki||(Ki={})),function(e){e.Stopped="Stopped",e.Started="Started",e.Paused="Paused"}(zi||(zi={}));var Zi,$i,ea=(i(Wi={},qi.OnRecordingChange,[{event:"START_RECORDING_SUCCESS",payload:function(){return{state:Ki.Started}}},{event:"STOP_RECORDING_SUCCESS",payload:function(){return{state:Ki.Stopped}}}]),i(Wi,qi.OnLocalRecordingChange,[{event:"LOCAL_RECORDING_CHANGE",payload:function(e){var t={};return Array.isArray(e)?e.forEach((function(e){t[e.id]=e.bLocalRecordStatus})):t[e.id]=e.bLocalRecordStatus,t}}]),Wi);!function(e){e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change"}($i||($i={}));var ta,na,ra,oa,ia,aa,sa,ua=(i(Zi={},$i.DeviceChange,[{event:"MEDIA_DEVICE_CHANGE",payload:function(){return{}}}]),i(Zi,$i.MediaSDKChange,[{event:"AUDIO_ENCODE_SUCCESS",payload:function(){return{type:"audio",action:"encode",result:"success"}}},{event:"AUDIO_ENCODE_FAIL",payload:function(){return{type:"audio",action:"encode",result:"fail"}}},{event:"AUDIO_DECODE_SUCCESS",payload:function(){return{type:"audio",action:"decode",result:"success"}}},{event:"AUDIO_DECODE_FAIL",payload:function(){return{type:"audio",action:"decode",result:"fail"}}},{event:"VIDEO_ENCODE_SUCCESS",payload:function(){return{type:"video",action:"encode",result:"success"}}},{event:"VIDEO_ENCODE_FAIL",payload:function(){return{type:"video",action:"encode",result:"fail"}}},{event:"VIDEO_DECODE_SUCCESS",payload:function(){return{type:"video",action:"decode",result:"success"}}},{event:"VIDEO_DECODE_FAIL",payload:function(){return{type:"video",action:"decode",result:"fail"}}},{event:"SHARING_ENCODE_SUCCESS",payload:function(){return{type:"share",action:"encode",result:"success"}}},{event:"SHARING_ENCODE_FAIL",payload:function(){return{type:"share",action:"encode",result:"fail"}}},{event:"SHARING_DECODE_SUCCESS",payload:function(){return{type:"share",action:"decode",result:"success"}}},{event:"SHARING_DECODE_FAIL",payload:function(){return{type:"share",action:"decode",result:"fail"}}}]),Zi),ca={success:"VIDEO_CAPTURE_START_SUCCESS",fail:["CAN_NOT_DETECT_CAMERA","CAN_NOT_FIND_CAMERA","VIDEO_USER_FORBIDDEN_CAPTURE","VIDEO_ESTABLISH_STREAM_ERROR","VIDEO_CAMERA_IS_TAKEN"]},da={success:"VIDEO_RENDER_START_SUCCESS",fail:["VIDEO_ENCODE_FAIL","VIDEO_DECODE_FAIL","VIDEO_ESTABLISH_STREAM_ERROR"]},la={success:"SPOTLIGHT_VIDEO_SUCCESS"},pa={success:"CANCEL_SPOTLIGHT_VIDEO_SUCCESS"};!function(e){e.VideoActiveChange="video-active-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDecodeStatusChange="video-decode-status-change",e.VideoEncodeStatusChange="video-encode-status-change",e.VideoDimensionChange="video-dimension-change"}(na||(na={})),function(e){e.Active="Active",e.Inactive="Inactive"}(ra||(ra={})),function(e){e.Muted="Muted",e.Unmuted="Unmuted"}(oa||(oa={})),function(e){e.Active="Active",e.Inactive="Inactive"}(ia||(ia={})),function(e){e.Success="Success",e.Failed="Failed",e.Initial="Initial"}(aa||(aa={})),function(e){e.Started="Started",e.Stopped="Stopped",e.Failed="Failed"}(sa||(sa={}));var fa,ha,va=(i(ta={},na.VideoActiveChange,[{event:"RECEIVE_VIDEO_ACTIVE_INDICATION",payload:function(e){return{state:e.bVideoOn?ra.Active:ra.Inactive,id:e.id}}}]),i(ta,na.VideoCapturingChange,[{event:"VIDEO_CAPTURE_START_SUCCESS",payload:function(){return{state:sa.Started}}},{event:"VIDEO_CAPTURE_STOP_RESULT",payload:function(e){return{state:(null==e?void 0:e.failed)?sa.Failed:sa.Stopped}}}]),i(ta,na.VideoMutedChange,[{event:"RECEIVE_VIDEO_MUTE_INDICATION",payload:function(e){return{state:e.isVideoMuted?oa.Muted:oa.Unmuted,id:e.id}}}]),i(ta,na.AskForStartVideoConsent,[{event:"ASK_FOR_START_VIDEO_CONSENT",payload:function(e){return{state:e.isVideoMuted?oa.Muted:oa.Unmuted,id:e.id}}}]),i(ta,na.VideoSpotlightChange,[{event:"RECEIVE_SPOTLIGHT_STATE_CHANGE",payload:function(e){return{state:e.bLeadershipOn?ia.Active:ia.Inactive,id:e.id}}}]),i(ta,na.VideoDecodeStatusChange,[{event:"VIDEO_DECODE_SUCCESS",payload:function(e){return{state:aa.Success}}},{event:"VIDEO_DECODE_FAIL",payload:function(e){return{state:aa.Failed}}}]),i(ta,na.VideoEncodeStatusChange,[{event:"VIDEO_ENCODE_SUCCESS",payload:function(e){return{state:aa.Success}}},{event:"VIDEO_ENCODE_FAIL",payload:function(e){return{state:aa.Failed}}}]),i(ta,na.VideoDimensionChange,[{event:"RECEIVE_VIDEO_DIMENSION_CHANGE",payload:function(e){return{type:"received",width:e.width,height:e.height}}}]),ta);!function(e){e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed"}(ha||(ha={}));var ya,ga,ma,Ea,Sa={JoinComputerAudio:{success:"AUDIO_CURRENT_USER_JOIN_BY_VOIP",fail:["USER_FORBIDDEN_MICROPHONE","ESTABLISH_AUDIO_STREAM_ERROR"]},LeaveComputerAudio:{success:"AUDIO_CURRENT_USER_LEAVE_AUDIO"},JoinAudioByCallMe:{success:"AUDIO_DIALOUT_RESULT_SUCCESS",fail:["DIALOUT_FAIL"]},cancelDialOut:{success:"AUDIO_DIALOUT_CANCEL_SUCCESS",fail:["DIALOUT_CANCEL_FAIL"]},hangup:{success:"AUDIO_CURRENT_USER_LEAVE_AUDIO"}},ba=(i(fa={},ha.ActiveSpeaker,[{event:"AUDIO_ACTIVE_SPEAKER",payload:function(e){return e}}]),i(fa,ha.UnmuteAudioConsent,[{event:"AUDIO_UNMUTE_CONSENT",payload:function(e){return{reason:e}}}]),i(fa,ha.CurrentAudioChange,[{event:"AUDIO_CURRENT_USER_JOIN_BY_PHONE",payload:function(){return{action:"join",type:"phone"}}},{event:"AUDIO_CURRENT_USER_JOIN_BY_VOIP",payload:function(){return{action:"join",type:"computer"}}},{event:"AUDIO_CURRENT_USER_LEAVE_AUDIO",payload:function(){return{action:"leave"}}},{event:"AUDIO_CURRENT_USER_MUTED",payload:function(e){return{action:"muted",source:e.source}}},{event:"AUDIO_CURRENT_USER_UNMUTED",payload:function(e){return{action:"unmuted",source:e.source}}}]),i(fa,ha.DialoutStateChange,[{event:"AUDIO_DIALOUT_RESULT_CODE",payload:function(e){return e}}]),i(fa,ha.MergeAudio,[{event:"AUDIO_MERGE_AUDIO_INDICATION",payload:function(e){return e}}]),i(fa,ha.AutoPlayFailed,[{event:"AUDIO_AUTO_PLAY_FAILED",payload:function(){}}]),fa);!function(e){e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change"}(ga||(ga={})),function(e){e.Approved="Approved",e.Rejected="Rejected"}(ma||(ma={})),function(e){e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture"}(Ea||(Ea={}));var _a,Aa=(i(ya={},ga.ShareActiveChange,[{event:"SHARE_ACTIVE_INDICATION",payload:function(e){return{state:e.isActive?"Active":"Inactive",activeUserId:e.activeUserId}}}]),i(ya,ga.ShareDimensionChange,[{event:"SHARE_DIMENSION_CHANGE",payload:function(e){return{type:"sended",width:e.width,height:e.height}}},{event:"SHARE_RECEIVED_DIMENSION_CHANGE",payload:function(e){return{type:"received",width:e.width,height:e.height}}}]),i(ya,ga.SharePassiveStop,[{event:"SHARE_VIDEO_STREAMS_END",payload:function(){return{reason:Ea.StopScreenCapture}}},{event:"SHARE_PASSIVE_STOP_SHARE",payload:function(){return{reason:Ea.PrivilegeChange}}}]),i(ya,ga.SharePeerStateChange,[{event:"SHARE_NEW_USER_ADD",payload:function(e){return{activeUserId:e.id,action:"Start"}}},{event:"SHARE_USER_REMOVE",payload:function(e){return{activeUserId:e.id,action:"Stop"}}}]),i(ya,ga.ShareContentChange,[{event:"SHARE_AUTO_CHANGE_SOURCE",payload:function(e){return e}}]),i(ya,ga.RemoteControlApprovedChange,[{event:"SHARE_REMOTE_CONTROL_APPROVE",payload:function(e){return{state:e?ma.Approved:ma.Rejected}}}]),i(ya,ga.RemoteControlInControlChange,[{event:"SHARE_GRAB_REMOTE_CONTROL_CHANGE",payload:function(e){return{isControlling:e}}}]),i(ya,ga.RemoteControlClipboardChange,[{event:"SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",payload:function(e){return e}}]),i(ya,ga.SharePrivilegeChange,[{event:"SHARE_PRIVILEGE_CHANGE",payload:function(e){return{privilege:e}}}]),ya),Ca={success:"QA_SETTING_SUCCESS_EVENT"},Ia={success:"QA_NEW_QUESTION_EVENT"},Oa={success:"QA_NEW_ANSWER_EVENT"},Ta={success:"QA_DISMISS_EVENT"},Ra={success:"QA_VOTE_EVENTS"},wa={success:"QA_LIVE_ANSWER_EVENT"},Na="INVALID_OPERATION",Da="INSUFFICIENT_PRIVILEGES",ka="INVALID_PARAMETERS",Pa=u(u(u(u(u(u(u(u(u({},Ji),{"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:function(e){return e}}]}),{"chat-receive-message":[{event:"CHAT_RECEIVE_MESSAGE_EVENTS",payload:function(e){return e}}],"chat-privilege-change":[{event:"CHAT_PRIVILEGE_CHANGE",payload:function(e){return e}}]}),ea),ba),va),{"qa-message":[{event:"QA_VOTE_EVENTS",payload:function(e){return e}},{event:"QA_DISMISS_EVENT",payload:function(e){return e}},{event:"QA_LIVE_ANSWER_EVENT",payload:function(e){return e}},{event:"QA_NEW_ANSWER_EVENT",payload:function(e){return e}},{event:"QA_NEW_QUESTION_EVENT",payload:function(e){return e}}],"qa-setting":[{event:"QA_SETTING_SUCCESS_EVENT",payload:function(e){return e}}]}),Aa),ua),Ua=(_a=_a||Object.create(null),{on:function(e,t){(_a[e]||(_a[e]=[])).push(t)},off:function(e,t){_a[e]&&_a[e].splice(_a[e].indexOf(t)>>>0,1)},emit:function(e,t){(_a[e]||[]).slice().map((function(e){e(t)})),(_a["*"]||[]).slice().map((function(n){n(e,t)}))}}),Ma=new Map,Va=new Array,ja=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Ua.emit(e,t)},La=function(e){return new Promise((function(n,r){e.fail&&e.fail.length>0?lt(tt(Ua,e.success).pipe(Ot(1)),it.apply(void 0,v(e.fail.map((function(e){return tt(Ua,e).pipe(Ot(1),ze((function(t){return Ee({type:e,payload:t})})))}))))).subscribe((function(e){return n(e)}),(function(e){"object"===t(e.payload)?r(u({type:e.type},e.payload)):void 0===e.payload?r({type:e.type}):r(e)})):tt(Ua,e.success).pipe(Ot(1)).subscribe((function(e){return n(e)}))}))},Ha=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Promise((function(r,o){var i=le;"string"==typeof e?i=tt(Ua,e).pipe(Ot(1)):(i=tt(Ua,e.event),e.operations&&(i=e.operations.reduce((function(e,t){return e.pipe(t)}),i))),lt(i,ht(n).pipe(kt(Ee("timeout")))).subscribe((function(e){if(t){var n=t(e);"boolean"==typeof n?n?r(""):o({type:"INTERNAL_ERROR"}):0===n.ret?r(n.body):o({type:"INTERNAL_ERROR"})}else r(e)}),(function(){o({type:"OPERATION_TIMEOUT"})}))}))},xa=function(e,t){return void 0!==t?tt(Ua,e).pipe(Ot(t)):tt(Ua,e)},Fa=function(){Va.forEach((function(e){e.unsubscribe()})),Ma.clear()},Ga=hn((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()})),Ba="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Wa=new Uint8Array(16);function qa(){if(!Ba)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ba(Wa)}for(var Ka=[],za=0;za<256;++za)Ka.push((za+256).toString(16).substr(1));function Qa(e,t,n){var r=(e=e||{}).random||(e.rng||qa)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e,t){return(Ka[e[0]]+Ka[e[1]]+Ka[e[2]]+Ka[e[3]]+"-"+Ka[e[4]]+Ka[e[5]]+"-"+Ka[e[6]]+Ka[e[7]]+"-"+Ka[e[8]]+Ka[e[9]]+"-"+Ka[e[10]]+Ka[e[11]]+Ka[e[12]]+Ka[e[13]]+Ka[e[14]]+Ka[e[15]]).toLowerCase()}(r)}var Ja,Xa,Ya=fi.WebclientIsOnHold,Za=fi.WebclientOpt,$a=fi.WebclientParticipantId,es=fi.WebclientZoomId,ts=fi.WebclientWebinarToken,ns=hi.WebclientDeviceId,rs=Si.createAgent(),os=Object.freeze({__proto__:null,connectZoomSocketEpic:function(e,t){return e.pipe(Jt("".concat(yr)),Bt(t),st((function(e){return"closed"===h(e,2)[1].socket.zoomSocketStatus})),Vi((function(e){var t,n,r=h(e,2)[1],o=r.socket,i=o.retryCount,a=o.rwgServerList,s=r.meeting;if(t=s.zlkJwtToken?function(e){var t=e.passWord,n=e.meetingNumber,r=e.userName,o=e.topic,i=e.trackAuth,a=e.tid,s=e.meetingId,u=e.ts,c=e.auth,d=e.lang,l=e.retryCount,p=e.rwgServerList,f=e.cv,h=e.zlkJwtToken,v=Ga.get("_zm_mtk_guid"),y=gi.get(ns);if(y||(y=Qa(),gi.set(ns,y,Po.LocalStorage)),p.length>l){var g=p[l],m={dn2:yn(r),topic:yn(o),auth:c,browser:_n(),trackAuth:i,mid:s,tid:a,lang:d,ts:u,"ZM-CID":y,_ZM_MTG_TRACK_ID:v||"",iccv:f,cfs:0,zlkJwtToken:h};""!==t&&(m=Object.assign(m,{mpwd:yn(t)})),g.rwcAuth?m=Object.assign(m,{rwcAuth:g.rwcAuth}):g.rwcToken&&(m=Object.assign(m,{rwcToken:g.rwcToken}));var E=2;return On()?E=1:Tn()&&(E=0),m=Object.assign(m,{as_type:E}),[{key:$a,queryKey:"participantID"},{key:es,queryKey:"zoomid"}].forEach((function(e){var t=gi.get(e.key);void 0!==t&&(m[e.queryKey]=t)})),"wss://".concat(g.rwg,"/instantsdk/").concat(n,"?").concat(new URLSearchParams(m).toString())}return null}(u(u({},s),{},{retryCount:i,rwgServerList:a})):function(e){var t=e.isHost,n=e.passWord,r=e.meetingNumber,o=e.userName,i=e.zak,a=e.trackAuth,s=e.tid,u=e.sign,c=e.meetingId,d=e.ts,l=e.auth,p=e.lang,f=e.tk,h=e.retryCount,v=e.rwgServerList,y=e.userEmail,g=e.cv,m=Ga.get("_zm_mtk_guid"),E=gi.get(ns);if(E||(E=Qa(),gi.set(ns,E,Po.LocalStorage)),v.length>h){var S=v[h],b={dn2:yn(o),auth:l,sign:u,browser:_n(),trackAuth:a,mid:c,tid:s,email:y,lang:p,zak:i||"",tk:f||"",ts:d,"ZM-CID":E,_ZM_MTG_TRACK_ID:m||"",jscv:g,cfs:0};t||""===n||(b=Object.assign(b,{mpwd:n})),S.rwcAuth?b=Object.assign(b,{rwcAuth:S.rwcAuth}):S.rwcToken&&(b=Object.assign(b,{rwcToken:S.rwcToken}));var _=2;return On()?_=1:Tn()&&(_=0),b=Object.assign(b,{as_type:_}),[{key:Ya,queryKey:"cfs"},{key:Za,queryKey:"opt"},{key:$a,queryKey:"participantID"},{key:es,queryKey:"zoomid"},{key:ts,queryKey:"tk"}].forEach((function(e){var t=gi.get(e.key);void 0!==t&&(b[e.queryKey]=t)})),"wss://".concat(S.rwg,"/wc/api/").concat(r,"?").concat(new URLSearchParams(b).toString())}return null}(u(u({},s),{},{retryCount:i,rwgServerList:a}))){var c=(n=t,rs.connect(n),Ja=new re,nt((function(e){return rs.on(vi.Message,e)}),(function(e){return rs.off(vi.Message,e)}),(function(e){return e.data})).subscribe(Ja),Ja);return it(c.pipe(st((function(e){return"string"==typeof e})),Ve((function(e){return JSON.parse(e)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return function(t){return new Z((function(n){var r=new Map,o=0,i=null,a=e.period,s=e.rules,u=null;i||(i=xi((function(){o=0}),a));var c=Object.keys(Gi),d=t.subscribe({next:function(e){if(e&&e.evt&&null!==i){o+=1;var t=e.evt,a=e.body,d=String(t);if(c.indexOf(d)>=0)if(u){var l=r.get(d);if(l)l.onThrottle(a);else{var p=Gi[d]();p.onThrottle(a),r.set(d,p)}}else{var f=0;if(s.forEach((function(e){o>e.peak&&(f=e.throttle)})),f>0){var h=Gi[d]();h.onThrottle(a),r.set(d,h),u=setTimeout((function(){r.forEach((function(e,t){var r={evt:Number(t),body:e.payloads};n.next(r)})),r.clear(),u=null}),f)}else n.next(e)}else n.next(e)}else n.next(e)},error:function(e){n.error(e)},complete:function(){n.complete()}});return function(){d.unsubscribe(),i&&(i(),i=null),o=0}}))}}(),Ui((function(e){return 0===e.evt?void(e.body&&"invalid parameters!"===e.body.test&&ja("JOIN_MEETING_FAILED",{reason:"invalid parameters"})):br(e)})),Pt(Ir("connecting"))),c.pipe(st((function(e){return e instanceof ArrayBuffer})),Ve((function(e){return _r(e)}))))}})))},connectedZoomSocketEpic:function(e,t){return e.pipe(Jt("".concat(yr)),jt((function(){var e=h([vi.Open,vi.Close,vi.Error].map((function(e){return nt((function(t){return rs.on(e,t)}),(function(t){return rs.on(e,t)}))})),3),n=e[0],r=e[1],o=e[2];return it(n.pipe(ze((function(){return it(me(Ir("connected")),ht(6e4).pipe(Bt(t),st((function(e){var t=h(e,2)[1];return"initial"===t.meeting.meetingStatus&&!t.meeting.isMeetingReset})),Ve((function(){return ja("RECONNECTING_MEETING",{reason:"failover"}),Go()}))))}))),r.pipe(Bt(t),st((function(e){var t=h(e,2)[1];return"closed"!==t.socket.zoomSocketStatus&&"joined"===t.meeting.meetingStatus&&!t.meeting.isMeetingReset})),Ve((function(){return ja("RECONNECTING_MEETING",{reason:"failover"}),Go()}))),o.pipe(Bt(t),Ui((function(e){var t=h(e,2)[1],n=t.meeting,r=n.meetingStatus,o=n.isMeetingReset,i=t.socket.retryCount;return"initial"===r?Tr(i+1):o?void 0:(ja("RECONNECTING_MEETING",{reason:"failover"}),Go())}))))})))},disconnectZoomSocketEpic:function(e){return e.pipe(Jt("".concat(mr)),ze((function(e){return e.payload&&e.payload.retry?me(yr()).pipe(_t(1e3),Pt(Ir("closed"))):me(Ir("closed"))})),xt((function(){var e;rs.close(),null===(e=Ja)||void 0===e||e.complete()})))}}),is=ki.getInstance(),as=function(e,t){return e.pipe(Jt("".concat(Sr)),Bt(t),ze((function(e){var t=h(e,2)[1].media.assetsPath;return Ke(new Promise((function(e,n){pi("".concat(t,"/webim.min.js"),(function(){e()}),(function(){n()}))}))).pipe(wt(wr(!0)),yt((function(e){return me(wr(!1))})))})))},ss=Object.freeze({__proto__:null,loadWebIMEpic:as,connectXMPPSocketEpic:function(e,t){return e.pipe(Jt("".concat(gr)),Bt(t),st((function(e){return"closed"===h(e,2)[1].socket.xmppSocketStatus})),Vi((function(t){var n=h(t,2)[1],r=n.meeting,o=r.svcUrl,i=r.meetingNumber,a=r.conId,s=r.jid,u=r.userName,c=n.socket.isXmppSDKLoaded,d=Cn()&&In()?3:2,l=me(c);return!1===c&&(l=e.pipe(Jt("".concat(wr)),Ot(1))),l.pipe(ze((function(e){var t;return e?(t={svcUrl:o,meetingNumber:i,conId:a,jid:s,userName:u,clientCap:d},is.connect(t),Xa=new re,nt((function(e){return is.registerCallback(e)}),(function(e){return is.unregisterCallback(e)}),(function(e,t){return{event:e,data:t}})).subscribe(Xa),Xa).pipe(Ve((function(e){return Ar(e)})),Pt(Rr("connecting"))):Ee("webim load fail")})))})))},connectedXmppSocketEpic:function(e,t){return e.pipe(Jt("".concat(Rr)),st((function(e){return"connecting"===e.payload})),Vi((function(){if(Xa){var e=Xa.pipe(st((function(e){return"CONNECTED"===e.event}))),n=Xa.pipe(st((function(e){return"DISCONNECTED"===e.event})));return it(e.pipe(ze((function(){return me(Rr("connected"))}))),n.pipe(Bt(t),st((function(e){var t=h(e,2)[1];return"closed"!==t.socket.xmppSocketStatus&&"joined"===t.meeting.meetingStatus&&!t.meeting.isMeetingReset})),Ve((function(){return ja("RECONNECTING_MEETING","failover"),Go()}))))}})))},disconnectXmppSocketEpic:function(e){return e.pipe(Jt("".concat(Er)),wt(Rr("closed")),xt((function(){var e;is.disconnect(),null===(e=Xa)||void 0===e||e.complete()})))}});function us(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function cs(e){return!!e&&!!e[Ks]}function ds(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[qs]||!!e.constructor[qs]||vs(e)||ys(e))}function ls(e,t,n){void 0===n&&(n=!1),0===ps(e)?(n?Object.keys:zs)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function ps(e){var t=e[Ks];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:vs(e)?2:ys(e)?3:0}function fs(e,t){return 2===ps(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hs(e,t,n){var r=ps(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function vs(e){return Fs&&e instanceof Map}function ys(e){return Gs&&e instanceof Set}function gs(e){return e.o||e.t}function ms(e){if(Array.isArray(e))return e.slice();var t=Qs(e);delete t[Ks];for(var n=zs(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Es(e,t){bs(e)||cs(e)||!ds(e)||(ps(e)>1&&(e.set=e.add=e.clear=e.delete=Ss),Object.freeze(e),t&&ls(e,(function(e,t){return Es(t,!0)}),!0))}function Ss(){us(2)}function bs(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _s(e){var t=Js[e];return t||us(19,e),t}function As(){return Hs}function Cs(e,t){t&&(_s("Patches"),e.u=[],e.s=[],e.v=t)}function Is(e){Os(e),e.p.forEach(Rs),e.p=null}function Os(e){e===Hs&&(Hs=e.l)}function Ts(e){return Hs={p:[],l:Hs,h:e,m:!0,_:0}}function Rs(e){var t=e[Ks];0===t.i||1===t.i?t.j():t.g=!0}function ws(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||_s("ES5").S(t,e,r),r?(n[Ks].P&&(Is(t),us(4)),ds(e)&&(e=Ns(t,e),t.l||ks(t,e)),t.u&&_s("Patches").M(n[Ks],e,t.u,t.s)):e=Ns(t,n,[]),Is(t),t.u&&t.v(t.u,t.s),e!==Ws?e:void 0}function Ns(e,t,n){if(bs(t))return t;var r=t[Ks];if(!r)return ls(t,(function(o,i){return Ds(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ks(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=ms(r.k):r.o;ls(o,(function(t,i){return Ds(e,r,o,t,i,n)})),ks(e,o,!1),n&&e.u&&_s("Patches").R(r,n,e.u,e.s)}return r.o}function Ds(e,t,n,r,o,i){if(cs(o)){var a=Ns(e,o,i&&t&&3!==t.i&&!fs(t.D,r)?i.concat(r):void 0);if(hs(n,r,a),!cs(a))return;e.m=!1}if(ds(o)&&!bs(o)){if(!e.h.N&&e._<1)return;Ns(e,o),t&&t.A.l||ks(e,o)}}function ks(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&Es(t,n)}function Ps(e,t){var n=e[Ks];return(n?gs(n):e)[t]}function Us(e){e.P||(e.P=!0,e.l&&Us(e.l))}function Ms(e){e.o||(e.o=ms(e.t))}function Vs(e,t,n){var r=vs(t)?_s("MapSet").T(t,n):ys(t)?_s("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:As(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Xs;n&&(o=[r],i=Ys);var a=Proxy.revocable(o,i),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):_s("ES5").J(t,n);return(n?n.A:As()).p.push(r),r}function js(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ms(e)}var Ls,Hs,xs="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Fs="undefined"!=typeof Map,Gs="undefined"!=typeof Set,Bs="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ws=xs?Symbol("immer-nothing"):((Ls={})["immer-nothing"]=!0,Ls),qs=xs?Symbol("immer-draftable"):"__$immer_draftable",Ks=xs?Symbol("immer-state"):"__$immer_state",zs="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Qs=Object.getOwnPropertyDescriptors||function(e){var t={};return zs(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Js={},Xs={get:function(e,t){if(t===Ks)return e;var n=gs(e);if(!fs(n,t))return function(e,t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var o,i=Object.getOwnPropertyDescriptor(r,n);if(i)return"value"in i?i.value:null===(o=i.get)||void 0===o?void 0:o.call(e.k);r=Object.getPrototypeOf(r)}}(e,n,t);var r=n[t];return e.I||!ds(r)?r:r===Ps(e.t,t)?(Ms(e),e.o[t]=Vs(e.A.h,r,e)):r},has:function(e,t){return t in gs(e)},ownKeys:function(e){return Reflect.ownKeys(gs(e))},set:function(e,t,n){if(e.D[t]=!0,!e.P){if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,Ps(gs(e),t))&&void 0!==n)return!0;Ms(e),Us(e)}return e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==Ps(e.t,t)||t in e.t?(e.D[t]=!1,Ms(e),Us(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=gs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){us(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){us(12)}},Ys={};ls(Xs,(function(e,t){Ys[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ys.deleteProperty=function(e,t){return Xs.deleteProperty.call(this,e[0],t)},Ys.set=function(e,t,n){return Xs.set.call(this,e[0],t,n,e[0])};var Zs,$s,eu,tu,nu,ru=new(function(){function e(e){this.O=Bs,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var i;if("function"!=typeof t&&us(6),void 0!==n&&"function"!=typeof n&&us(7),ds(e)){var a=Ts(this),s=Vs(this,e,void 0),u=!0;try{i=t(s),u=!1}finally{u?Is(a):Os(a)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Cs(a,n),ws(e,a)}),(function(e){throw Is(a),e})):(Cs(a,n),ws(i,a))}if(!e||"object"!=typeof e){if((i=t(e))===Ws)return;return void 0===i&&(i=e),this.N&&Es(i,!0),i}us(21,e)},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){ds(e)||us(8),cs(e)&&(e=function(e){return cs(e)||us(22,e),function e(t){if(!ds(t))return t;var n,r=t[Ks],o=ps(t);if(r){if(!r.P&&(r.i<4||!_s("ES5").K(r)))return r.t;r.I=!0,n=js(t,o),r.I=!1}else n=js(t,o);return ls(n,(function(t,o){r&&function(e,t){return 2===ps(e)?e.get(t):e[t]}(r.t,t)===o||hs(n,t,e(o))})),3===o?new Set(n):n}(e)}(e));var t=Ts(this),n=Vs(this,e,void 0);return n[Ks].C=!0,Os(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ks]).A;return Cs(n,t),ws(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!Bs&&us(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=_s("Patches").$;return cs(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),ou=ru.produce,iu=(ru.produceWithPatches.bind(ru),ru.setAutoFreeze.bind(ru),ru.setUseProxies.bind(ru),ru.applyPatches.bind(ru),ru.createDraft.bind(ru),ru.finishDraft.bind(ru),{zoomSocketStatus:"closed",isXmppSDKLoaded:!1,xmppSocketStatus:"closed",retryCount:0,rwgServerList:[]}),au=vr((i(Zs={},"".concat(Ir),ou((function(e,t){var n=t.payload;e.zoomSocketStatus=n}))),i(Zs,"".concat(Or),ou((function(e,t){var n=t.payload,r=e.rwgServerList;r.find((function(e){return e===n.rwg}))||r.push(n)}))),i(Zs,"".concat(Tr),ou((function(e,t){var n=t.payload;e.retryCount=n}))),i(Zs,"".concat(Rr),ou((function(e,t){var n=t.payload;e.xmppSocketStatus=n}))),i(Zs,"".concat(wr),ou((function(e,t){var n=t.payload;e.isXmppSDKLoaded=n}))),i(Zs,"".concat(Nr),(function(){return iu})),Zs),iu),su=Wr(os,ss),uu=ur((i($s={},"SET_ATTENDEES_LIST",(function(e){return e})),i($s,"SET_XMPP_ATTENDEE_LIST",(function(e){return e})),i($s,"RESET_PARTICIPANTS",(function(){return{}})),i($s,"SET_IS_ADMIT_ALL_SILENT_USERS",(function(e){return e})),i($s,"REMOVE_FAILOVER_ATTENDEES",(function(e){return e})),i($s,"ADD_FAILOVER_ATTENDEES",(function(e){return e})),i($s,"SET_CLEAR_RAISE_HAND",(function(){return{}})),i($s,"SET_CLEAR_ATTENDEE_FEEDBACK",(function(){return{}})),$s)),cu=uu.setAttendeesList,du=uu.setXmppAttendeeList,lu=uu.setIsAdmitAllSilentUsers,pu=uu.resetParticipants,fu=uu.addFailoverAttendees,hu=uu.removeFailoverAttendees,vu=uu.setClearRaiseHand,yu=uu.setClearAttendeeFeedback;!function(e){e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk"}(eu||(eu={})),function(e){e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee"}(tu||(tu={})),function(e){e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323"}(nu||(nu={}));var gu,mu=function(e){return(e&eu.Host)===eu.Host},Eu=function(e){return(e&nu.Phone)===nu.Phone},Su=function(e){return e===eu.ViewOnlyCanTalk},bu=function(e){return(e&eu.ViewOnly)===eu.ViewOnly},_u={id:"userId",type:function(e){return Eu(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e}},role:function(e){return{userRole:e,isHost:mu(e)}},dn2:function(e){return{displayName:gn(e)}},bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:function(e){return{bLocalRecord:1===e}},bGuest:"isGuest"},Au=Object.freeze({__proto__:null,updateAttendeesEpic:function(e,t){return qr(e,7937).pipe(Ve((function(e){return t=e.payload.body,n={},["add","remove","update"].forEach((function(e){null!==t[e]&&void 0!==t[e]&&(n[e]=t[e].reduce((function(e,t){var n=Object.keys(t).reduce((function(e,n){var r=_u[n];return"function"==typeof r?Object.assign(e,r(t[n])):"string"==typeof r?e[r]=t[n]:e[n]=t[n],e}),{}),r=e.find((function(e){return e.userId===n.userId}));return void 0!==r?Object.assign(r,n):e.push(n),e}),[]))})),n;var t,n})),Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=[cu(n)],i=r.meeting.userId,a=r.participants,s=a.attendeesList,c=a.failoverAttendeesList;if(n.add){var d=n.add.find((function(e){return e.userId===i}));void 0!==d&&ja("ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",d);var l=n.add.filter((function(e){return e.userId!==i}));if(l.length>0){var p=l.filter((function(e){return!Su(e.userRole)})).map((function(e){var t=c.find((function(t){return t.zoomID===e.zoomID}));return t?u(u({},e),{},{source:t.isOnHold?"on hold":"failover"}):e})),f=p.filter((function(e){return!!e.source})).map((function(e){return{zoomID:e.zoomID}}));o.push(hu(f)),ja("ADD_USER_PARTICIPANT_ATTRIBUTE",p)}}if(n.update){var v=n.update.find((function(e){return e.userId===i}));void 0!==v&&ja("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",v);var y=n.update.filter((function(e){return e.userId!==i}));y.length>0&&ja(Bi,y)}if(n.remove){var g=n.remove.map((function(e){var t=s.find((function(t){return t.userId===e.userId}));return t?2===e.action&&1===e.nUserStatus?t.bHold?(o.push(fu({zoomID:t.zoomID,isOnHold:!0})),u(u({},e),{},{reason:"on hold"})):(o.push(fu({zoomID:t.zoomID,isOnHold:!1})),u(u({},e),{},{reason:"failover"})):e:null})).filter((function(e){return!!e}));ja("REMOVE_USER_PARTICIPANT_ATTRIBUTE",g)}return Ke(o)})))},receiveUserListFromXMPPEpic:function(e){return Kr(e,Ni).pipe(st((function(e){return e.payload.data.action===Ri.MemberChange})),xt((function(e){ja("UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",e.payload.data.data)})),Ve((function(e){return du(e.payload.data.data)})))},handleAdmitAllSilentUsersEpic:function(e){return qr(e,7951).pipe(xt((function(e){!1===e.payload.body.bStarted&&ja("ADMIT_ALL_SILENT_USERS_END",e.payload.body.bStarted)})),Ve((function(e){return lu(e.payload.body.bStarted)})))},handleKVUpdateIndicationEpic:function(e){return qr(e,7946).pipe(st((function(e){return["bRaiseHand","feedback"].indexOf(e.payload.body.key)>-1&&0===e.payload.body.value})),Ve((function(e){return ja(Bi,{}),void 0!==e.payload.body.bRaiseHand?vu():yu()})))}}),Cu={attendeesList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},Iu=vr((i(gu={},"".concat(cu),ou((function(e,t){var n=t.payload;void 0!==n.add&&n.add.length>0&&n.add.forEach((function(t){var n=e.attendeesList.find((function(e){return e.userId===t.userId}));if(void 0!==n)Object.assign(n,t);else{var r=e.allowTalkAttendeesList.find((function(e){return e.userId===t.userId}));void 0!==r?Object.assign(r,t):Su(t.userRole)?e.allowTalkAttendeesList.push(t):e.attendeesList.push(t)}})),void 0!==n.update&&n.update.length>0&&n.update.forEach((function(t){var n=e.attendeesList.find((function(e){return e.userId===t.userId}));if(void 0!==n)Object.assign(n,t);else{var r=e.allowTalkAttendeesList.find((function(e){return e.userId===t.userId}));void 0!==r&&Object.assign(r,t)}})),void 0!==n.remove&&n.remove.length>0&&n.remove.forEach((function(t){var n=e.attendeesList.findIndex((function(e){return e.userId===t.userId}));if(-1!==n)e.attendeesList.splice(n,1);else{var r=e.allowTalkAttendeesList.findIndex((function(e){return e.userId===t.userId}));-1!==r&&e.allowTalkAttendeesList.splice(r,1)}}))}))),i(gu,"".concat(du),ou((function(e,t){var n=t.payload;e.xmppAttendeeList=n.map((function(e){return u(u({},e),{},{displayName:e.name,userId:Number(e.node),userRole:Number(e.role)})}))}))),i(gu,"".concat(lu),ou((function(e,t){var n=t.payload;e.isAdmitAllSilentUsers=n}))),i(gu,"".concat(vu),ou((function(e){e.attendeesList.forEach((function(e){!0===e.bRaiseHand&&(e.bRaiseHand=!1)}))}))),i(gu,"".concat(yu),ou((function(e){e.attendeesList.forEach((function(e){e.feedback>0&&(e.feedback=0)}))}))),i(gu,"".concat(fu),ou((function(e,t){var n=t.payload;e.failoverAttendeesList.push(n)}))),i(gu,"".concat(hu),ou((function(e,t){t.payload.forEach((function(t){var n=e.failoverAttendeesList.findIndex((function(e){return e.zoomID===t.zoomID}));-1!==n&&e.failoverAttendeesList.splice(n,1)}))}))),i(gu,"".concat(pu),(function(){return Cu})),gu),Cu);function Ou(e,t){return e===t}function Tu(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function Ru(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var wu,Nu=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),s=Ru(r),u=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),c=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=a,c.dependencies=s,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ou,n=null,r=null;return function(){return Tu(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}})),Du=function(e){return e.participants.attendeesList},ku=function(e){return e.meeting.userId},Pu=Nu([ku,Du],(function(e,t){return t.find((function(t){return t.userId===e}))})),Uu=Nu([Pu],(function(e){return(null==e?void 0:e.isHost)||(null==e?void 0:e.bCoHost)})),Mu=Nu([Pu],(function(e){return null==e?void 0:e.isHost})),Vu=Nu([function(e){return e.participants.xmppAttendeeList}],(function(e){return e.filter((function(e){return e.userRole===tu.Attendee}))})),ju=Nu([Du],(function(e){return e.filter((function(e){return e.bHold&&!e.bid}))})),Lu=Nu([Du],(function(e){return e.filter((function(e){return!e.bHold&&!e.bid}))})),Hu=Nu([Lu],(function(e){return e.find((function(e){return e.isHost}))})),xu=Nu([Lu],(function(e){return e.filter((function(e){return e.sharerOn}))})),Fu=Wr(Au);function Gu(e,t,n,r){var o=document.createElement("div"),i="\n    #".concat("__zoom-overlayer__","{\n      position: fixed;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      z-index: 9999;\n      justify-content: center;\n      align-items: center;\n      display: flex;\n      background: rgba(0,0,0,0.8);\n    }\n    .").concat("__zoom-overlayer-section__","{\n      width:360px;\n      display:flex;\n      flex-direction:column;\n      align-items:center;\n    }\n    .").concat("__zoom-overlayer-title__","{\n      font-size:24px;\n      margin:20px 0;\n      text-align:center;\n      color:#fff;\n    }\n    .").concat("__zoom-overlayer-button__","{\n      display:inline-block;\n      height:40px;\n      border-radius:8px;\n      border: 1px solid #babacc;\n      background: #fff;\n      line-height:40px;\n      text-align:center;\n      min-width:200px;\n      padding:0 15px;\n    }\n    .").concat("__zoom-overlayer-button__",":hover{\n      background: #e7f1fd;\n      color: #295ebd;\n      border-color: #cfe3fb;\n    }\n    .").concat("__zoom-overlayer-loading__","{\n      font-size:14px;\n      color:#fff;\n    }\n    .").concat("__zoom-overlayer-loading-dots__","{\n      display:inline-block;\n      height:12px;\n      overflow:hidden;\n      width:15px;\n    }\n    @keyframes ellipsis {\n      to {\n        width: 1.25em;    \n      }\n    }\n    .").concat("__zoom-overlayer-loading-dots__",'::after{\n      margin-left:3px;\n      overflow: hidden;\n      display: inline-block;\n      vertical-align: bottom;\n      animation: ellipsis steps(4,end) 900ms infinite;\n      content: "";\n      width: 0px;\n    }\n  ');o.style.cssText="",o.id="__zoom-overlayer__";var a=document.createElement("div");a.classList.add("__zoom-overlayer-section__");var s=document.createElement("style");s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i));var u=document.createElement("h1");u.textContent=t,u.classList.add("__zoom-overlayer-title__");var c,d=document.createElement("button");return d.textContent=n,d.classList.add("__zoom-overlayer-button__"),a.appendChild(u),a.appendChild(d),o.appendChild(s),o.appendChild(a),document.body.appendChild(o),tt(d,"click").pipe((void 0===c&&(c=Pe),function(e){return e.lift(new Et(300,c))}),xt((function(){if(!1===r.meeting.isWindowOpen){wu=function(e,t,n,r){var o=window.screen,i=o.width,a=o.height,s=window.screenX+(i-400)/2,u=window.screenY+(a-380)/2;return window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no,\n   copyhistory=no, width=".concat(400,", height=").concat(380,", top=").concat(u,", left=").concat(s))}(e,t),o.querySelector(".".concat("__zoom-overlayer-section__")).style.display="none";var n=o.querySelector(".".concat("__zoom-overlayer-loading__"));if(n)n.style.display="block";else{(n=document.createElement("div")).classList.add("__zoom-overlayer-loading__");var i=document.createElement("p");i.textContent="Try to ".concat(t);var a=document.createElement("span");a.classList.add("__zoom-overlayer-loading-dots__"),i.appendChild(a),n.appendChild(i),o.appendChild(n)}}})))}function Bu(){return tt(window,"message").pipe(st((function(e){return Object.values(ko).includes(e.data.type)})),xt((function(e){var t=e.data;if(t&&t.type){var n=t.type;if([ko.CaptchaSuccess,ko.LoginSuccess,ko.SSOLoginSuccess,ko.JoinSuccess,ko.RegisterSuccess].includes(n)){var r,o=document.getElementById("__zoom-overlayer__");null==o||null===(r=o.parentNode)||void 0===r||r.removeChild(o)}}})),Ve((function(e){return e.data})))}function Wu(e){if(e){var t=e.meeting;return{apiKey:t.apiKey,signature:t.signature,meetingNumber:t.meetingNumber,userId:t.userId,userName:t.userName,lang:t.lang,passWord:t.passWord,userEmail:t.userEmail,sdkUrl:t.sdkUrl,sdkOrigin:t.sdkOrigin,proxy:t.proxy,cv:t.cv,ztk:t.zak}}return null}var qu,Ku,zu,Qu,Ju=function(e,t){if(e.result){var n=e.result,r=n.meetingNumber,o=n.userName,i=n.userEmail,a=n.passWord,s=n.support_call_out,u=n.toll_numbers_json,c=n.can_recording,d=n.call_out_country_json,l=n.invite_email,p=n.wcXMPPConfig,f=n.ts,h=n.auth,v=n.sign,y=n.supportH323,g=n.h323GatewayInfo,m=n.h323Password,E=n.otherTelInfo,S=n.track_auth,b=n.mid,_=n.tid,A=n.isSupportQA,C=n.encryptedRWC,I=n.meetingTopic,O=n.ccUrl,T=n.meetingOptions,R=n.isWebinar,w=n.optionAudioType,N=n.isOriginHost;return{meetingNumber:r,userName:gi.get(fi.WebclientUserName)||o,userEmail:i,meetingId:b,tid:_,ts:f,auth:h,sign:v,passWord:a,isSupportCallOut:s,tollNumbers:JSON.parse(u||"{}"),recordingEnable:c,callOutCountry:JSON.parse(d||"{}"),inviteEmail:l,xmppConfig:JSON.parse(p||"{}"),isSupportH323:y,h323GatewayInfo:g,h323Password:m,trackAuth:S,isOriginHost:"true"===N,isWebinar:"1"===R,encryptedRWC:JSON.parse(C||"{}"),meetingOptions:JSON.parse(T||"{}"),meetingTopic:I,isSupportQA:"true"===A,otherTelInfo:E,optionAudioType:w,ccUrl:O,cv:t.cv,sdkOrigin:t.sdkOrigin,sdkUrl:t.sdkUrl,proxy:t.proxy}}return e},Xu=function(e,t){if(e.result){var n=e.result,r=n.mn,o=n.ts,i=n.auth,a=n.track_auth,s=n.mid,u=n.tid,c=n.encryptedRWC,d=n.meetingOptions,l=t.lang,p=t.password,f=t.topic,h=t.zlk,v=t.cv,y=t.userName;return{meetingNumber:r,meetingId:s,tid:u,ts:o,auth:i,passWord:p,trackAuth:a,encryptedRWC:JSON.parse(c||"{}"),meetingOptions:JSON.parse(d||"{}"),topic:f,userName:y,cv:v,zlkJwtToken:h,lang:l}}return e},Yu=function(e,t,n,r,o){return"https://".concat(e,"/wc/ping/").concat(t,"?ts=").concat(r,"&auth=").concat(encodeURIComponent(o),"&rwcToken=").concat(encodeURIComponent(n),"&dmz=1")},Zu=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.socket,r=n.zoomSocketStatus,o=n.xmppSocketStatus,i=e.meeting.meetingStatus,a=[ci("closed")];if("joined"===i){var s=Ti.getInstance(),u=Si.createAgent();if(s.disconnect(),s.desroy(),e.video&&e.video.isReceivingVideo&&u.unsubscribeVideo(1),e.share&&e.share.isReceiveSharing){var c=e.share.activeNodeId;e.share.isRemoteControlApproved&&u.sharingRequestRemoteControl(c,!1),u.unsubscribeSharing(c)}}return t||gi.clearSession(),"closed"!==r&&a.push(mr()),"closed"!==o&&a.push(Er()),a},$u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ha.apply(void 0,[{event:Bi,operations:[Ve((function(t){return t.find((function(t){return t.userId===e}))})),st((function(e){return!!e})),Ot(1)]}].concat(n))},ec=function(e,t){return e.pipe(Jt("".concat(Lo)),Bt(t),jt((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.token;return it(Gu(_o+o,"Sign in","Sign in",r).pipe(Ve((function(){return Qo(!0)}))),Bu().pipe(Ot(1),Mi((function(e){if(e.type===ko.LoginSuccess){var t=e.zak,n=Wu(r);return Object.assign(n,{ztk:t}),me(Xo(t),Vo(n))}}))))})))},tc=function(e,t){return e.pipe(Jt("".concat(Ho)),Bt(t),jt((function(e){var t=h(e,2),n=t[0],r=t[1];return it(Gu(n.payload.url,"Check captcha","Check Capcha",r).pipe(Ve((function(){return Qo(!0)}))),Bu().pipe(Ot(1),Ui((function(e){if(e.type===ko.CaptchaSuccess){var t=e.captcha,n=e.captchaName,o=Wu(r);return Object.assign(o,{captcha:t,captchaName:n}),Vo(o)}}))))})))},nc=function(e,t){return e.pipe(Jt("".concat(xo)),Bt(t),jt((function(e){var t=h(e,2),n=t[0],r=t[1];return it(Gu(n.payload.url,"Sign in","Sign in SSO",r).pipe(Ve((function(){return Qo(!0)}))),Bu().pipe(Ot(1),Mi((function(e){if(e.type===ko.SSOLoginSuccess){var t=e.tk,n=e.mtkGuid,o=Wu(r);return Object.assign(o,{tk:t}),me(Yo({tk:t,mtkGuid:n}),Vo(o))}}))))})))},rc=function(e,t){return e.pipe(Jt("".concat(qo)),Bt(t),jt((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.url,i={callback:location.origin,fm:"WebSDK",lang:r.meeting.lang,email:r.meeting.userEmail};return it(Gu("".concat(o,"?").concat(new URLSearchParams(i).toString()),"Join","Register on webinar",r).pipe(Ve((function(){return Qo(!0)}))),Bu().pipe(Ot(1),Mi((function(e){if(e.type===ko.JoinSuccess||e.type===ko.RegisterSuccess){var t=Wu(r);return me(Vo(t))}}))))})))},oc=Object.freeze({__proto__:null,logonZoomDomainEpic:ec,verifyZoomRecaptchaEpic:tc,logonSSODomainEpic:nc,registerWebinarEpic:rc,checkWindowIsOpenEpic:function(e){return e.pipe(Jt("".concat(Qo)),Vi((function(e){if(!0===e.payload)return function(){return(e=500,void 0===e&&(e=0),void 0===t&&(t=Pe),(!rt(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Pe),new Z((function(n){return n.add(t.schedule(ot,e,{subscriber:n,counter:0,period:e})),n}))).pipe(st((function(){var e;return!!(null===(e=wu)||void 0===e?void 0:e.closed)})),Ot(1),xt((function(){wu=null;var e=document.getElementById("__zoom-overlayer__");e&&(e.querySelector(".".concat("__zoom-overlayer-section__")).style.display="flex",e.querySelector(".".concat("__zoom-overlayer-loading__")).style.display="none")})));var e,t}().pipe(Ve((function(){return Qo(!1)})))})))}}),ic=ur("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_IS_HOST_MUTE_ALL","SET_IS_ACTIVE_OPERATION","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING"),ac=ic.setAsnIds,sc=ic.setIsCanUnmute,uc=ic.setDialoutSequence,cc=ic.setDialoutResultCode,dc=ic.setIsAllowToTalk,lc=ic.setIsHostMuteAll,pc=ic.setIsActiveOperation,fc=ic.setAudioSsrc,hc=ic.setIsMutedUponEntry,vc=ic.setIsUserGrantCaptureAudio,yc=ic.setIsMicrophoneForbidden,gc=ic.setWebrtcRestartCount,mc=ic.setMicrophoneList,Ec=ic.setSpeakerList,Sc=ic.setActiveMicrophone,bc=ic.setActiveSpeaker,_c=ic.setCanPlayAudio,Ac=ic.resetAudio,Cc=ic.setIsComputerAudioLoading;!function(e){e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.UserForbiddedCaptureAudio=-2]="UserForbiddedCaptureAudio",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError"}(qu||(qu={})),function(e){e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed"}(Ku||(Ku={})),function(e){e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk"}(zu||(zu={})),function(e){e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed"}(Qu||(Qu={}));var Ic,Oc,Tc=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"});!function(e){e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare"}(Ic||(Ic={})),function(e){e.Sharing="sharing",e.Paused="paused",e.End="ended"}(Oc||(Oc={}));var Rc="__ZOOM_SDK_CAPTURED_VIDEO__",wc=function(e,t,n){var r=[t,n].map((function(t,n){if("initial"!==t)return Ke(Promise.resolve("success"===t));var r=0===n?"ENCODE":"DECODE";return lt(xa("".concat(e.toUpperCase(),"_").concat(r,"_SUCCESS"),1).pipe(wt(!0)),xa("".concat(e.toUpperCase(),"_").concat(r,"_FAIL"),1).pipe(wt(!1)))}));return $e.apply(void 0,v(r))},Nc=function(){return Ke(navigator.mediaDevices.enumerateDevices()).pipe(Ve((function(e){var t=[],n=[],r=[];return e.forEach((function(e){var o=e.kind,i=e.deviceId,a=e.label;switch(o){case"audioinput":"communications"===i||/ZoomAudioDevice/i.test(a)||/Zoom-\S*/.test(a)||/CubebAggregateDevice\S*/.test(a)||t.push({deviceId:i,label:a});break;case"audiooutput":"communications"===i||/ZoomAudioDevice/i.test(a)||n.push({deviceId:i,label:a});break;case"videoinput":r.push({deviceId:i,label:a})}})),{microphones:t,speakers:n,cameras:r}})))};function Dc(e){var t=e.getBoundingClientRect(),n=t.x,r=t.y,o=t.width,i=t.height,a=function(e){var t=window.getComputedStyle(e),n=t.transform||t.webkitTransform||t.mozTransform;if("none"===n)return{x:0,y:0,z:0};var r=/matrix3d/.test(n),o=n.match(/matrix.*\((.+)\)/)[1].split(", ");return r?{x:Number(o[12]),y:Number(o[13]),z:Number(o[14])}:{x:Number(o[4]),y:Number(o[5]),z:0}}(e);return{scaleWidth:o,scaleHeight:i,srcOffsetX:n+a.x,srcOffsetY:r+a.y}}function kc(e){if(e){var t=e;try{var n=e.width;e.width=n}catch(n){var r;t=e.cloneNode(!0),null===(r=e.parentNode)||void 0===r||r.replaceChild(t,e)}return t}return e}var Pc,Uc,Mc,Vc,jc,Lc=Si.createAgent(),Hc=Object.freeze({__proto__:null,audioAsnsEpic:function(e,t){return qr(e,12033).pipe(Bt(t),Ve((function(e){var t=h(e,2),n=t[0],r=t[1].participants,o=r.attendeesList,i=r.allowTalkAttendeesList,a=n.payload.body,s={};return a&&([].concat(v(o),v(i)).forEach((function(e){for(var t=1;t<=3;t++){var n="asn".concat(t),r=e.userId,o=e.displayName;if(void 0!==a[n]&&r===a[n]){s[n]={userId:r,displayName:o};break}}})),ja("AUDIO_ACTIVE_SPEAKER",Object.values(s))),ac(s)})))},unmuteConsentAfterSpotlighted:function(e,t){return qr(e,16135).pipe(Bt(t),xt((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.body,i=o.id,a=o.bLeadershipOn,s=r.audio.bCanUnmute,u=Pu(r);if(u){var c=u.isHost,d=u.bCoHost,l=u.userId,p=u.audio,f=u.muted;a&&l>>10==i>>10&&(null!==p&&""!==p&&!0!==f||!c&&!d&&!s||ja("AUDIO_UNMUTE_CONSENT",zu.Spotlight))}})),kt(me(Pi())))},unmuteConsentEpic:function(e,t){return qr(e,12037).pipe(Bt(t),xt((function(e){var t=h(e,2)[1],n=Pu(t);null!==(null==n?void 0:n.audio)&&""!==(null==n?void 0:n.audio)&&1==(null==n?void 0:n.muted)&&ja("AUDIO_UNMUTE_CONSENT",zu.Unmute)})),wt(Pi()))},setAudioAttributeEpic:function(e,t){return qr(e,7938).pipe(st((function(e){return["bCanUnmute","bMutedAll","bMutedUponEntry"].some((function(t){return void 0!==e.payload.body[t]}))})),Ui((function(e){if(void 0!==e.payload.body.bCanUnmute)return sc(e.payload.body.bCanUnmute);if(void 0!==e.payload.body.bMutedAll){var n=Pu(t.value);if(("computer"===(null==n?void 0:n.audio)||"phone"===(null==n?void 0:n.audio))&&0==n.muted)return lc(e.payload.body.bMutedAll)}return void 0!==e.payload.body.bMutedUponEntry?hc(e.payload.body.bMutedUponEntry):void 0})))},currentUserAudioChangeEpic:function(e,t){return qr(e,7937).pipe(Bt(t),Mi((function(e){var t=h(e,2),n=t[0],r=t[1];if(n.payload.body.update&&n.payload.body.update.some((function(e){return void 0!==e.audio||void 0!==e.muted}))){var o=Pu(r),i=h(dt(Ke(n.payload.body.update),(function(e){return e.id===(null==o?void 0:o.userId)})),2),a=i[0];i[1].subscribe((function(e){ja("AUDIO_PARTICIPANT_AUDIO_UPDATE",e)}));var s=r.audio,u=s.isActiveOperation,c=s.isMutedAll,d=r.audio,l=d.activeMicrophone,p=d.activeSpeaker,f=d.audioSsrc,v=bu(o.userRole);return a.pipe(xt((function(e){e.audio!==(null==o?void 0:o.audio)&&(""===e.audio?ja("AUDIO_CURRENT_USER_LEAVE_AUDIO"):"computer"===e.audio?Ti.getInstance().joinComputerAudio(f,l,p,!v):"phone"===e.audio&&("computer"===(null==o?void 0:o.audio)&&(Ti.getInstance().leaveComputerAudio(),Lc.joinOrLeaveVoip(!1)),ja("AUDIO_CURRENT_USER_JOIN_BY_PHONE"))),""!==(null==o?void 0:o.audio)&&e.muted!==(null==o?void 0:o.muted)&&(!0===e.muted?ja("AUDIO_CURRENT_USER_MUTED",{source:u?"active":c?"passive(mute all)":"passive(mute one)"}):!1===e.muted&&ja("AUDIO_CURRENT_USER_UNMUTED",{source:u?"active":"passive"}))})),st((function(e){return""!==(null==o?void 0:o.audio)&&e.muted!==(null==o?void 0:o.muted)})),kt(me(pc(!1),lc(!1))))}})))},handleDialOutEpic:function(e,t){return qr(e,8198).pipe(Bt(t),st((function(e){var t=h(e,2),n=t[0],r=t[1];return n.payload.seq==r.audio.dialout.sequence})),xt((function(e){var t=h(e,1)[0].payload.body.result;ja("AUDIO_DIALOUT_RESULT_CODE",{code:t}),t===Qu.Success?ja("AUDIO_DIALOUT_RESULT_SUCCESS"):-1===[Qu.Calling,Qu.Ringing,Qu.Accepted,Qu.Success].indexOf(t)&&ja("DIALOUT_FAIL")})),Ve((function(e){var t=h(e,1)[0];return cc(t.payload.body.result)})))},handleDialouCancelEpic:function(e){return qr(e,8200).pipe(xt((function(e){var t=e.payload.body.result;[0,11].indexOf(t)>-1?ja("AUDIO_DIALOUT_CANCEL_SUCCESS"):ja("DIALOUT_CANCEL_FAIL",t)})),st((function(e){return 0===e.payload.body.result||11===e.payload.body.result})),wt(cc(-1)))},handleAllowToTalkEpic:function(e,t){return qr(e,12036).pipe(Bt(t),Mi((function(e){var t=h(e,2),n=t[0],r=t[1],o=Pu(r),i=r.media.audioEncodeStatus,a=r.audio,s=a.audioSsrc,u=a.activeMicrophone,c=a.activeSpeaker,d=n.payload.body,l=d.promoterID,p=d.bAllowTalk;if((null==o?void 0:o.userId)===l){var f=Ti.getInstance();if(p){var v=me(!0);return"success"!==i&&(f.enableAudioEncode(),v=lt(xa("AUDIO_ENCODE_SUCCESS",1).pipe(wt(!0)),xa("AUDIO_ENCODE_FAIL",1).pipe(wt(!1)))),v.pipe(xt((function(e){e&&(f.joinComputerAudio(s,u,c,!0),ja("AUDIO_UNMUTE_CONSENT",zu.AllowToTalk))})),wt(dc(!0)))}return Lc.mute(l,!0),f.leaveComputerAudio(),ht(300).pipe(xt((function(){f.joinComputerAudio(s,u,c,!1)})),wt(dc(!1)))}})))},handleAllowToTalkResponseEpic:function(e){return qr(e,8205).pipe(xt((function(e){ja("AUDIO_ALLOW_TO_TALK_RESPONSE",e.payload.body)})),wt(Pi()))},handleAttendeePromoteDepromote:function(e,t){return Kr(e,Ni).pipe(st((function(e){return e.payload.data.action===Ri.Depromote||e.payload.data.action===Ri.Promote})),Bt(t),xt((function(e){var t=h(e,2),n=t[0],r=t[1],o=Pu(r);"phone"===(null==o?void 0:o.audio)?Lc.audioDrop(o.userId):"computer"===(null==o?void 0:o.audio)&&(n.payload.data.action,Ri.Promote)})),wt(Pi()))},setAudioSSRCEpic:function(e,t){return qr(e,12035).pipe(Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=r.meeting.currentUserAudioBeforeReset,i=r.media,a=i.audioDecodeStatus,s=i.audioEncodeStatus,u=n.payload.body.ssrc,c=me(fc(u)),d=me(Pi()),l=Pu(r);if(l&&"computer"===o&&""===l.audio){var p=bu(l.userRole);d=wc("audio",p?"success":s,a).pipe(st((function(e){var t=h(e,2),n=t[0],r=t[1];return n&&r})),xt((function(){Lc.joinOrLeaveVoip(!0)})),wt(si(void 0)))}return it(c,d)})))},handleMergeAudioEpic:function(e,t){return qr(e,7952).pipe(jt((function(e){return xa("AUDIO_CURRENT_USER_JOIN_BY_PHONE",1).pipe(Bt(t),xt((function(t){var n=h(t,2)[1],r=e.payload.body,o=r.BindStatus,i=r.nOperatorUserId,a=n.participants.attendeesList.find((function(e){return e.userId===i}));!0===o&&ja("AUDIO_MERGE_AUDIO_INDICATION",{operatorName:null==a?void 0:a.displayName,operatorUserId:i,operatorRole:null==a?void 0:a.userRole})})))})))},handleUserGrantAudioCaptureEpic:function(e,t){return zr(e,qu.UserGrantCaptureAudio).pipe(Bt(t),ze((function(e){var t=h(e,2)[1];ja("AUDIO_CURRENT_USER_JOIN_BY_VOIP");var n=Pu(t),r=t.meeting.isCurrentUserMutedBeforeReset,o=t.audio,i=o.bMutedUponEntry,a=o.isUserGrantCaptureAudio,s=[vc(!0)];return n&&(!0===n.muted&&Lc.mute(n.userId,!0),(!0===r||!a&&!n.isHost&&i)&&(Lc.mute(n.userId,!0),r&&s.push(ui(void 0)))),Ke(s)})))},handleUserForbiddenMicrophoneEpic:function(e){return zr(e,qu.UserForbiddedCaptureAudio).pipe(xt((function(){ja("USER_FORBIDDEN_MICROPHONE")})),wt(yc(!0)))},handleAudioSocketErrorEpic:function(e){return zr(e,qu.AudioWebsocketBroken).pipe(xt((function(){ja("ESTABLISH_AUDIO_STREAM_ERROR")})),wt(Pi()))},handleAudioZeroDataEpic:function(e,t){return zr(e,qu.AudioZeroData).pipe(Bt(t),Ui((function(e){var t=h(e,2)[1].audio,n=t.webrtcRestartCount,r=t.activeMicrophone;if(n<3)return Ti.getInstance().restoreWebRTC(r),gc(n+1)})))},handleAutoPlayEpic:function(e,t){return e.pipe(Jt("".concat(_c)),st((function(e){return!1===e.payload})),ze((function(){return ja("AUDIO_AUTO_PLAY_FAILED"),lt(tt(document,"click").pipe(Ot(1)),tt(document,"touchend").pipe(Ot(1))).pipe(Bt(t),xt((function(e){var t=h(e,2)[1],n=t.audio,r=n.audioSsrc,o=n.activeMicrophone,i=n.activeSpeaker,a=Pu(t),s=bu(a.userRole);Ti.getInstance().joinComputerAudio(r,o,i,!s),Lc.joinOrLeaveVoip(!0)})),wt(_c(!0)))})))}}),xc={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:!1,dialout:{sequence:0,returnCode:-1},canPlayAudio:!1,isActiveOperation:!1,isMutedAll:!1,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1},Fc=vr((i(Pc={},"".concat(ac),ou((function(e,t){var n=t.payload;e.asnIds=u({},n)}))),i(Pc,"".concat(sc),ou((function(e,t){var n=t.payload;e.bCanUnmute=n}))),i(Pc,"".concat(uc),ou((function(e,t){var n=t.payload;e.dialout.sequence=n}))),i(Pc,"".concat(cc),ou((function(e,t){var n=t.payload;e.dialout.returnCode=n}))),i(Pc,"".concat(dc),ou((function(e,t){var n=t.payload;e.isAllowToTalk=n}))),i(Pc,"".concat(pc),ou((function(e,t){var n=t.payload;e.isActiveOperation=n}))),i(Pc,"".concat(lc),ou((function(e,t){var n=t.payload;e.isMutedAll=n}))),i(Pc,"".concat(fc),ou((function(e,t){var n=t.payload;e.audioSsrc=n}))),i(Pc,"".concat(hc),ou((function(e,t){var n=t.payload;e.bMutedUponEntry=n}))),i(Pc,"".concat(vc),ou((function(e,t){var n=t.payload;e.isUserGrantCaptureAudio=n}))),i(Pc,"".concat(yc),ou((function(e,t){var n=t.payload;e.isMicrophoneForbidden=n}))),i(Pc,"".concat(gc),ou((function(e,t){var n=t.payload;e.webrtcRestartCount=n}))),i(Pc,"".concat(mc),ou((function(e,t){var n=t.payload;e.microphoneDevicesList=n}))),i(Pc,"".concat(Ec),ou((function(e,t){var n=t.payload;e.speakerDevicesList=n}))),i(Pc,"".concat(Sc),ou((function(e,t){var n=t.payload;e.activeMicrophone=n}))),i(Pc,"".concat(bc),ou((function(e,t){var n=t.payload;e.activeSpeaker=n}))),i(Pc,"".concat(_c),ou((function(e,t){var n=t.payload;e.canPlayAudio=n}))),i(Pc,"".concat(Ac),(function(e){var t=e.dialout.returnCode;return u(u({},xc),{},{dialout:u(u({},xc.dialout),{},{returnCode:t})})})),i(Pc,"".concat(Cc),ou((function(e,t){var n=t.payload;e.isComputerAudioLoading=n}))),Pc),xc),Gc=Wr(Hc),Bc=Fn("UPDATE_SELF_PAINT_SHARE_CANVAS"),Wc=ur("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_CHROME_EXTENSION_INSTALLED","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_REMOTE_CONTROL_APPROVED","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_VERIFIED_SHARING_RENDER_CANVAS_AFTER_FAILOVER","SET_IS_VERIFIED_SHARING_CAPTURE_CANVAS_AFTER_FAILOVER","SET_IS_SDK_GRAB_CONTROL","RESET_SHARE"),qc=Wc.setSharePrivilege,Kc=Wc.setShareActiveNode,zc=Wc.setIsReceiveSharing,Qc=Wc.setIsChromeExtensionInstalled,Jc=Wc.setIsScreenShareForbidden,Xc=Wc.setShareDimension,Yc=Wc.setShareStatus,Zc=Wc.setShareSsrc,$c=Wc.setShareQuality,ed=Wc.setReceivedShareDimension,td=Wc.setIsRemoteControlApproved,nd=Wc.setIsGrabRemoteControl,rd=Wc.setIsVerifiedSharingRenderCanvasAfterFailover,od=Wc.setIsVerifiedSharingCaptureCanvasAfterFailover,id=Wc.setIsSdkGrabControl,ad=Wc.resetShare,sd=Si.createAgent(),ud=Object.freeze({__proto__:null,sharePrivilegeChangeEpic:function(e,t){return qr(e,7938).pipe(st((function(e){return void 0!==e.payload.body.lockShare})),Bt(t),xt((function(e){var t=h(e,2),n=t[0],r=t[1].share.sharePrivilege,o=n.payload.body.lockShare;r!==o&&ja("SHARE_PRIVILEGE_CHANGE",o)})),Ve((function(e){var t=h(e,1)[0];return qc(t.payload.body.lockShare)})))},shareSSrcEpic:function(e){return qr(e,20227).pipe(Ve((function(e){return Zc(e.payload.body.ssrc)})))},shareStatusChangeEpic:function(e,t){return qr(e,20225).pipe(Bt(t),Ve((function(e){var t=h(e,2),n=t[0],r=t[1].share,o=r.isReceiveSharing,i=r.activeNodeId,a=r.shareQuality,s=n.payload.body;return o&&1===s.bStatus?(sd.unsubscribeSharing(i),sd.subscribeSharing(s.activeNodeID,a),Ti.getInstance().switchSharingSource(s.ssrc),ja("SHARE_AUTO_CHANGE_SOURCE",{activeUserId:s.activeNodeID})):1===s.bStatus?ja("SHARE_ACTIVE_INDICATION",{activeUserId:s.activeNodeID,isActive:!0}):o&&ja("SHARE_ACTIVE_INDICATION",{activeUserId:s.activeNodeID,isActive:!1}),Kc(s)})))},handleChromeExtensionEpic:function(e){return zr(e,qu.CheckChromeSharingExtensionResponse).pipe(Ve((function(e){return ja("SHARE_CHECK_CHROME_SHARING_EXTENSION",e.payload.data),Qc(e.payload.data)})))},handleSDKShareSuccessEpic:function(e,t){return zr(e,qu.DesktopSharingCaptureSuccess).pipe(Bt(t),Ve((function(e){var t=h(e,2)[1].meeting.userId;return sd.startSharing(t),Jc(!1)})))},handleSDKShareErrorEpic:function(e){return zr(e,[qu.DesktopSharingError,qu.DesktopSharingChromeExtensionUninstalled,qu.DesktopSharingPermissionDenied,qu.DesktopSharingSystemError]).pipe(Ui((function(e){if([qu.DesktopSharingPermissionDenied,qu.DesktopSharingSystemError].includes(e.payload.type))return Jc(!0);ja("SHARE_START_DESKTOP_SHARE_FAILED",{reason:""})})))},handleSDKShareDimensionChangeEpic:function(e){return zr(e,qu.CurrentDesktopSharingWidthHeight).pipe(st((function(e){return!!e.payload.data})),Ve((function(e){ja("SHARE_DIMENSION_CHANGE",e.payload.data);var t=e.payload.data,n=t.width,r=t.height;return Ti.getInstance().ajustmentSharingCanvas(n,r),Xc(e.payload.data)})))},handleSDKReceivedShareSizeChangeEpic:function(e,t){return zr(e,qu.SharingDecodeMaxSize).pipe(st((function(e){return!!e.payload.data})),Bt(t),Ui((function(e){var t=h(e,2),n=t[0],r=t[1].share,o=r.shareQuality,i=r.activeNodeId,a=n.payload.data.size,s=Number(a);if(o!==s)return sd.subscribeSharing(i,s),$c(s)})))},handleRWGShareOriginalDimensionEpic:function(e){return qr(e,20226).pipe(xt((function(e){ja("SHARE_RECEIVED_DIMENSION_CHANGE",e.payload.body);var t=e.payload.body,n=t.width,r=t.height;Ti.getInstance().ajustmentReceivedSharingCanvas(n,r)})),Ve((function(e){return ed(e.payload.body)})))},handleSDKShareOriginalDimensionEpic:function(e){return zr(e,qu.SharingPara).pipe(xt((function(e){ja("SHARE_RECEIVED_DIMENSION_CHANGE",e.payload.data);var t=e.payload.data,n=t.width,r=t.height;Ti.getInstance().ajustmentReceivedSharingCanvas(n,r)})),Ve((function(e){return ed(e.payload.data)})))},handleSDKStopShareEpic:function(e,t){return zr(e,qu.UserStopDesktopSharing).pipe(Bt(t),Ve((function(e){var t=h(e,2)[1],n=t.meeting.userId;return t.share.status!==Oc.End&&(sd.stopSharing(n),ja("SHARE_VIDEO_STREAMS_END")),Yc(Oc.End)})))},handleRWGCurrentUserShareChangeEpic:function(e,t){return qr(e,7937).pipe(Bt(t),st((function(e){var t=h(e,2),n=t[0],r=t[1].meeting.userId,o=n.payload.body.update;return o&&o.length>0&&o.findIndex((function(e){return e.id===r&&void 0!==e.bShareOn}))>-1})),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=r.meeting.userId,i=r.share,a=i.status,s=i.isReceiveSharing,u=i.activeNodeId,c=n.payload.body.update,d=c.find((function(e){return e.id===o&&!1===e.bShareOn})),l=c.find((function(e){return e.id===o&&!0===e.bShareOn})),p=[],f=Ti.getInstance();return d&&a!==Oc.End&&(sd.stopSharing(o),f.stopDesktopSharing(),p.push(Yc(Oc.End)),ja("SHARE_PASSIVE_STOP_SHARE")),l&&a===Oc.End&&(s&&(f.stopRenderSharing(),sd.unsubscribeSharing(u),p.push(zc(!1))),p.push(Yc(Oc.Sharing))),Ke(p)})))},handleMultipleShareChangeEpic:function(e,t){return qr(e,7937).pipe(Bt(t),st((function(e){var t=h(e,2),n=t[0],r=t[1].meeting.userId,o=n.payload.body.update;return o&&o.length>0&&o.findIndex((function(e){return e.id!==r&&void 0!==e.bShareOn}))>-1})),Mi((function(t){var n=h(t,2),r=n[0],o=n[1],i=r.payload.body.update,a=o.share,s=a.activeNodeId,u=a.isReceiveSharing,c=a.shareQuality,d=xu(o),l=i.filter((function(e){return!0===e.bShareOn&&!1===e.bSharePause})),p=i.filter((function(e){return!1===e.bShareOn}));if(l.length>0&&l.forEach((function(e){-1===d.findIndex((function(t){return t.userId===e.id}))&&ja("SHARE_NEW_USER_ADD",e)})),p.length>0&&(p.forEach((function(e){ja("SHARE_USER_REMOVE",e)})),u&&p.some((function(e){return e.id===s}))))return lt(qr(e,20225).pipe(Ot(1),wt(Pi())),ht(50).pipe(kt(Ee("timeout")))).pipe(yt((function(){var e=d.filter((function(e){return e.userId!==s}));if(e.length>0){var t=e[0].userId;return sd.unsubscribeSharing(s),sd.subscribeSharing(t,c),Ti.getInstance().switchSharingSource(t),ja("SHARE_AUTO_CHANGE_SOURCE",{activeUserId:t}),me(Kc({activeNodeID:t,bStatus:1,ssrc:t}))}return me(Pi())})))})))},handleRequestRemoteControlEpic:function(e,t){return qr(e,16391).pipe(Bt(t),st((function(e){var t=h(e,2),n=t[0],r=t[1].meeting.userId;return n.payload.body.id===r})),Ve((function(e){var t=h(e,1)[0].payload.body.bOn;return ja("SHARE_REMOTE_CONTROL_APPROVE",t),td(t)})))},handleGrabRemoteControlEpic:function(e,t){return qr(e,16395).pipe(Bt(t),st((function(e){var t=h(e,2),n=t[0],r=t[1];return n.payload.body.id===r.meeting.userId})),Ve((function(e){var t=h(e,1)[0].payload.body.bOn;return Ti.getInstance().updateRemoteControlProperties({isControllerNow:t}),ja("SHARE_GRAB_REMOTE_CONTROL_CHANGE",t),nd(t)})))},handleSDKRemoteControlEpic:function(e){return zr(e,[qu.StartRemoteControlSuccess,qu.StartRemoteControlFailed,qu.CancelRemoteControlSuccess]).pipe(Ui((function(e){return e.payload.type===qu.StartRemoteControlSuccess?(ja("SHARE_REMOTE_CONTROL_SUCCESS"),id(!0)):e.payload.type===qu.CancelRemoteControlSuccess?id(!1):void(e.payload.type===qu.StartRemoteControlFailed&&ja("SHARE_REMOTE_CONTROL_FAILED"))})))},handleRemoteControlClipboardEpic:function(e){return zr(e,[qu.RemoteControlCopiedTextNotify,qu.RemoteControlPasteTextLengthOverflow]).pipe(xt((function(e){if(e.payload.type===qu.RemoteControlCopiedTextNotify){var t=e.payload.data;ja("SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",{content:t.data,x:t.x,y:t.y})}else ja("SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",{error:"length of pasted text is too long"})})),wt(Pi()))}}),cd=function(e,t,n){var r=0;if(e.length>t+n)for(var o=0;o<n;)r+=Number(e[t+o])<<8*o,o+=1;return r},dd=function(e,t,n,r){var o=n.x,i=n.y,a=new Image;a.onload=function(){e.drawImage(a,o,i),a=null},a.onerror=function(){a=null},a.src="data:image/".concat(r,";base64,").concat(window.btoa(t))},ld=Object.freeze({__proto__:null,handleSelfPaintSharingEpic:function(e,t){return e.pipe(Jt("".concat(Bc)),xt((function(n){var r=h(n,1)[0].payload,o=r.canvas,i=r.cursorCanvas,a="",s=[],u=o.getContext("2d"),c=i.getContext("2d");e.pipe(Jt("".concat(_r)),Bt(t),st((function(e){return!0===h(e,2)[1].share.isReceiveSharing})),xt((function(e){var t=h(e,2),n=t[0],r=t[1].share.receivedShareDimension,o=r.width,i=r.height,d=r.logicWidth,l=r.logicHeight;if(n.payload&&void 0!==n.payload.subarray){var p=n.payload,f=p.subarray(0,24),v=h(f,2),y=v[0],g=v[1];switch(y){case 3:var m=Un(p.subarray(24));if(g>128)-1===s.findIndex((function(e){return e.index===g-128}))&&s.push({index:g-128,data:m});else if(g>0&&g<128){var E=s.find((function(e){return e.index===g}));E&&(m=E.data+m)}var S=cd(f,8,4),b=cd(f,12,4);u&&dd(u,m,{x:S,y:b},"jepg");break;case 4:a=Un(p.subarray(24));break;case 5:if(c){c.clearRect(0,0,1920,1080);var _=cd(f,8,4)*(o/d),A=cd(f,12,4)*(i/l);dd(c,a,{x:_,y:A},"png")}}}})))})),wt(Pi()))}}),pd={ssrc:0,status:Oc.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Ic.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isRemoteControlApproved:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isChromeExtensionInstalled:!1,isScreenShareForbidden:!1},fd=vr((i(Uc={},"".concat(qc),ou((function(e,t){var n=t.payload;e.sharePrivilege=n}))),i(Uc,"".concat(Kc),ou((function(e,t){var n=t.payload;e.isRemoteSharingActive=1===n.bStatus,e.activeNodeId=n.activeNodeID,e.activeSsrc=n.ssrc}))),i(Uc,"".concat(zc),ou((function(e,t){var n=t.payload;e.isReceiveSharing=n}))),i(Uc,"".concat(Qc),ou((function(e,t){var n=t.payload;e.isChromeExtensionInstalled=n}))),i(Uc,"".concat(Xc),ou((function(e,t){var n=t.payload;e.shareDimension=u({},n)}))),i(Uc,"".concat(Yc),ou((function(e,t){var n=t.payload;e.status=n}))),i(Uc,"".concat(Zc),ou((function(e,t){var n=t.payload;e.ssrc=n}))),i(Uc,"".concat($c),ou((function(e,t){var n=t.payload;e.shareQuality=n}))),i(Uc,"".concat(ed),ou((function(e,t){var n=t.payload;e.receivedShareDimension=u({},n)}))),i(Uc,"".concat(td),ou((function(e,t){var n=t.payload;e.isRemoteControlApproved=n}))),i(Uc,"".concat(nd),ou((function(e,t){var n=t.payload;e.isGrabRemoteControl=n}))),i(Uc,"".concat(rd),ou((function(e,t){var n=t.payload;e.isVerifiedRenderCanvasAfterFailover=n}))),i(Uc,"".concat(od),ou((function(e,t){var n=t.payload;e.isVerifiedCaptureCanvasAfterFailover=n}))),i(Uc,"".concat(id),ou((function(e,t){var n=t.payload;e.isSDKGrabControl=n}))),i(Uc,"".concat(ad),(function(){return u(u({},pd),{},{isVerifiedRenderCanvasAfterFailover:!1,isVerifiedCaptureCanvasAfterFailover:!1})})),Uc),pd),hd=Wr(ud,ld),vd=ur("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_IS_RECEIVING_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_HAS_INFORMED_RWG_DEVICE_VIDEO_CAP","SET_VIDEO_QUALITY","SET_CAPTURE_CANVAS_LIST","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","SET_IS_VERIFIED_VIDEO_RENDER_CANVAS_AFTER_FAILOVER","SET_IS_VERIFIED_VIDEO_CAPTURE_CANVAS_AFTER_FAILOVER","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION"),yd=vd.setVideoSsrc,gd=vd.setActiveVideoId,md=vd.setCameraList,Ed=vd.setActiveCamera,Sd=vd.setIsCurrentUserStartedVideo,bd=vd.setIsReceivingVideo,_d=vd.setSpotlightVideo,Ad=vd.setIsCaptureForbidden,Cd=vd.setHasInformedRwgDeviceVideoCap,Id=vd.setVideoQuality,Od=vd.setCaptureCanvasList,Td=vd.setIsVideoMuted,Rd=vd.setIsCaptureCameraLoading,wd=vd.setIsCameraTaken,Nd=vd.setIsVerifiedVideoRenderCanvasAfterFailover,Dd=vd.setIsVerifiedVideoCaptureCanvasAfterFailover,kd=vd.resetVideo,Pd=vd.setReceivedVideoDimension,Ud=Si.createAgent(),Md=Ti.getInstance(),Vd=Object.freeze({__proto__:null,handleStartCaptureVideoSuccessEpic:function(e,t){return zr(e,qu.StartVideoCaptureSuccess).pipe(Bt(t),Ui((function(e){var t=h(e,2)[1],n=t.video,r=n.cameraDevicesList,o=n.activeCamera,i=t.meeting.userId;return r.length<1?(ja("CAN_NOT_DETECT_CAMERA",{reason:"Cannot detect camera devices"}),void Md.stopCaptureVideo()):"default"===o||r.some((function(e){return e.deviceId===o}))?void Ud.muteAttendeeVideo(i,!1):(ja("CAN_NOT_FIND_CAMERA",{reason:"cannot find target camera"}),void Md.stopCaptureVideo())})))},startVideoResponse:function(e,t){return qr(e,7937).pipe(Bt(t),st((function(e){var t,n,r,o,i=h(e,2),a=i[0],s=i[1],u=ku(s);return(null==a||null===(t=a.payload)||void 0===t||null===(n=t.body)||void 0===n||null===(r=n.update)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id)===u})),st((function(e){var t,n,r,o,i=h(e,2),a=i[0];return i[1],!0===(null==a||null===(t=a.payload)||void 0===t||null===(n=t.body)||void 0===n||null===(r=n.update)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.bVideoOn)})),Ui((function(){return ja("VIDEO_CAPTURE_START_SUCCESS"),Sd(!0)})))},handleForbiddenCaptureVideoEpic:function(e){return zr(e,qu.UserForbiddedCaptureVideo).pipe(xt((function(){return ja("VIDEO_USER_FORBIDDEN_CAPTURE")})),wt(Ad(!0)))},handleCameraIsTakenByOtherProgramsEpic:function(e){return zr(e,qu.UserCameraIsTakenByOtherPrograms).pipe(xt((function(){return ja("VIDEO_CAMERA_IS_TAKEN",{reason:"User camera is taken by other programs."})})),wt(wd(!0)))},handleVideoSocketErrorEpic:function(e){return zr(e,qu.VideoWebsocketBroken).pipe(xt((function(){ja("VIDEO_ESTABLISH_STREAM_ERROR",{reason:"Video websocket broken."})})),wt(Pi()))},handleStopVideoCaptureFailedEpic:function(e){return zr(e,qu.StopVideoCaptureFailed).pipe(xt((function(){ja("VIDEO_CAPTURE_STOP_RESULT",{failed:!0,reason:"Unknown."})})),wt(Pi()))},handleStopVideoCaptureSuccessEpic:function(e,t){return zr(e,qu.StopVideoCaptureSuccess).pipe(Bt(t),Ui((function(e){var t=h(e,2)[1],n=t.meeting.userId;t.video.isCurrentUserStartedVideo||ja("VIDEO_CAPTURE_STOP_RESULT"),Ud.muteAttendeeVideo(n,!0)})))},stopVideoResponse:function(e,t){return qr(e,7937).pipe(Bt(t),st((function(e){var t,n,r,o,i=h(e,2),a=i[0],s=i[1],u=ku(s);return(null==a||null===(t=a.payload)||void 0===t||null===(n=t.body)||void 0===n||null===(r=n.update)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id)===u})),st((function(e){var t,n,r,o,i=h(e,2),a=i[0];return i[1],!1===(null==a||null===(t=a.payload)||void 0===t||null===(n=t.body)||void 0===n||null===(r=n.update)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.bVideoOn)})),Ui((function(){return ja("VIDEO_CAPTURE_STOP_RESULT"),Sd(!1)})))},receiveVideoMuteIndication:function(e,t){return qr(e,16133).pipe(Bt(t),st((function(e){var t,n,r=h(e,2),o=r[0],i=r[1];return(null==o||null===(t=o.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.id)===ku(i)})),Ui((function(e){var t=h(e,2),n=t[0],r=(t[1],n.payload.body),o=r.id,i=r.bVideoMute;return ja("RECEIVE_VIDEO_MUTE_INDICATION",{id:o,isVideoMuted:i}),!0===i&&Md.stopCaptureVideo(),!1===i&&ja("ASK_FOR_START_VIDEO_CONSENT",{id:o,isVideoMuted:i}),Td(i)})))},receiveVideoActiveIndication:function(e,t){return qr(e,16129).pipe(Bt(t),st((function(e){var t,n,r=h(e,2),o=r[0];return r[1],void 0!==(null==o||null===(t=o.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.bVideoOn)})),Ui((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.body.id,i=r.video.activeVideoId;return i&&i!==o&&Md.switchVideoSource(o),ja("RECEIVE_VIDEO_ACTIVE_INDICATION",n.payload.body),gd(n.payload.body)})))},receiveVideoSsrcIndication:function(e,t){return qr(e,16131).pipe(st((function(e){return void 0!==e.payload.body.ssrc})),Bt(t),jt((function(e){var t=h(e,2),n=t[0],r=t[1],o=r.meeting.isCurrentUserStartVideoBeforeReset,i=r.media.videoEncodeStatus,a=r.video,s=a.captureCanvasList,u=a.activeCamera,c=a.isVerifiedVideoCaptureCanvasAfterFailover,d=n.payload.body.ssrc,l=me(yd(d)),p=me(Pi()),f=Pu(r);return f&&!0===o&&!0!==f.bVideoOn&&(p=wc("video",i,"success").pipe(st((function(e){var t=h(e,2),n=t[0],r=t[1];return n&&r})),ze((function(){var e=[Sd(void 0)];return!1===c&&(Array.isArray(s)?s.forEach((function(e){kc(document.querySelector("#".concat(e)))})):kc(document.querySelector("#".concat(s))),e.push(Dd(!0))),Ti.getInstance().startCaptureVideo(d,s,Rc,u),Ke(e)})))),it(l,p)})))},receiveVideoDecodeMaxSizeEpic:function(e,t){return zr(e,qu.VideoDecodeMaxSize).pipe(Bt(t),st((function(e){var t,n=h(e,2),r=n[0];return n[1],null==r||null===(t=r.payload)||void 0===t?void 0:t.data})),Mi((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.data.size,i=r.video.hasInformedRwgDeviceVideoCap;return o>2&&(o=2),Ud.subscribeVideo(1,o,i),i?me(Id(o)):me(Id(o),Cd(!0))})))},spotlightVideoResponse:function(e){return qr(e,16135).pipe(Ve((function(e){return e.payload.body.bLeadershipOn?ja("SPOTLIGHT_VIDEO_SUCCESS"):ja("CANCEL_SPOTLIGHT_VIDEO_SUCCESS"),ja("RECEIVE_SPOTLIGHT_STATE_CHANGE",e.payload.body),_d(e.payload.body)})))},handleSwitchSpotlightVideo:function(e,t){return qr(e,16129).pipe(Bt(t),st((function(e){var t,n,r=h(e,2),o=r[0];return r[1],!0===(null==o||null===(t=o.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.bVideoOn)})),st((function(e){var t=h(e,2),n=(t[0],t[1]);return!(!Uu(n)||!n.video.isSpotlight)})),Ui((function(e){var t=h(e,2),n=t[0],r=(t[1],n.payload.body.id),o={bLeadershipOn:!0,id:r};return ja("RECEIVE_SPOTLIGHT_STATE_CHANGE",{bLeadershipOn:!0,id:r}),ja("SPOTLIGHT_VIDEO_SUCCESS"),_d(o)})))},handleCurrentVideoResolution:function(e){return zr(e,qu.CurrentVideoResolution).pipe(Ui((function(e){return ja("VIDEO_RENDER_START_SUCCESS"),ja("RECEIVE_VIDEO_DIMENSION_CHANGE",e.payload.data),Pd(e.payload.data)})))}}),jd={videoSsrc:0,cameraDevicesList:[],activeCamera:"default",activeVideoId:0,isReceivingVideo:!1,isCurrentUserStartedVideo:!1,isRemoteVideoActive:!1,isSpotlight:!1,spotlightNodeId:0,isCaptureForbidden:!1,hasInformedRwgDeviceVideoCap:!1,receivedVideoQuality:2,captureCanvasList:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,receivedVideoDimension:{width:0,height:0}},Ld=vr((i(Mc={},"".concat(yd),ou((function(e,t){var n=t.payload;e.videoSsrc=n}))),i(Mc,"".concat(md),ou((function(e,t){var n=t.payload;e.cameraDevicesList=n}))),i(Mc,"".concat(Ed),ou((function(e,t){var n=t.payload;e.activeCamera=n}))),i(Mc,"".concat(gd),ou((function(e,t){var n=t.payload;e.isRemoteVideoActive=n.bVideoOn,e.activeVideoId=n.id}))),i(Mc,"".concat(Sd),ou((function(e,t){var n=t.payload;e.isCurrentUserStartedVideo=n}))),i(Mc,"".concat(bd),ou((function(e,t){var n=t.payload;e.isReceivingVideo=n}))),i(Mc,"".concat(_d),ou((function(e,t){var n=t.payload,r=n.id,o=n.bLeadershipOn;e.isSpotlight=o,e.spotlightNodeId=o?r:0}))),i(Mc,"".concat(Ad),ou((function(e,t){var n=t.payload;e.isCaptureForbidden=n}))),i(Mc,"".concat(Cd),ou((function(e,t){var n=t.payload;e.hasInformedRwgDeviceVideoCap=n}))),i(Mc,"".concat(Id),ou((function(e,t){var n=t.payload;e.receivedVideoQuality=n}))),i(Mc,"".concat(Od),ou((function(e,t){var n=t.payload,r=n;Array.isArray(n)||(r=[n]),e.captureCanvasList=r}))),i(Mc,"".concat(Td),ou((function(e,t){var n=t.payload;e.isVideoMuted=n}))),i(Mc,"".concat(Rd),ou((function(e,t){var n=t.payload;e.isCaptureCameraLoading=n}))),i(Mc,"".concat(wd),ou((function(e,t){var n=t.payload;e.isCameraTaken=n}))),i(Mc,"".concat(Dd),ou((function(e,t){var n=t.payload;e.isVerifiedVideoCaptureCanvasAfterFailover=n}))),i(Mc,"".concat(Nd),ou((function(e,t){var n=t.payload;e.isVerifiedVideoRenderCanvasAfterFailover=n}))),i(Mc,"".concat(kd),(function(e){return u(u({},jd),{},{captureCanvasList:e.captureCanvasList,activeCamera:e.activeCamera,isVerifiedVideoCaptureCanvasAfterFailover:!1,isVerifiedVideoRenderCanvasAfterFailover:!1})})),i(Mc,"".concat(Pd),ou((function(e,t){var n=t.payload;e.receivedVideoDimension=n}))),Mc),jd),Hd=Wr(Vd),xd=ur("SET_CHAT_PRIVILEGE","SET_CHAT_MESSAGE_HISTORY","RESET_CHAT"),Fd=xd.setChatPrivilege,Gd=xd.setChatMessageHistory,Bd=xd.resetChat,Wd=ur("SET_CC_EDITOR_INFO","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","RESET_CLOSED_CAPTION"),qd=Wd.setCcEditorInfo,Kd=Wd.setTempSendCcText,zd=Wd.setTempReceiveCcText,Qd=Wd.setGatewayInfoList,Jd=Wd.resetClosedCaption,Xd=ur("SET_TEMP_SETTING","SET_SETTING","SET_QUESTION_LIST","SET_QUESTION_UP_VOTED","SET_SELF_LIVE_ANSWER","RESET_QA"),Yd=Xd.setTempSetting,Zd=Xd.setSetting,$d=Xd.setQuestionList,el=Xd.setQuestionUpVoted,tl=Xd.resetQa,nl=Si.createAgent(),rl=function(e,t){return e.pipe(Jt("".concat(Fo)),Bt(t),st((function(e){return void 0!==h(e,2)[1].meeting.encryptedRWC})),Vi((function(e){var t=h(e,2)[1].meeting,n=t.encryptedRWC,r=t.ts,o=t.auth,i=t.meetingNumber;if(n)return Ke(Object.keys(n).map((function(e){var t=n[e];return{url:Yu(e,i,t,r,o),domain:e,rwcToken:t}}))).pipe(ze((function(e){return yo(e.url).pipe(ze((function(t){var n;return n=t.response?u(u({},t.response),{},{fromNginx:!1}):{rwg:e.domain,rwcToken:e.rwcToken,fromNginx:!0},me(Or(n),yr())})),yt((function(){return me(Pi())})))})),Pt(Zo(performance.now())))})))},ol=Object.freeze({__proto__:null,getMeetingInfoEpic:function(e,t){return e.pipe(Jt("".concat(Vo)),jt((function(e){var n=e.payload;return mo(So,n).pipe(yt((function(e){return me({status:!1,result:e.toString(),errorCode:-3e3})})),ze((function(n){var r=h(dt(me(n),(function(e){return!0===e.status&&void 0!==e.result||[Oo,To,Ro,wo,No].includes(e.errorCode)})),2),o=r[0];return r[1].subscribe((function(e){3004===e.errorCode?ja("JOIN_MEETING_FAILED",{reason:"invalid password"}):3008===e.errorCode?ja("JOIN_MEETING_FAILED",{reason:"meeting is not started"}):-3e3===e.errorCode?ja("JOIN_MEETING_FAILED",{reason:"connection error"}):200===e.errorCode&&ja("JOIN_MEETING_FAILED",{reason:e.errorMessage})})),o.pipe(Mi((function(n){if(!0===n.status){var r=n.result.mid;gi.init(r);var o=[me(zo(Ju(n,e.payload))),Gr(rl,t,Fo())];return"1"===n.result.isWebinar&&o.push(Gr(as,t,Sr())),Ze.apply(void 0,o)}return[Oo,To].includes(n.errorCode)?Ze(me(zo(e.payload)),Gr(ec,t,Lo({token:n.errorMessage}))):n.errorCode===Ro?Ze(me(zo(e.payload)),Gr(nc,t,xo({url:n.errorMessage}))):n.errorCode===wo?Ze(me(zo(e.payload)),Gr(tc,t,Ho({url:n.errorMessage}))):n.errorCode===No?Ze(me(zo(e.payload)),Gr(rc,t,qo({url:n.errorMessage}))):void 0})))})))})))},getInstantMeetingInfoEpic:function(e,t){return e.pipe(Jt("".concat(jo)),jt((function(e){var n=Object.assign({},e.payload,{password:yn(e.payload.password),topic:yn(e.payload.topic)});return mo(bo,n).pipe(yt((function(e){return me({status:!1,result:e.toString(),errorCode:-3e3})})),ze((function(n){var r=h(dt(me(n),(function(e){return!0===e.status&&void 0!==e.result})),2),o=r[0];return r[1].subscribe((function(e){3004===e.errorCode?ja("JOIN_MEETING_FAILED",{reason:"invalid password"}):-3e3===e.errorCode&&ja("JOIN_MEETING_FAILED",{reason:"connection error"})})),o.pipe(Mi((function(n){if(!0===n.status){var r=n.result.mid;gi.init(r);var o=[me(zo(Xu(n,e.payload))),Gr(rl,t,Fo())];return Ze.apply(void 0,o)}})))})))})))},pingRWCEpic:rl,joinMeetingSuccessfulEpic:function(e,t){return qr(e,4098).pipe(Bt(t),Vi((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.body,i=o.res,a=o.userID,s=o.zoomID,u=o.mn,c=o.participantID,d=r.meeting,l=d.pingRWCTimestamp,p=d.isWebinar,f=d.userEmail,v=d.userName,y=d.isMeetingReset,g=r.media,m=g.mediaConstraints,E=g.assetsPath;if(lo.CONF_SUCCESS===i){var S=fi.WebclientParticipantId,b=fi.WebclientUserId,_=fi.WebclientZoomId,A=fi.WebclientUserEmail,C=fi.WebclientUserName;gi.set(b,a,Po.SessionStorage),gi.set(_,s,Po.SessionStorage),gi.set(S,c,Po.SessionStorage),f&&gi.set(A,f,Po.SessionStorage),gi.set(C,v,Po.SessionStorage),nl.sendRWGConnectionPerformance("WCL_M, JMCT(".concat(performance.now()-l,")"));var I=[$o(n.payload.body)];return Ti.getInstance().init(),y&&(I.push(ii(!1)),void 0!==m&&void 0!==E&&I.push(Dr())),p&&I.push(gr()),ja("JOIN_MEETING_SUCCESS",{meetingNumber:u}),Ke(I)}return lo.CONF_FAIL_CONFLOCKED===i?ja("JOIN_MEETING_FAILED",{reason:"meeting is locked"}):lo.CONF_FAIL_CONF_USER_FULL===i?ja("JOIN_MEETING_FAILED",{reason:"meeting is at capacity",lmUrl:n.payload.body.lmURL}):lo.CONF_FAIL_MEETING_OVER===i?ja("JOIN_MEETING_FAILED",{reason:"meeting is ended"}):lo.CONF_RESULT_MMR_IB_REJECT===i?ja("JOIN_MEETING_FAILED",{reason:"rejected by information barrier"}):lo.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS===i?ja("JOIN_MEETING_FAILED",{reason:"rejected by existed participant"}):[lo.CONF_FAIL_HAS_BEEN_REMOVED,lo.CONF_FAIL_WEBINAR_DENIED_EMAIL].includes(i)?ja("JOIN_MEETING_FAILED",{reason:"rejected by been denied"}):ja("JOIN_MEETING_FAILED",{reason:"internal error",errorCode:i}),Ke(Zu(r,!1))})))},handleMeetingAttributeChangeEpic:function(e,t){return qr(e,7938).pipe(Bt(t),Ve((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.body,i=r.meeting,a=i.zoomId,s=i.encType;if(void 0!==o.encryptKey&&Ii.init(a,o.encryptKey,s),void 0!==o.gatewayKey){var u=Ti.getInstance(),c=h(o.gatewayKey.split("."),3),d=c[1],l=c[2];u.sendUserNodeList([{userid:Number(d),sn:l&&En(l)}])}return ja("UPDATE_MEETING_ATTRIBUTE",o),ei(o)})))},handleMeetingEndEpic:function(e,t){return qr(e,7939).pipe(Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.body;if(void 0!==o.reason){if(po.LEAVEREASON_RECONNECT===o.reason)return fo.LEAVESUBREASON_WAITINGROOMFAILOVER===o.subReason?ja("RECONNECTING_MEETING",{reason:"on hold"}):ja("RECONNECTING_MEETING",{reason:"failover"}),me(Go());po.LEAVEREASON_KICKEDBYHOST===o.reason?ja("LEAVING_MEETING",{reason:"kicked by host"}):po.LEAVEREASON_ENDBYHOST!==o.reason&&po.LEAVEREASON_ENDBYHOSTSTARTANOTHERMEETING!==o.reason||ja("LEAVING_MEETING",{reason:"ended by host"})}return Ke(Zu(r,!1))})))},meetingFailoverEpic:function(e,t){return e.pipe(Jt("".concat(Go)),Bt(t),ze((function(e){var t=h(e,2)[1],n=Pu(t),r=Zu(t,!0);r.push(ti({audio:null==n?void 0:n.audio,muted:null==n?void 0:n.muted,video:null==n?void 0:n.bVideoOn}),Nr(),Fr(),pu(),Ac(),ad(),kd(),tl(),Bd(),Jd());var o=Wu(t),i=me(Vo(o)).pipe(_t(1e3));if(t.meeting.zlkJwtToken){var a=function(e){if(e){var t=e.meeting;return{topic:t.topic,passWord:t.passWord,userName:t.userName,zlkJwtToken:t.zlkJwtToken,lang:t.lang,cv:t.cv}}return null}(t),s=Object.assign({},{topic:null==a?void 0:a.topic,password:null==a?void 0:a.passWord,userName:null==a?void 0:a.userName,zlk:null==a?void 0:a.zlkJwtToken,lang:null==a?void 0:a.lang,cv:null==a?void 0:a.cv});i=me(jo(s)).pipe(_t(1e3))}return Ze(Ke(r),i)})))},hostChangeEpic:function(e){return qr(e,7940).pipe(xt((function(e){ja("MEETING_HOST_CHANGE_INDICATION",e.payload.body.bHost)})),Ve((function(e){return ni(e.payload.body)})))},cohostChangeEpic:function(e){return qr(e,7941).pipe(xt((function(e){ja("MEETING_COHOST_CHANGE_INDICATION",e.payload.body.bCoHost)})),Ve((function(e){return ri(e.payload.body)})))},setMeetingOptEpic:function(e){return qr(e,7945).pipe(xt((function(e){var t=e.payload.body.opt;gi.set(fi.WebclientOpt,t,Po.SessionStorage)})),wt(Pi()))},setMeetingOnHoldEpic:function(e,t){return qr(e,7942).pipe(xt((function(e){var t=e.payload.body.bHold;gi.set(fi.WebclientIsOnHold,t?1:0,Po.SessionStorage),ja("MEETING_IN_WAITING_ROOM",t)})),Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=[oi(n.payload.body.bHold)];if(n.payload.body.bHold){var i=Pu(r);if(i){o.push(ai({audio:i.audio,video:i.bVideoOn,muted:i.muted}));var a=Ti.getInstance();if("computer"===i.audio&&(a.leaveComputerAudio(),nl.joinOrLeaveVoip(!1)),i.bVideoOn&&a.stopCaptureVideo(),i.sharerOn&&(nl.stopSharing(i.userId),a.stopDesktopSharing(),o.push(Yc(Oc.End))),r.video&&r.video.isReceivingVideo&&(a.stopRenderVideo(),nl.unsubscribeVideo(1)),r.share&&r.share.isReceiveSharing){var s=r.share.activeNodeId;r.share.isRemoteControlApproved&&(nl.sharingRequestRemoteControl(s,!1),a.stopRemoteControl()),nl.unsubscribeSharing(s),a.stopRenderSharing()}}}return Ke(o)})))},setMeetingDataCenterRegionEpic:function(e){return qr(e,7954).pipe(Ve((function(e){return di(e.payload.body)})))},leaveMeetingEpic:function(e,t){return e.pipe(Jt("".concat(Bo),"".concat(Wo)),Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1];return n.type==="".concat(Bo)?nl.leaveMeeting():n.type==="".concat(Wo)&&nl.endMeeting(),Ke(Zu(r,!1))})))}}),il=Object.freeze({__proto__:null,handlePromoteOrDepromoteResponseEpic:function(e){return qr(e,4210).pipe(xt((function(e){ja("MEETING_WEBINAR_ROLE_CHANGE",e.payload.body)})),wt(Pi()))},handleAttendeePromoteDepromoteEpic:function(e){return Kr(e,Ni).pipe(st((function(e){return[Ri.Depromote,Ri.Promote].indexOf(e.payload.data.action)>-1})),Ve((function(e){var t=e.payload.data,n=t.action,r=t.data;return ja("RECONNECTING_MEETING",{reason:n===Ri.Promote?"promote":"depromote"}),gi.set(fi.WebclientWebinarToken,r,Po.SessionStorage),Go()})))},handleAttendeeExpelEpic:function(e,t){return Kr(e,Ni).pipe(st((function(e){return e.payload.data.action===Ri.Expel})),Bt(t),ze((function(e){var t=h(e,2)[1];return ja("LEAVING_MEETING",{reason:"expeled by host"}),Ke(Zu(t))})))},handleAttendeeRaiseLowerHandEpic:function(e,t){return Kr(e,Ni).pipe(st((function(e){return[Ri.RaiseHand,Ri.LowerHand].indexOf(e.payload.data.action)>-1})),Bt(t),xt((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.data.data,i=o.jid,a=o.bRaiseHand;i===r.meeting.jid&&ja("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:a})})),wt(Pi()))},handleAttendeePutDownHandEpic:function(e,t){return Kr(e,Ni).pipe(st((function(e){return e.payload.data.action===Ri.PutdownHands})),Bt(t),xt((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.data.data,i=r.meeting.jid;Array.isArray(o)&&o.indexOf(i)>-1&&ki.getInstance().lowerHand(),ja("MEETING_WEBINAR_ATTENDEE_PUT_DOWN_HANDS",o)})),wt(Pi()))}}),al={meetingStatus:"initial",isWindowOpen:!1,apiKey:"",signature:"",lang:"en-US",tk:"",mtkGuid:"",pingRWCTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:null,meetingTopic:"",isSupportQA:!1,bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0},sl=vr((i(Vc={},"".concat(zo),ou((function(e,t){var n=t.payload;Object.assign(e,n)}))),i(Vc,"".concat(Qo),ou((function(e,t){var n=t.payload;e.isWindowOpen=n}))),i(Vc,"".concat(Jo),ou((function(e,t){var n=t.payload;e.apiKey=n.apiKey,e.signature=n.signature,e.lang=n.language}))),i(Vc,"".concat(Xo),ou((function(e,t){var n=t.payload;e.zak=n}))),i(Vc,"".concat(Yo),ou((function(e,t){var n=t.payload;e.tk=n.tk,e.mtkGuid=n.mtkGuid}))),i(Vc,"".concat(Zo),ou((function(e,t){var n=t.payload;e.pingRWCTimestamp=n}))),i(Vc,"".concat($o),ou((function(e,t){var n=t.payload;e.confId=n.confID,e.conId=n.conID,e.e2eEncrypt=n.e2eEncrypt,e.meetingNumber=parseInt(n.mn,10),e.zoomId=n.zoomID,e.meetingStatus="joined",e.jid=n.jid,e.xtoken=n.xtoken,e.groups=n.groups,e.svcUrl=n.svcUrl,e.encType=n.encType,e.userGUID=n.userGUID,e.userId=n.userID,e.role=n.role,e.participantID=n.participantID}))),i(Vc,"".concat(ei),ou((function(e,t){var n=t.payload;Object.assign(e,n)}))),i(Vc,"".concat(ni),ou((function(e,t){var n=t.payload;e.isHost=n}))),i(Vc,"".concat(ri),ou((function(e,t){var n=t.payload;e.isCoHost=n}))),i(Vc,"".concat(oi),ou((function(e,t){var n=t.payload;e.isOnHold=n}))),i(Vc,"".concat(ii),ou((function(e,t){var n=t.payload;e.isMeetingReset=n}))),i(Vc,"".concat(ai),ou((function(e,t){var n=t.payload;e.audioVideoBeforeOnHold=n}))),i(Vc,"".concat(si),ou((function(e,t){var n=t.payload;e.currentUserAudioBeforeReset=n}))),i(Vc,"".concat(ui),ou((function(e,t){var n=t.payload;e.isCurrentUserMutedBeforeReset=n}))),i(Vc,"".concat(ci),ou((function(e,t){var n=t.payload;e.meetingStatus=n}))),i(Vc,"".concat(di),ou((function(e,t){var n=t.payload;e.region=n.region,e.network=n.network}))),i(Vc,"".concat(li),ou((function(e,t){var n=t.payload;e.isCurrentUserStartVideoBeforeReset=n}))),i(Vc,"".concat(ti),ou((function(e,t){var n=t.payload;Object.assign(e,u(u({},al),{},{isMeetingReset:!0,currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:n.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:n.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:n.video,apiKey:e.apiKey,signature:e.signature,meetingNumber:e.meetingNumber,userName:e.userName,lang:e.lang,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,proxy:1,cv:e.cv}))}))),Vc),al),ul=Wr(ol,oc,il),cl=Symbol("store"),dl=Symbol("getState"),ll=Symbol("dispatch");function pl(e,t,n){var r=n.value;n.value=function(){var e=this[cl];if(e){var t=e.getState(),n=t.meeting,o=n.isOnHold,i=n.isMeetingReset,a=n.meetingStatus,s=n.isWebinar,u=t.socket.xmppSocketStatus;if("joined"!==a)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"closed"});if(s&&"connected"!==u)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"closed"});if(i)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"reconnecting"});if(o)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"on hold"})}for(var c=arguments.length,d=new Array(c),l=0;l<c;l++)d[l]=arguments[l];return r.apply(this,d)}}function fl(e,t,n){var r=n.value;n.value=function(){var e=this[cl];if(e){var t=e.getState(),n=t.meeting.isWebinar;if(!n)return Promise.reject({type:"IMPROPER_MEETING_STATE",reason:"non-webinar"})}for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r.apply(this,i)}}function hl(e,t,n){var r=n.value;n.value=function(){var e=this[cl];if(e){var t=e.getState(),n=Uu(t);if(!n)return Promise.reject({type:Da,reason:"only host or co-host can do the operation"})}for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r.apply(this,i)}}function vl(e,t,n){var r=n.value;n.value=function(){var e=this[cl];if(e){var t=e.getState(),n=Mu(t);if(!n)return Promise.reject({type:Da,reason:"only host can do the operation"})}for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r.apply(this,i)}}function yl(e){return function(t,n,r){var o=r.value;r.value=function(){var t=this[cl];if(t){var n=t.getState();if(void 0===n[e])return Promise.reject({type:Na,reason:"Module:".concat(e," is not enabled")})}for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return o.apply(this,i)}}}function gl(e){return function(t,n,r){var o=r.value;r.value=function(){var t=this[cl];if(t){var n=t.getState(),r=n.meeting.meetingOptions;if(!0===r[e])return Promise.reject({type:"OPERATION_LOCKED",reason:"".concat(e," is locked")})}for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o.apply(this,a)}}}function ml(e){return function(t,n,r){var o=r.value;r.value=function(t){var n=this[cl];if(n){var r=n.getState(),i=Array.isArray(e)?e:[e],a=Lu(r),s=a.find((function(e){return e.userId===t}));if(i.findIndex((function(e){return e===jc.Attendee}))>-1){var u=Vu(r);s=u.find((function(e){return e.userId===t}))}if(!s)return Promise.reject({type:ka,reason:"no matching user"});for(var c=n.getState(),d=c.meeting.userId,l=0;l<i.length;l++){var p=i[l];if(p===jc.Other&&t===d)return Promise.reject({type:Na,reason:"operation is not applicable to self"});if(p===jc.Self&&t!==d)return Promise.reject({type:Na,reason:"operation is only applicable to self "});if(p===jc.Client&&Eu(s.userType)||p===jc.Phone&&!Eu(s.userType))return Promise.reject({types:Na,reason:"improper target client"})}}for(var f=arguments.length,h=new Array(f>1?f-1:0),v=1;v<f;v++)h[v-1]=arguments[v];var y=[t].concat(h);return o.apply(this,y)}}}!function(e){e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee"}(jc||(jc={}));var El,Sl=function(e,t){return e>>10==t>>10},bl=function e(t){n(this,e),this[cl]=void 0,this[ll]=void 0,this[dl]=void 0,this[cl]=t,this[ll]=t.dispatch,this[dl]=t.getState};!function(e){e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs"}(El||(El={}));var _l,Al,Cl,Il,Ol,Tl,Rl,wl,Nl,Dl,kl,Pl,Ul,Ml,Vl,jl,Ll,Hl,xl,Fl,Gl,Bl,Wl,ql,Kl,zl,Ql,Jl,Xl,Yl,Zl,$l,ep,tp,np,rp,op,ip,ap,sp,up,cp,dp,lp,pp=Nu([Lu,function(e){return e.share.isReceiveSharing},function(e){return e.share.activeNodeId}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t){var r=e.find((function(e){return e.userId===n&&!0===e.sharerOn}));return r}return null})),fp=Si.createAgent(),hp=(_l=yl("audio"),Al=yl("audio"),Cl=yl("audio"),Il=yl("audio"),Ol=yl("audio"),Tl=yl("audio"),Rl=yl("audio"),wl=yl("audio"),Nl=yl("audio"),Dl=yl("audio"),kl=ml(jc.Attendee),Pl=yl("audio"),Ul=yl("audio"),Ml=yl("audio"),Vl=yl("audio"),jl=yl("audio"),Ll=yl("video"),Hl=yl("video"),xl=yl("video"),Fl=yl("video"),Gl=yl("video"),Bl=yl("video"),Wl=yl("video"),ql=yl("video"),Kl=yl("video"),zl=yl("video"),Ql=yl("video"),Jl=yl("video"),Xl=yl("share"),Yl=yl("share"),Zl=yl("share"),$l=yl("share"),ep=yl("share"),tp=yl("share"),np=yl("share"),rp=gl("isShareOptionLocked"),op=gl("isShareOptionLocked"),ip=yl("share"),ap=yl("share"),sp=yl("share"),up=yl("share"),b((cp=function(e){c(r,e);var t=f(r);function r(e){var o;return n(this,r),(o=t.call(this,e)).mediaAgent=void 0,o[cl].dispatch(Dr()),o.mediaAgent=Ti.getInstance(),o}return o(r,[{key:"joinComputerAudio",value:function(){var e=this,t=this[cl].getState(),n=Pu(t);if("computer"===(null==n?void 0:n.audio))return Promise.resolve();if("phone"===(null==n?void 0:n.audio))return Promise.reject({type:Na,reason:"joined by phone"});var r=t.audio,o=r.isAllowToTalk,i=r.isComputerAudioLoading,a=r.canPlayAudio,s=t.media,u=s.audioDecodeStatus,c=s.audioEncodeStatus;if(i)return Promise.reject({type:Na,reason:"Computer audio has been loading, please wait."});if(n){this[ll](Cc(!0));var d=n.userRole,l=bu(d);wc("audio",l&&!o?"success":c,u).subscribe((function(t){var n=h(t,2),r=n[0],o=n[1];if(r&&o){var i=a?Promise.resolve():function(){var e=document.createElement("audio");return e.muted=!1,e.volume=.1,e.src=URL.createObjectURL(Tc),e.play()}();void 0===i&&(i=Promise.resolve()),i.then((function(){fp.joinOrLeaveVoip(!0)})).catch((function(){e[ll](_c(!1))}))}}))}return"failed"===c||"failed"===u?(this[ll](Cc(!1)),Promise.reject({type:"INTERNAL_ERROR",reason:"audio encode or decode error"})):new Promise((function(t,n){lt(xa(Sa.JoinComputerAudio.success,1),it.apply(void 0,v(Sa.JoinComputerAudio.fail.map((function(e){return xa(e,1).pipe(ze((function(){return Ee({type:Da,reason:e})})))})))),ht(3e4).pipe(ze((function(){return Ee({type:"OPERATION_TIMEOUT"})})))).subscribe((function(){e[ll](Cc(!1)),t("")}),(function(t){fp.joinOrLeaveVoip(!1),e[ll](Cc(!1)),n(t)}))}))}},{key:"leaveComputerAudio",value:function(){var e=this[dl],t=this[ll],n=e(),r=n.audio.isComputerAudioLoading,o=Pu(n);return r?Promise.reject({type:Na,reason:"Computer audio has not finished joining, please wait."}):"computer"===(null==o?void 0:o.audio)?(this.mediaAgent.leaveComputerAudio(),fp.joinOrLeaveVoip(!1),t(gc(0)),Ha("AUDIO_CURRENT_USER_LEAVE_AUDIO")):Promise.resolve("")}},{key:"muteAudio",value:function(e){var t=this,n=this[dl],r=this[ll],o=n(),i=Pu(o);if(null==e||e===(null==i?void 0:i.userId))return""===(null==i?void 0:i.audio)||null===(null==i?void 0:i.audio)?Promise.reject({type:Na,reason:"no audio joined"}):!0===(null==i?void 0:i.muted)?Promise.resolve(""):(r(pc(!0)),fp.mute(i.userId,!0),Ha("AUDIO_CURRENT_USER_MUTED").then((function(){return t.mediaAgent.muteAudio(),""})));if(Uu(o)){var a=o.participants,s=a.allowTalkAttendeesList,u=a.attendeesList,c=s.concat(u).find((function(t){return t.userId===e}));return c?""===c.audio||null===c?Promise.reject({type:Na,reason:"no audio joined"}):!1===c.muted?(fp.mute(e,!0),Ha("AUDIO_PARTICIPANT_AUDIO_UPDATE",(function(t){return t.id===e&&1==t.muted}))):Promise.resolve(""):Promise.reject({type:ka,reason:"no matching user"})}return Promise.reject({type:Da})}},{key:"unmuteAudio",value:function(e){var t=this,n=this[dl],r=this[ll],o=n(),i=Pu(o);if(void 0===e||e===(null==i?void 0:i.userId))return""===(null==i?void 0:i.audio)||null===(null==i?void 0:i.audio)?Promise.reject({type:Na,reason:"no audio joined"}):!1===(null==i?void 0:i.muted)?Promise.resolve(""):(r(pc(!0)),o.audio.bCanUnmute?(fp.mute(i.userId,!1),Ha("AUDIO_CURRENT_USER_UNMUTED").then((function(){return t.mediaAgent.unmuteAudio(),""}))):Promise.reject({type:Da,reason:"host not allow unmute themselves"}));if(Uu(o)){var a=o.participants,s=a.allowTalkAttendeesList,u=a.attendeesList,c=s.concat(u).find((function(t){return t.userId===e}));return c?""===c.audio||null===c?Promise.reject({type:Na,reason:"no audio joined"}):(!0===c.muted&&fp.mute(e,!1),Promise.resolve("")):Promise.reject({type:ka,reason:"no matching user"})}return Promise.reject({type:Da})}},{key:"dialOut",value:function(e,t){var n=this[dl],r=this[ll],o=n(),i=o.meeting.callOutCountry;if(Array.isArray(i)&&i.findIndex((function(t){return t.code===e}))>-1){var a=Pu(o),s=fp.audioDialout(e+t,a.displayName,!0).seq;return r(uc(s)),La(Sa.JoinAudioByCallMe)}return Promise.reject({type:ka,reason:"no matching country"})}},{key:"cancelDialOut",value:function(e,t){return fp.audioCancelDialout(e+t,!0),La(Sa.cancelDialOut)}},{key:"hangup",value:function(){var e=(0,this[dl])(),t=Pu(e);return"phone"===(null==t?void 0:t.audio)&&null!==t.userId?(fp.audioDrop(t.userId),La(Sa.hangup)):Promise.reject({type:Na,reason:"not joined audio by phone"})}},{key:"mergeAudio",value:function(e,t){var n=this[dl],r=Lu(n()),o=r.find((function(t){return t.userId===e})),i=r.find((function(e){return e.userId===t}));return o&&i&&""===o.audio&&"phone"===i.audio&&Eu(i.userType)?(fp.bindTeleUser(t,e,!0),Ha("AUDIO_PARTICIPANT_AUDIO_UPDATE",(function(t){return t.id===e&&"phone"===t.audio}))):Promise.reject({type:ka})}},{key:"switchMicrophone",value:function(e){var t=this[dl],n=this[ll],r=t().audio,o=r.microphoneDevicesList,i=r.activeMicrophone;return-1==o.findIndex((function(t){return t.deviceId===e}))?Promise.reject({type:"INVALID_DEVICE_ID"}):(e!==i&&(this.mediaAgent.changeMicrophone(e),n(Sc(e))),Promise.resolve(""))}},{key:"switchSpeaker",value:function(e){var t=this[dl],n=this[ll],r=t().audio,o=r.speakerDevicesList,i=r.activeSpeaker;return-1==o.findIndex((function(t){return t.deviceId===e}))?Promise.reject({type:"INVALID_DEVICE_ID"}):(e!==i&&(this.mediaAgent.changeSpeaker(e),n(bc(e))),Promise.resolve(""))}},{key:"allowAttendeeToTalk",value:function(e,t){var n=(0,this[dl])(),r=Vu(n).find((function(t){return t.userId===e})),o=n.participants.allowTalkAttendeesList;if(t){if(o.findIndex((function(t){return t.userId===e}))>-1)return Promise.reject({type:ka,reason:"attendee is talking"});if(1!=(1&r.clientCap))return Promise.reject({type:Na,reason:"improper target client"})}else if(-1===o.findIndex((function(t){return t.userId===e})))return Promise.reject({type:ka,reason:"attendee is not talking"});return fp.allowToTalk(e,t),Ha("AUDIO_ALLOW_TO_TALK_RESPONSE",(function(t){return!0===t.bSuccess&&t.id===e}))}},{key:"muteAudioUponEntry",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.audio.bMutedUponEntry;return n===e?Promise.resolve(""):(fp.setMuteOnEntry(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bMutedUponEntry===e})))}},{key:"muteAllAudio",value:function(){return fp.audioMuteAll(!0),Ha("UPDATE_MEETING_ATTRIBUTE",(function(e){return!0===e.bMutedAll}))}},{key:"unmuteAllAudio",value:function(){return fp.audioMuteAll(!1),Ha("UPDATE_MEETING_ATTRIBUTE",(function(e){return!1===e.bMutedAll}))}},{key:"allowUnmuteAudioThemselves",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.audio.bCanUnmute;return n===e?Promise.resolve(""):(fp.allowUnmuteAudio(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bCanUnmute===e})))}},{key:"getDialOutCountries",value:function(){var e=this[cl].getState().meeting.callOutCountry;return Array.isArray(e)?e:[]}},{key:"getDialInTollNumbers",value:function(){var e=this[cl].getState().meeting.tollNumbers;return Array.isArray(e)?e:[]}},{key:"getMicrophones",value:function(){var e=this[cl].getState();return e.audio?v(e.audio.microphoneDevicesList):[]}},{key:"getSpeakers",value:function(){var e=this[cl].getState();return e.audio?v(e.audio.speakerDevicesList):[]}},{key:"getAudioState",value:function(e){var t=this[cl].getState(),n=t.meeting.isWebinar,r=null;return null==e?r=Pu(t):(r=t.participants.attendeesList.find((function(t){return t.userId===e})),n&&!r&&(r=t.participants.xmppAttendeeList.find((function(t){return t.userId===e})))),r?r.audio:null}},{key:"isAudioMuted",value:function(e){var t=this[cl].getState(),n=t.meeting.isWebinar,r=null;return void 0===e?r=Pu(t):(r=t.participants.attendeesList.find((function(t){return t.userId===e})),n&&!r&&(r=t.participants.xmppAttendeeList.find((function(t){return t.userId===e})))),!!r&&!!r.muted}},{key:"isAllowToUnmute",value:function(){var e=this[dl]();return!!e.audio&&e.audio.bCanUnmute}},{key:"getActiveMicrophone",value:function(){var e=this[dl]();return e.audio?e.audio.activeMicrophone:null}},{key:"getActiveSpeaker",value:function(){var e=this[dl]();return e.audio?e.audio.activeSpeaker:null}},{key:"startCaptureVideo",value:function(e,t){var n=this,r=this[dl],o=this[ll],i=r(),a=Uu(i),s=i.media,u=s.videoDecodeStatus,c=s.videoEncodeStatus,d=i.video,l=d.videoSsrc,p=d.activeCamera,f=d.isCaptureCameraLoading,v=d.isCurrentUserStartedVideo,y=d.isVideoMuted,g=d.isVerifiedVideoCaptureCanvasAfterFailover;return!a&&y?Promise.reject({type:Na,reason:"Current user is muted and does not have the privilege to unmute."}):f?Promise.reject({type:Na,reason:"Capture camera is loading, please wait."}):v?Promise.reject({type:Na,reason:"Capture is already started."}):(o(Rd(!0)),wc("video",c,u).subscribe((function(r){var i=h(r,2),a=i[0],s=i[1];if(a&&s){!1===g&&(Array.isArray(e)?e.forEach((function(e){kc(document.querySelector("#".concat(e)))})):kc(document.querySelector("#".concat(e))),o(Dd(!0)));var u=document.querySelector("#".concat(Rc));u&&"VIDEO"===u.tagName||((u=document.createElement("video")).id=Rc,u.style.display="none",document.body.appendChild(u)),o(Od(e)),o(Ed(t||p)),n.mediaAgent.startCaptureVideo(l,e,Rc,t||p)}})),"failed"===u||"failed"===c?(o(Rd(!1)),Promise.reject({type:"INTERNAL_ERROR",reason:"Video encode or decode status is not success"})):La(ca).then((function(e){return o(wd(!1)),o(Ad(!1)),Promise.resolve(e)})).finally((function(){o(Rd(!1))})))}},{key:"stopCaptureVideo",value:function(){var e=this[dl],t=this[ll],n=e().video,r=n.isCaptureCameraLoading,o=n.isCurrentUserStartedVideo;return t(Od([])),r?Promise.reject({type:Na,reason:"Capture camera is loading, please wait."}):o?(t(Rd(!0)),this.mediaAgent.stopCaptureVideo(),Ha("VIDEO_CAPTURE_STOP_RESULT",(function(e){return!(null==e?void 0:e.failed)}),5e3).finally((function(){t(Rd(!1))}))):Promise.reject({type:Na,reason:"Capture is already stopped."})}},{key:"switchCamera",value:function(e){var t=this[dl],n=this[ll],r=t().video,o=r.cameraDevicesList,i=r.isCurrentUserStartedVideo;return-1===o.map((function(e){return e.deviceId})).indexOf(e)?Promise.reject({type:ka,reason:"Cannot find cameraDeviceId in camera devices list."}):(i&&this.mediaAgent.changeCamera(e),n(Ed(e)),Promise.resolve())}},{key:"startRenderVideo",value:function(e,t,n,r){var o=this,i=this[dl],a=this[ll],s=i(),u=!!r,c=s.media,d=c.videoDecodeStatus,l=c.videoEncodeStatus,p=s.video,f=p.isRemoteVideoActive,v=p.isReceivingVideo,y=p.isVerifiedVideoRenderCanvasAfterFailover;return e?f?v?Promise.reject({type:Na,reason:"Video is rendering."}):(wc("video","success",d).subscribe((function(i){var s=h(i,2),c=s[0],d=s[1];if(c&&d){var l=e;!1===y&&(l=kc(e),a(Nd(!0))),a(bd(!0)),o.mediaAgent.renderVideo(l,r,u),o.mediaAgent.switchVideoSource(n||0),fp.subscribeVideo(1,t,!1)}})),"failed"===d||"failed"===l?Promise.reject({type:"INTERNAL_ERROR",reason:"Video encode or decode status is failed"}):La(da)):Promise.reject({type:Na,reason:"There is not any active video"}):Promise.reject({type:ka,reason:"Received canvas is falsy"})}},{key:"stopRenderVideo",value:function(){var e=this[dl],t=this[ll];return e().video.isReceivingVideo?(this.mediaAgent.stopRenderVideo(),fp.unsubscribeVideo(1),t(bd(!1)),Promise.resolve()):Promise.reject({type:Na,reason:"No Video is rendering."})}},{key:"switchCanvasForVideoCapture",value:function(e){var t="string"==typeof e?[e]:e,n=this[cl].getState().video.captureCanvasList;return t.every((function(e){return-1!==n.indexOf(e)}))?(this.mediaAgent.switchCanvasForVideoCapture(e),Promise.resolve()):Promise.reject({type:ka,reason:"Received canvas is not all inclued in the startCaptureVideo canvas list"})}},{key:"cancelSpotlight",value:function(e){var t=this[cl].getState().video,n=t.isSpotlight,r=t.spotlightNodeId;return n?Sl(e,r)?(fp.spotlightVideo(e,!1),Ha(pa.success,void 0,5e3)):Promise.reject({type:ka,reason:"This user is not spotlight."}):Promise.reject({type:Na,reason:"No video is spotlight."})}},{key:"cancelCurrentUserSpotlight",value:function(){var e=this[cl].getState(),t=ku(e),n=e.video,r=n.isSpotlight,o=n.spotlightNodeId;return r?Sl(t,o)?(fp.spotlightVideo(t,!1),Ha(pa.success,void 0,5e3)):Promise.reject({type:Na,reason:"Current user is not spotlight."}):Promise.reject({type:Na,reason:"No video is spotlight."})}},{key:"spotlight",value:function(e){var t=4294966272&this[cl].getState().video.spotlightNodeId;return"number"!=typeof e||isNaN(e)?Promise.reject({type:ka,reason:"Type of user id should be non-NaN number!"}):t===e?Promise.reject({type:ka,reason:"User already spotlight!"}):(fp.spotlightVideo(e,!0),Ha(la.success,void 0,5e3))}},{key:"notifyRwgIsMuteVideo",value:function(e,t){return-1===this[cl].getState().participants.attendeesList.map((function(e){return e.userId})).indexOf(e)?Promise.reject({type:ka,reason:"Cannot find userid: ".concat(e," in attendeesList.")}):(fp.notifyRwgIsMuteVideo(e,t),Promise.resolve())}},{key:"muteAttendeeVideo",value:function(e){return this[cl].getState().meeting.userId===e?this.stopCaptureVideo():this.notifyRwgIsMuteVideo(e,!0)}},{key:"unmuteAttendeeVideo",value:function(e){var t=this[cl].getState();return e===ku(t)?Promise.reject({type:ka,reason:"Cannot unmute yourself. But a host can start video even in muted."}):this.notifyRwgIsMuteVideo(e,!1)}},{key:"isRemoteVideoActive",value:function(){var e=this[cl].getState();return!!e.video&&e.video.isRemoteVideoActive}},{key:"isReceivingVideo",value:function(){var e=this[cl].getState();return!!e.video&&e.video.isReceivingVideo}},{key:"isCapturingVideo",value:function(){var e=this[cl].getState();return!!e.video&&e.video.isCurrentUserStartedVideo}},{key:"isCameraTaken",value:function(){var e=this[cl].getState();return!!e.video&&e.video.isCameraTaken}},{key:"isCaptureForbidden",value:function(){var e=this[cl].getState();return!!e.video&&e.video.isCaptureForbidden}},{key:"getCameras",value:function(){var e=this[cl].getState();return e.video?e.video.cameraDevicesList.map((function(e){return Object.assign({},e)})):[]}},{key:"getActiveCamera",value:function(){var e=this[cl].getState();return e.video?e.video.activeCamera:""}},{key:"getActiveVideoId",value:function(){var e=this[cl].getState();return e.video?e.video.activeVideoId:0}},{key:"getVideoCodecStatus",value:function(){var e=this[cl].getState();if(!e.media)return{videoEncodeStatus:"initial",videoDecodeStatus:"initial"};var t=e.media,n=t.videoDecodeStatus;return{videoEncodeStatus:t.videoEncodeStatus,videoDecodeStatus:n}}},{key:"getCurrentUserVideoSsrc",value:function(){var e=this[cl].getState();return e.video?e.video.videoSsrc:0}},{key:"getReceivedVideoDimension",value:function(){var e=this[cl].getState();return e.video?e.video.receivedVideoDimension:null}},{key:"startRenderScreenShare",value:function(e,t,n,r){var o=this,i=this[ll],a=this[dl](),s=a.share,u=s.isReceiveSharing,c=s.isRemoteSharingActive,d=s.activeNodeId,l=s.activeSsrc,p=s.shareQuality,f=s.status,v=s.isVerifiedRenderCanvasAfterFailover,y=a.media.sharingDecodeStatus;if(!t||e!==d)return Promise.reject({type:ka,reason:""});if(!c||u||f!==Oc.End)return Promise.reject({type:Na,reason:""});if(Tn())i(zc(!0)),i(Bc({canvas:t,cursorCanvas:r}));else{var g=!!n;if(wc("sharing","success",y).subscribe((function(a){if(h(a,2)[1]){var s=t;!1===v&&(s=kc(t),i(rd(!0))),i(zc(!0)),fp.subscribeSharing(e,p),o.mediaAgent.renderSharing(l,s,r,g,n)}})),"failed"===y)return Promise.reject({type:"INTERNAL_ERROR",reason:""})}return La({success:"SHARE_RECEIVED_DIMENSION_CHANGE"})}},{key:"stopRenderScreenShare",value:function(){var e=this[dl]().share,t=e.isReceiveSharing,n=e.activeNodeId,r=this[ll];return t?(Tn()||(this.mediaAgent.stopRenderSharing(),fp.unsubscribeSharing(n)),r(zc(!1)),Promise.resolve("")):Promise.reject({type:Na,reason:""})}},{key:"switchScreenShare",value:function(e){var t=this[dl](),n=this[ll],r=t.share,o=r.isReceiveSharing,i=r.activeNodeId,a=r.isRemoteControlApproved,s=r.isGrabRemoteControl,u=r.shareQuality;return o?e===i?Promise.resolve(""):xu(t).findIndex((function(e){return e.userId===i}))>-1?(a&&(s&&fp.subscribeGrabRemoteControl(i,!1),fp.sharingRequestRemoteControl(i,!1)),fp.unsubscribeSharing(i),fp.subscribeSharing(e,u),this.mediaAgent.switchSharingSource(e),n(Kc({bStatus:1,activeNodeID:e,ssrc:e})),Promise.resolve("")):Promise.reject({type:ka,reason:"no matching user id"}):Promise.reject({type:Na})}},{key:"startScreenShare",value:function(e){var t=this,n=this[dl](),r=this[ll],o=n.meeting.bIbDisableShare,i=n.share,a=i.sharePrivilege,s=i.ssrc,c=i.isChromeExtensionInstalled,d=i.isVerifiedCaptureCanvasAfterFailover,l=n.media.sharingEncodeStatus;if(o)return Promise.reject({type:Na,reason:"information barrier"});var p=Uu(n),f=xu(n);if(a===Ic.OnlyHost&&!p)return Promise.reject({type:Da,reason:"only host can start screen share"});if(a===Ic.HostGrab&&!p&&f.length>0)return Promise.reject({type:Da,reason:"only host can grab screen share"});var v=Pu(n);if(!0===(null==v?void 0:v.sharerOn))return Promise.reject({type:Na,reason:"you have already started screen share."});var y=me(!0);return Pn()&&void 0===navigator.mediaDevices.getDisplayMedia&&!c&&(this.mediaAgent.checkChromeSharingExtension(),y=xa("SHARE_CHECK_CHROME_SHARING_EXTENSION",1)),$e(wc("sharing",l,"success"),y).subscribe((function(n){var o=h(n,2),i=o[0],a=o[1];if(h(i,1)[0]&&a){!1===d&&(kc(document.querySelector("#".concat(e))),r(od(!0)));var u=document.querySelector("#".concat("__ZOOM_SDK_SHARING_VIDEO__"));u&&"VIDEO"===u.tagName||((u=document.createElement("video")).id="__ZOOM_SDK_SHARING_VIDEO__",u.style.display="none",document.body.appendChild(u)),t.mediaAgent.startDesktopSharing(s,e,"__ZOOM_SDK_SHARING_VIDEO__")}})),new Promise((function(e,t){lt(xa("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",1),xa("SHARE_CHECK_CHROME_SHARING_EXTENSION").pipe(st((function(e){return!e})),Ot(1),kt(Ee({reason:"required extension",extensionUrl:"https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle"}))),xa("SHARE_START_DESKTOP_SHARE_FAILED",1).pipe(kt(Ee({reason:"user deny screen share"})))).subscribe((function(n){!0===n.sharerOn?e(""):t({type:"INTERNAL_ERROR"})}),(function(e){t(u({type:Na},e))}))}))}},{key:"stopScreenShare",value:function(){var e=this[dl](),t=this[ll],n=e.share.status,r=e.meeting.userId;return n===Oc.End?Promise.resolve(""):(t(Yc(Oc.End)),fp.stopSharing(r),this.mediaAgent.stopDesktopSharing(),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(e){return!1===e.sharerOn})))}},{key:"pauseScreenShare",value:function(){var e=this[dl](),t=this[ll];return e.share.status===Oc.Sharing?(fp.pauseSharing(),this.mediaAgent.pauseDesktopSharing(),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(e){return!0===e.sharerPause})).then((function(){return t(Yc(Oc.Paused)),""}))):Promise.reject({type:Na})}},{key:"resumeScreenShare",value:function(){var e=this[dl](),t=this[ll];return e.share.status===Oc.Paused?(fp.resumeSharing(),this.mediaAgent.resumeDesktopSharing(),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(e){return!0===e.sharerOn&&!1===e.sharerPause})).then((function(){return t(Yc(Oc.Sharing)),""}))):Promise.reject({type:Na})}},{key:"lockScreenShare",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.setScreenSharePrivilege(e?Ic.OnlyHost:Ic.HostGrab)}},{key:"setScreenSharePrivilege",value:function(e){return this[dl]().share.sharePrivilege===e?Promise.resolve(""):Object.values(Ic).includes(e)?(fp.lockSharing(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.lockShare===e}))):Promise.reject({type:ka})}},{key:"requestRemoteControl",value:function(){var e=this[dl]().share,t=e.isReceiveSharing,n=e.isRemoteControlApproved,r=e.activeNodeId;return this.isTargetShareSupportRemoteControl(r)?t?n?Promise.reject({type:Na,reason:"already be approved"}):(fp.sharingRequestRemoteControl(r,!0),new Promise((function(e){xa("SHARE_REMOTE_CONTROL_APPROVE",1).subscribe((function(t){e(t)}))}))):Promise.reject({type:Na,reason:"no render screen share"}):Promise.reject({type:ka})}},{key:"giveUpRemoteControl",value:function(){var e=this[dl]().share,t=e.isRemoteControlApproved,n=e.isGrabRemoteControl,r=e.activeNodeId;return t?(n&&fp.subscribeGrabRemoteControl(r,!1),fp.sharingRequestRemoteControl(r,!1),Ha("SHARE_REMOTE_CONTROL_APPROVE",(function(e){return!1===e}))):Promise.reject({type:Na})}},{key:"startRemoteControl",value:function(e){var t=this,n=this[dl]().share,r=n.isSDKGrabControl,o=n.isGrabRemoteControl,i=n.isRemoteControlApproved,a=n.activeNodeId;if(!i)return Promise.reject({type:Na,reason:"required to be approved"});var s=me(o);return o||(fp.subscribeGrabRemoteControl(a,!0),s=xa("SHARE_GRAB_REMOTE_CONTROL_CHANGE",1).pipe(st((function(e){return!!e})))),s.subscribe((function(){var n=t[dl](),o=pp(n);o&&(r?(t.mediaAgent.resendRemoteControlPositionPDU(),t.mediaAgent.updateRemoteControlProperties({os:o.os,isControllerNow:!0,dimension:Dc(e)})):t.mediaAgent.startRemoteControl(e,o.os,Dc(e)))})),r?Ha("SHARE_GRAB_REMOTE_CONTROL_CHANGE",(function(e){return!!e})):La({success:"SHARE_REMOTE_CONTROL_SUCCESS",fail:["SHARE_REMOTE_CONTROL_FAILED"]})}},{key:"grabRemotoControl",value:function(){var e=this[dl]().share,t=e.isGrabRemoteControl,n=e.isRemoteControlApproved,r=e.activeNodeId;return n?t?Promise.resolve(""):(fp.subscribeGrabRemoteControl(r,!0),Ha("SHARE_GRAB_REMOTE_CONTROL_CHANGE",(function(e){return!!e}))):Promise.reject({type:Na,reason:"should be approved before grab"})}},{key:"isTargetShareSupportRemoteControl",value:function(e){var t=this[dl](),n=xu(t).find((function(t){return t.userId===e}));return!!n&&!function(e){return e===El.WebClient}(n.os)}},{key:"getShareUserList",value:function(){var e=this[cl].getState();return e.share?xu(e).map((function(e){return{userId:e.userId,displayName:e.displayName,audio:e.audio,muted:e.muted,isHost:e.isHost,isCoHost:e.bCoHost,avatar:e.avatar,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharePause:e.sharerPause}})):[]}},{key:"getActiveShareUserId",value:function(){var e=this[cl].getState();return e.share?e.share.activeNodeId:0}},{key:"isReceiveSharing",value:function(){var e=this[dl]();return!!e.share&&e.share.isReceiveSharing}},{key:"isRemoteControlApproved",value:function(){var e=this[dl]();return!!e.share&&e.share.isRemoteControlApproved}},{key:"isRemotelyControlling",value:function(){var e=this[dl]();return!!e.share&&e.share.isGrabRemoteControl}},{key:"isShareLocked",value:function(){var e=this[dl]();return!!e.share&&e.share.sharePrivilege===Ic.OnlyHost}},{key:"getSharePrivilege",value:function(){var e=this[dl]();return e.share?e.share.sharePrivilege:null}},{key:"getShareContentDimension",value:function(){var e=this[dl]();if(e.share){if(e.share.status!==Oc.End)return u({},e.share.shareDimension);var t=e.share.receivedShareDimension;return{width:t.width,height:t.height}}return null}},{key:"getShareStatus",value:function(){var e=this[dl]();return e.share?e.share.status:null}}]),r}(bl)).prototype,"joinComputerAudio",[pl,_l],Object.getOwnPropertyDescriptor(cp.prototype,"joinComputerAudio"),cp.prototype),b(cp.prototype,"leaveComputerAudio",[pl,Al],Object.getOwnPropertyDescriptor(cp.prototype,"leaveComputerAudio"),cp.prototype),b(cp.prototype,"muteAudio",[pl,Cl],Object.getOwnPropertyDescriptor(cp.prototype,"muteAudio"),cp.prototype),b(cp.prototype,"unmuteAudio",[pl,Il],Object.getOwnPropertyDescriptor(cp.prototype,"unmuteAudio"),cp.prototype),b(cp.prototype,"dialOut",[pl,Ol],Object.getOwnPropertyDescriptor(cp.prototype,"dialOut"),cp.prototype),b(cp.prototype,"cancelDialOut",[pl,Tl],Object.getOwnPropertyDescriptor(cp.prototype,"cancelDialOut"),cp.prototype),b(cp.prototype,"hangup",[pl,Rl],Object.getOwnPropertyDescriptor(cp.prototype,"hangup"),cp.prototype),b(cp.prototype,"mergeAudio",[hl,pl,wl],Object.getOwnPropertyDescriptor(cp.prototype,"mergeAudio"),cp.prototype),b(cp.prototype,"switchMicrophone",[pl,Nl],Object.getOwnPropertyDescriptor(cp.prototype,"switchMicrophone"),cp.prototype),b(cp.prototype,"switchSpeaker",[pl,Dl],Object.getOwnPropertyDescriptor(cp.prototype,"switchSpeaker"),cp.prototype),b(cp.prototype,"allowAttendeeToTalk",[kl,hl,fl,pl,Pl],Object.getOwnPropertyDescriptor(cp.prototype,"allowAttendeeToTalk"),cp.prototype),b(cp.prototype,"muteAudioUponEntry",[hl,pl,Ul],Object.getOwnPropertyDescriptor(cp.prototype,"muteAudioUponEntry"),cp.prototype),b(cp.prototype,"muteAllAudio",[hl,pl,Ml],Object.getOwnPropertyDescriptor(cp.prototype,"muteAllAudio"),cp.prototype),b(cp.prototype,"unmuteAllAudio",[hl,pl,Vl],Object.getOwnPropertyDescriptor(cp.prototype,"unmuteAllAudio"),cp.prototype),b(cp.prototype,"allowUnmuteAudioThemselves",[hl,pl,jl],Object.getOwnPropertyDescriptor(cp.prototype,"allowUnmuteAudioThemselves"),cp.prototype),b(cp.prototype,"startCaptureVideo",[pl,Ll],Object.getOwnPropertyDescriptor(cp.prototype,"startCaptureVideo"),cp.prototype),b(cp.prototype,"stopCaptureVideo",[pl,Hl],Object.getOwnPropertyDescriptor(cp.prototype,"stopCaptureVideo"),cp.prototype),b(cp.prototype,"switchCamera",[pl,xl],Object.getOwnPropertyDescriptor(cp.prototype,"switchCamera"),cp.prototype),b(cp.prototype,"startRenderVideo",[pl,Fl],Object.getOwnPropertyDescriptor(cp.prototype,"startRenderVideo"),cp.prototype),b(cp.prototype,"stopRenderVideo",[pl,Gl],Object.getOwnPropertyDescriptor(cp.prototype,"stopRenderVideo"),cp.prototype),b(cp.prototype,"switchCanvasForVideoCapture",[pl,Bl],Object.getOwnPropertyDescriptor(cp.prototype,"switchCanvasForVideoCapture"),cp.prototype),b(cp.prototype,"cancelSpotlight",[hl,pl,Wl],Object.getOwnPropertyDescriptor(cp.prototype,"cancelSpotlight"),cp.prototype),b(cp.prototype,"cancelCurrentUserSpotlight",[pl,ql],Object.getOwnPropertyDescriptor(cp.prototype,"cancelCurrentUserSpotlight"),cp.prototype),b(cp.prototype,"spotlight",[hl,pl,Kl],Object.getOwnPropertyDescriptor(cp.prototype,"spotlight"),cp.prototype),b(cp.prototype,"notifyRwgIsMuteVideo",[hl,pl,zl],Object.getOwnPropertyDescriptor(cp.prototype,"notifyRwgIsMuteVideo"),cp.prototype),b(cp.prototype,"muteAttendeeVideo",[hl,pl,Ql],Object.getOwnPropertyDescriptor(cp.prototype,"muteAttendeeVideo"),cp.prototype),b(cp.prototype,"unmuteAttendeeVideo",[hl,pl,Jl],Object.getOwnPropertyDescriptor(cp.prototype,"unmuteAttendeeVideo"),cp.prototype),b(cp.prototype,"startRenderScreenShare",[pl,Xl],Object.getOwnPropertyDescriptor(cp.prototype,"startRenderScreenShare"),cp.prototype),b(cp.prototype,"stopRenderScreenShare",[pl,Yl],Object.getOwnPropertyDescriptor(cp.prototype,"stopRenderScreenShare"),cp.prototype),b(cp.prototype,"switchScreenShare",[pl,Zl],Object.getOwnPropertyDescriptor(cp.prototype,"switchScreenShare"),cp.prototype),b(cp.prototype,"startScreenShare",[pl,$l],Object.getOwnPropertyDescriptor(cp.prototype,"startScreenShare"),cp.prototype),b(cp.prototype,"stopScreenShare",[pl,ep],Object.getOwnPropertyDescriptor(cp.prototype,"stopScreenShare"),cp.prototype),b(cp.prototype,"pauseScreenShare",[pl,tp],Object.getOwnPropertyDescriptor(cp.prototype,"pauseScreenShare"),cp.prototype),b(cp.prototype,"resumeScreenShare",[pl,np],Object.getOwnPropertyDescriptor(cp.prototype,"resumeScreenShare"),cp.prototype),b(cp.prototype,"lockScreenShare",[hl,rp,pl],Object.getOwnPropertyDescriptor(cp.prototype,"lockScreenShare"),cp.prototype),b(cp.prototype,"setScreenSharePrivilege",[hl,op,pl],Object.getOwnPropertyDescriptor(cp.prototype,"setScreenSharePrivilege"),cp.prototype),b(cp.prototype,"requestRemoteControl",[pl,ip],Object.getOwnPropertyDescriptor(cp.prototype,"requestRemoteControl"),cp.prototype),b(cp.prototype,"giveUpRemoteControl",[pl,ap],Object.getOwnPropertyDescriptor(cp.prototype,"giveUpRemoteControl"),cp.prototype),b(cp.prototype,"startRemoteControl",[pl,sp],Object.getOwnPropertyDescriptor(cp.prototype,"startRemoteControl"),cp.prototype),b(cp.prototype,"grabRemotoControl",[pl,up],Object.getOwnPropertyDescriptor(cp.prototype,"grabRemotoControl"),cp.prototype),cp),vp={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0},yp=vr((i(dp={},"".concat(Mr),ou((function(e,t){var n=t.payload;e.audioDecodeStatus=n}))),i(dp,"".concat(Ur),ou((function(e,t){var n=t.payload;e.audioEncodeStatus=n}))),i(dp,"".concat(Hr),ou((function(e,t){var n=t.payload;e.sharingDecodeStatus=n}))),i(dp,"".concat(Lr),ou((function(e,t){var n=t.payload;e.sharingEncodeStatus=n}))),i(dp,"".concat(jr),ou((function(e,t){var n=t.payload;e.videoDecodeStatus=n}))),i(dp,"".concat(Vr),ou((function(e,t){var n=t.payload;e.videoEncodeStatus=n}))),i(dp,"".concat(xr),ou((function(e,t){var n=t.payload;e.mediaConstraints=n.mediaConstraints,e.assetsPath=n.assetsPath}))),i(dp,"".concat(Fr),(function(e){return u(u({},vp),{},{mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath})})),dp),vp),gp=qu.InitSuccessVideo,mp=qu.InitSuccessAudio,Ep=qu.InitSuccessSharing,Sp=qu.InitFailedVideo,bp=qu.InitFailedAudio,_p=qu.InitFailedSharing,Ap=new ie(Br(ul,su,Fu,Wr(Object.freeze({__proto__:null,connectToMediaStreamEpic:function(e,t){return e.pipe(Jt("".concat(Dr)),Bt(t),st((function(e){var t=h(e,2)[1];return void 0!==t.media.assetsPath&&void 0!==t.media.mediaConstraints})),xt((function(e){var n=h(e,2)[1],r=n.media,o=r.assetsPath,i=r.mediaConstraints;lp=Ti.getInstance(),o&&i&&lp.setAssetsAndConstraint(o,i);var a=Pu(n);(a?me(a):xa("ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",1).pipe(_e(De),Bt(t),Ve((function(e){var t=h(e,2)[1];return Pu(t)})))).pipe(Bt(t)).subscribe((function(e){var t,n=h(e,2),r=n[0],o=n[1].meeting,i=o.svcUrl,a=o.meetingNumber,s=o.conId,u=o.e2eEncrypt,c=o.userId,d=o.isWebinar;r&&(null===(t=lp)||void 0===t||t.connect({svcUrl:i,meetingNumber:a,conId:s,e2eEncrypt:u,isViewOnly:bu(r.userRole),currentUserId:c,isWebinar:d}))}))})),jt((function(){return nt((function(e){var t;return null===(t=lp)||void 0===t?void 0:t.registerCallback(e)}),(function(e){var t;return null===(t=lp)||void 0===t?void 0:t.unregisterCallback(e)}),(function(e,t){return{type:e,data:t}})).pipe(Ve((function(e){return kr(e)})))})))},connectedMediaStreamEpic:function(e){return zr(e,[gp,mp,Ep,Sp,bp,_p]).pipe(Mi((function(e){var t=e.payload,n=t.type,r=t.data;if(n===mp||n===bp){if(r===Ku.EncodeSuccess)return ja("AUDIO_ENCODE_SUCCESS"),me(Ur("success"));if(r===Ku.DecodeSuccess)return ja("AUDIO_DECODE_SUCCESS"),me(Mr("success"));if(r===Ku.EncodeFailed)return ja("AUDIO_ENCODE_FAIL"),me(Ur("failed"));if(r===Ku.DecodeFailed)return ja("AUDIO_DECODE_FAIL"),me(Mr("failed"))}else if(n===gp||n===Sp){if(r===Ku.EncodeSuccess)return ja("VIDEO_ENCODE_SUCCESS"),me(Vr("success"));if(r===Ku.DecodeSuccess)return ja("VIDEO_DECODE_SUCCESS"),me(jr("success"));if(r===Ku.EncodeFailed)return ja("VIDEO_ENCODE_FAIL"),me(Vr("failed"));if(r===Ku.DecodeFailed)return ja("VIDEO_DECODE_FAIL"),me(jr("failed"))}else if(n===Ep||n===_p){if(r===Ku.EncodeSuccess)return ja("SHARING_ENCODE_SUCCESS"),me(Lr("success"));if(r===Ku.DecodeSuccess)return ja("SHARING_DECODE_SUCCESS"),me(Hr("success"));if(r===Ku.EncodeFailed)return ja("SHARING_ENCODE_FAIL"),me(Lr("failed"));if(r===Ku.DecodeFailed)return ja("SHARING_DECODE_FAIL"),me(Hr("failed"));if(n===Ep&&void 0===r)return ja("SHARING_DECODE_SUCCESS"),me(Hr("success"))}})))},mediaDeviceUpdateEpic:function(e,n){return zr(e,[gp,mp]).pipe(Vi((function(){if("object"===t(navigator.mediaDevices))return it(Nc(),it(zr(e,qu.StartVideoCaptureSuccess),tt(navigator.mediaDevices,"devicechange"),zr(e,qu.UserGrantCaptureAudio)).pipe(ze((function(){return Nc().pipe(xt((function(){ja("MEDIA_DEVICE_CHANGE")})))})))).pipe(Bt(n),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=[mc(n.microphones),Ec(n.speakers),md(n.cameras)];if(r.audio){var i,a,s=r.audio,u=s.activeMicrophone,c=s.activeSpeaker,d=s.microphoneDevicesList,l=s.speakerDevicesList,p=n.microphones,f=n.speakers,v=d.filter((function(e){return-1===p.findIndex((function(t){return t.deviceId===e.deviceId}))})),y=l.filter((function(e){return-1===f.findIndex((function(t){return t.deviceId===e.deviceId}))}));v.length>0&&v[0].deviceId===u&&(null===(i=lp)||void 0===i||i.changeMicrophone("default"),o.push(Sc("default"))),y.length>0&&y[0].deviceId===c&&(null===(a=lp)||void 0===a||a.changeSpeaker("default"),o.push(bc("default")))}return Ke(o)})))})))},sendUserNodeListToMediaSDKEpic:function(e){return qr(e,7937).pipe(xt((function(e){var t=e.payload.body,n=Ti.getInstance();t.add&&n.sendUserNodeList(t.add.map((function(e){return{userid:e.id,sn:e.zoomID&&En(e.zoomID)}}))),t.remove&&n.sendUserNodeList(t.remove.map((function(e){return{userid:e.id,bremove:!0}})))})),wt(Pi()))},handleMediaSdkGcmIVResponseEpic:function(e){return zr(e,qu.AesGcmIvResponse).pipe(xt((function(e){var t=e.payload.data,n=t.workerType,r=t.iv,o=gi.get(fi.WebclientIVState);if(o){var a=u(u({},o),{},i({},n,r));gi.set(fi.WebclientIVState,a,Po.SessionStorage)}})),wt(Pi()))}})))),Cp=function(e,t,n){return Ap.pipe(ze((function(r){return r(e,t,n)})))},Ip={meeting:sl,socket:au,participants:Iu,media:yp},Op=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=de.constructor,n=new t(de.SchedulerAction),r=new re,o=void 0,i=function(t){o=t;var i=(new re).pipe(_e(n)),a=(new re).pipe(_e(n)),s=new Yt(i),u=new Zt(a,o.getState());return r.pipe(Ve((function(t){var n="dependencies"in e?t(s,u,e.dependencies):t(s,u);if(!n)throw new TypeError('Your root Epic "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return n})),ze((function(e){return Ke(e).pipe(Mt(n),_e(n))}))).subscribe(o.dispatch),function(e){return function(t){var n=e(t);return a.next(o.getState()),i.next(t),n}}};return i.run=function(e){r.next(e)},i}(),Tp=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D;function Rp(){var e=[Op],t=O(wp(),Tp(k.apply(void 0,e)));return t.asyncReducers={},t.injectReducer=function(e,n){void 0===t.asyncReducers[e]&&(t.asyncReducers[e]=n,t.replaceReducer(wp(t.asyncReducers)))},t.injectEpic=function(e){Ap.next(e)},Op.run(Cp),t}function wp(e){return function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:C.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:C.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+C.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],d=e[u],l=c(d,t);if(void 0===l){var p=T(u,t);throw new Error(p)}o[u]=l,r=r||l!==d}return(r=r||a.length!==Object.keys(e).length)?o:e}}(u(u({},Ip),e))}var Np,Dp,kp,Pp=function(e,t,n){var r,o=null;return n?"same"!==(r=function(e,t){var n=null,r=0,o=t.length,i=e.length;if(0===o&&i>0)return{operation:"start",changedContent:e,where:0,count:-1};if(0===i&&o>0)return{operation:"delete",changedContent:t,where:0,count:Rn(t)};if(0===i&&0===o)return{operation:"same"};for(var a=0;a<i&&e[a]===t[a];a++)n=a,r+=wn(e[a]);return null===n?{operation:"replace",changedContent:e,where:0,count:-1}:(n+=1)===o&&n<i?{operation:"insert",changedContent:e.slice(n),where:r,count:-1}:n<o&&n===i?{operation:"delete",changedContent:t.slice(n),where:r,count:Rn(t.slice(n))}:n===o&&n===i?{operation:"same"}:{operation:"replace",changedContent:e,where:0,count:-1}}(e,t)).operation&&(o=r.changedContent):(o=e,r={text:e,seq:1}),Promise.resolve(o).then((function(e){return e?Ii.beginEncrypt({text:e,type:bi.CC_MESSAGE}).then((function(e){return u(u({},r),{},n?{changedContent:e}:{text:e})})):null}))},Up=function(e,t,n,r){var o=e;switch(n){case"start":case"replace":o=t;break;case"insert":o+=t;break;case"delete":o=function(e,t){if(!e||0===t)return"";for(var n=0,r=0;r<e.length;r++)if((n+=wn(e[r]))===t)return e.slice(0,r+1);return e}(o,r)}return o},Mp=Object.freeze({__proto__:null,assignCcEditorResponse:function(e,t){return qr(e,7937).pipe(Ve((function(e){var t,n,r,o;return(null===(t=e.payload.body)||void 0===t||null===(n=t.add)||void 0===n?void 0:n.find((function(e){return e.bCCEditor})))||(null===(r=e.payload.body)||void 0===r||null===(o=r.update)||void 0===o?void 0:o.find((function(e){return e.bCCEditor})))})),st((function(e){return e})),Mi((function(e){var n=e.id;ja("CC_ASSIGN_CC_EDITOR_SUCCESS",{userId:n});var r=t.value.meeting.userId===n,o=e.zoomID;if(!e.zoomID){var i=t.value.participants.attendeesList.find((function(e){return e.userId===n}));o=null==i?void 0:i.zoomID}return Ke([qd({editorId:n,isEditor:r,editorZoomId:o}),Kd({text:"",finished:!1}),zd({text:"",finished:!1})])})))},sendCcTextResponse:function(e,t){return qr(e,4126).pipe(Ui((function(e){0===e.payload.body.res&&ja("CC_RECEIVE_MESSAGE",t.value.closedCaption.sendBody)})))},receiveCcText:function(e,t){return qr(e,7943).pipe(Mi((function(e){var n=t.value.closedCaption.tempReceiveCcText,r=e.payload.body,o=r.changedContent,i=r.operation,a=r.where,s=r.text,u=o||s;return Ii.beginDecrypt({decryptedText:u,type:bi.CC_MESSAGE,zoomId:t.value.closedCaption.editorZoomId}).then((function(e){var t=e.message.replace(/[\r\n]/g,"");if(t){if(o){var r={text:Up(n,t,i,a),finished:!1};return setTimeout((function(){return ja("CC_RECEIVE_MESSAGE",r)}),0),zd(r)}if(s){var u={text:t,timeStamp:(new Date).valueOf(),finished:!0};return setTimeout((function(){return ja("CC_RECEIVE_MESSAGE",u)}),0),zd(u)}}}))})))},receiveGatewayInfoList:function(e){return qr(e,7938).pipe(Ui((function(e){if(e.payload.body.gatewayKey){var t=h(e.payload.body.gatewayKey.split("."),3),n=(t[0],t[1]),r=t[2];return Qd({newInfo:{userId:Number(n),sn:r}})}})))}}),Vp={editorId:NaN,isEditor:!1,tempSendCcText:"",tempReceiveCcText:"",gatewayInfoList:[],editorZoomId:"",ccHistory:[],sendBody:{}},jp=vr((i(Np={},"".concat(qd),ou((function(e,t){var n=t.payload;e.editorId=n.editorId,e.isEditor=n.isEditor,e.editorZoomId=n.editorZoomId}))),i(Np,"".concat(Kd),ou((function(e,t){var n=t.payload;n.finished&&e.ccHistory.push({text:n.text,timeStamp:n.timeStamp}),e.sendBody=n,e.tempSendCcText=n.finished?"":n.text}))),i(Np,"".concat(zd),ou((function(e,t){var n=t.payload;n.finished&&e.ccHistory.push({text:n.text,timeStamp:n.timeStamp}),e.tempReceiveCcText=n.finished?"":n.text}))),i(Np,"".concat(Qd),ou((function(e,t){var n=t.payload;e.gatewayInfoList.push(n.newInfo)}))),i(Np,"".concat(Jd),(function(e){return u(u({},Vp),{},{ccHistory:e.ccHistory})})),Np),Vp),Lp=[1,3,4,5],Hp=[0,1,2];!function(e){e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly"}(Dp||(Dp={})),function(e){e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers"}(kp||(kp={}));var xp,Fp,Gp={userId:0,displayName:"everyone",zoomID:"",isHost:!1,bCoHost:!1},Bp={userId:1,displayName:"All panelists",zoomID:"",isHost:!1,bCoHost:!1},Wp=function(e,t){var n;if("string"==typeof t)n=e.participants.xmppAttendeeList.find((function(e){return e.jid===t}));else{if(t===kp.All)return Gp;if(t===kp.Panelist)return Bp;n=e.participants.attendeesList.find((function(e){return e.userId===t}))||e.participants.xmppAttendeeList.find((function(e){return e.userId===t}))}return n||{}},qp=function(e,t){if(void 0===(null==t?void 0:t.userRole))return{isHost:!1,isCoHost:!1,isAttendee:!1,isCoOrHost:!1,isOther:!1};var n=e.meeting.isWebinar,r=!!t.isHost||mu(t.userRole),o=!!t.bCoHost,i=r||o,a=!i&&n&&t.userRole===eu.Attendee;return{isHost:r,isCoHost:o,isCoOrHost:i,isAttendee:!i&&!a,isOther:a}},Kp=function(e,t){var n=Wp(e,t);return qp(e,n)},zp=Si.createAgent(),Qp=(b((xp=function(e){c(r,e);var t=f(r);function r(){var e;n(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getEditor=function(){var t,n=(0,l(e)[dl])(),r=n.closedCaption.editorId,o=n.participants.attendeesList;if(!(t=r?Wp(n,r):o.find((function(e){return e.isHost}))))return{};var i=t;return{userId:i.userId,isHost:i.isHost,displayName:i.displayName,avatar:i.avatar,bCoHost:i.bCoHost,zoomID:i.zoomID}},e.getHistory=function(){var t;return null===(t=(0,l(e)[dl])().closedCaption)||void 0===t?void 0:t.ccHistory.map((function(e){return u({},e)}))},e}return o(r,[{key:"assignClosedCaptionEditor",value:function(e){return(0,this[dl])().closedCaption.editorId===e?Promise.resolve({userId:e}):(zp.assignCC(e,!0),Ha("CC_ASSIGN_CC_EDITOR_SUCCESS",(function(t){return t.userId===e&&{ret:0,body:t}})))}},{key:"sendClosedCaptionText",value:function(e,t){var n=this,r=this[dl],o=this[ll],i=r(),a=i.closedCaption,s=a.editorId,u=a.tempSendCcText;return Promise.resolve(Pu(i)).then((function(e){if((null==e?void 0:e.isHost)&&!s)return n.assignClosedCaptionEditor(e.userId)})).then((function(){return r().closedCaption.isEditor?Pp(e,u,t):Promise.reject({type:Da,reason:"no permission"})})).then((function(n){if(!n)return"";zp.sendCloseCaption(n);var r={text:e,finished:!t};return t||Object.assign(r,{timeStamp:(new Date).valueOf()}),o(Kd(r)),Ha("CC_RECEIVE_MESSAGE",(function(){return{ret:0,body:r}}))}))}}]),r}(bl)).prototype,"assignClosedCaptionEditor",[pl,vl],Object.getOwnPropertyDescriptor(xp.prototype,"assignClosedCaptionEditor"),xp.prototype),b(xp.prototype,"sendClosedCaptionText",[pl],Object.getOwnPropertyDescriptor(xp.prototype,"sendClosedCaptionText"),xp.prototype),xp),Jp=Wr(Mp),Xp=Object.freeze({__proto__:null,receiveChatMessageFromXMPPEpic:function(e,t){return Kr(e,"Message").pipe(Bt(t),ze((function(e){var t=h(e,2),n=t[0],r=t[1],o=n.payload.data,i=o.sn,a=o.senderName,s=o.senderJid,u=o.receiver,c=o.text,d=(o.type,Pu(r)),l=Vu(r),p=r.meeting,f=p.jid,v=p.userId,y=r.participants.xmppAttendeeList;return Ii.beginDecrypt({decryptedText:c,type:bi.XMPP_CHAT,zoomId:i}).then((function(e){var t,n=e.message,r=null,o=null,i=null;d&&bu(d.userRole)&&f===u?(r=y.find((function(e){return e.jid===s})),o=v,i=d.displayName):(r=l.find((function(e){return e.jid===s})),o=kp.Panelist,i=Bp.displayName);var c={message:n,sender:a,senderId:(null===(t=r)||void 0===t?void 0:t.userId)||0,reader:i,readerId:o,timeStamp:(new Date).getTime()};return ja("CHAT_RECEIVE_MESSAGE_EVENTS",c),Gd(c)}))})))},receiveChatMessageFromRWGEpic:function(e,t){return qr(e,7944).pipe(Bt(t),Mi((function(e){var t=h(e,2),n=t[0],r=t[1],o=r.meeting,i=o.bIbDisableChat,a=o.isWebinar,s=r.participants.attendeesList,u=n.payload.body,c=u.attendeeNodeID,d=u.sn,l=u.destNodeID,p=u.text,f=u.senderName,v=Pu(r),y=Vu(r);if(v){var g=bu(null==v?void 0:v.userRole)&&c===v.userId;if(!i&&!g){var m,E=d;if(!d){var S=s.find((function(e){return e.userId===l}));S&&(E=S.zoomID)}if(c===kp.SilentModeUsers){var b={message:gn(p),sender:"Host",senderId:l,reader:"everyone (in Waiting Room)",readerId:c,timeStamp:(new Date).getTime()};m=Promise.resolve(b)}else m=Ii.beginDecrypt({decryptedText:p,zoomId:E,type:bi.RWG_CHAT}).then((function(e){var t=e.message,n=s.find((function(e){return e.userId===l})),r=f?gn(f):null==n?void 0:n.displayName,o="";if(c===kp.All)o=a?"All panelists and attendees":"Everyone";else if(c===kp.Panelist)o="All panelists";else if(a&&y.findIndex((function(e){return e.userId===c}))>-1)o=y.find((function(e){return e.userId===c})).displayName;else{var i=s.find((function(e){return e.userId===c}));i&&(o=i.displayName)}return{message:t,sender:r,senderId:l,reader:o,readerId:c,timeStamp:(new Date).getTime()}}));return m.then((function(e){return ja("CHAT_RECEIVE_MESSAGE_EVENTS",e),Gd(e)}))}}})))},changePrivilegeResponse:function(e,t){return qr(e,7938).pipe(st((function(e){var t,n;return void 0!==(null===(t=e.payload.body)||void 0===t?void 0:t.chatPriviledge)||void 0!==(null===(n=e.payload.body)||void 0===n?void 0:n.bAllowAttendeeChat)})),Ui((function(e){var n=e.payload.body,r=n.chatPriviledge,o=n.bAllowAttendeeChat;return void 0!==o?!0===o?(ja("CHAT_PRIVILEGE_CHANGE",{chatPrivilege:t.value.chat.tmpChatPrivilege}),Fd({bAllowAttendeeChat:o})):(ja("CHAT_PRIVILEGE_CHANGE",{chatPrivilege:0}),Fd({bAllowAttendeeChat:o})):(ja("CHAT_PRIVILEGE_CHANGE",{chatPrivilege:r}),Fd({chatPrivilege:r}))})))}}),Yp={chatHistory:[],chatPrivilege:NaN,tmpChatPrivilege:NaN},Zp=vr((i(Fp={},"".concat(Gd),ou((function(e,t){var n=t.payload;e.chatHistory.push(n)}))),i(Fp,"".concat(Fd),ou((function(e,t){var n=t.payload,r=n.chatPrivilege,o=n.bAllowAttendeeChat;void 0!==o&&(e.chatPrivilege=o?e.tmpChatPrivilege:0),void 0!==r&&(e.chatPrivilege=r,e.tmpChatPrivilege=r)}))),i(Fp,"".concat(Bd),(function(){return u({},Yp)})),Fp),Yp),$p={userId:kp.All,displayName:"everyone",zoomID:"",isHost:!1,bCoHost:!1},ef={userId:kp.Panelist,displayName:"All panelists",zoomID:"",isHost:!1,bCoHost:!1},tf={userId:kp.SilentModeUsers,displayName:"everyone (in Waiting Room)",zoomID:"",isHost:!1,bCoHost:!1};function nf(e,t,n){var r=Object.keys(t).filter((function(e){return t[e]})).reduce((function(t,r){return"everyone"===r?Object.assign(t,{everyone:$p}):"allPanelists"===r?Object.assign(t,{allPanelists:ef}):"xmppList"===r?Object.assign(t,{xmppList:Vu(e).map(n)}):Object.assign(t,i({},r,[]))}),{}),o=e.participants.attendeesList.reduce((function(t,r){var o=n?n(r):r;return r.userId===e.meeting.userId?t.self&&t.self.push(o):t.host&&r.isHost?t.host.push(o):t.coHost&&r.bCoHost?t.coHost.push(o):t.other&&t.other.push(o),t}),r);return Object.keys(o).reduce((function(e,t){return e.concat(o[t])}),[])}var rf,of,af,sf=function(e){return{userId:e.userId,displayName:e.displayName,isHost:!!e.isHost,isCoHost:!!e.bCoHost}},uf={any:{label:"any",check:function(){return!0}},array:{label:"array",check:function(e){return Array.isArray(e)||null!=(n=e)&&"object"===t(n)&&n.hasOwnProperty("callee");var n}},string:{label:"string",check:function(e){return"string"==typeof e}},number:{label:"number",check:function(e){return"number"==typeof e}},function:{label:"function",check:function(e){return"function"==typeof e}},object:{label:"object",check:function(e){return"object"===t(e)&&null!=e&&!uf.array.check(e)&&!uf.error.check(e)}},boolean:{label:"boolean",check:function(e){return"boolean"==typeof e}},error:{label:"error",check:function(e){return e instanceof Error}},null:{label:"null",check:function(e){return null==e}},undefined:{label:"undefined",check:function(e){return void 0===e}}};function cf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){var o=r.value;r.value=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.every((function(e,t){return e.split("|").map((function(e){return uf[e]})).filter((function(e){return e})).some((function(e){return e.check(n[t])}))}));return i?o.apply(this,n):Promise.reject({type:ka,reason:"invalid parameter"})}}}var df,lf,pf,ff,hf,vf,yf,gf,mf,Ef,Sf,bf,_f,Af,Cf,If,Of,Tf,Rf,wf,Nf,Df=Si.createAgent(),kf=ki.getInstance(),Pf=(rf=cf("string","number"),of=cf("number"),b((af=function(e){c(r,e);var t=f(r);function r(){var e;n(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).getPrivilege=function(){return e[dl]().chat.chatPrivilege},e.whoCanBeTalkedTo=function(){var t=e[dl](),n=t.chat.chatPrivilege,r=t.meeting.isWebinar,o=Pu(t),i=qp(t,o);if(r){if(!i.isAttendee)return nf(t,{allPanelists:!0,everyone:!0,host:!0,coHost:!0,other:!0,xmppList:!0},sf);if(n===Dp.All)return[Bp,Gp];if(n===Dp.AllPanelist)return[Bp];if(n===Dp.NoAttendee)return[]}else{if(n===Dp.All||i.isCoOrHost)return nf(t,{everyone:!0,host:!0,coHost:!0,other:!0},sf);if(n===Dp.NoOne)return[];if(n===Dp.Host)return nf(t,{host:!0,coHost:!0},sf);if(n===Dp.EveryonePublicly)return nf(t,{everyone:!0,host:!0,coHost:!0},sf)}return[]},e.getHistory=function(){return e[dl]().chat.chatHistory.map((function(e){return u({},e)}))},e}return o(r,[{key:"sendMessage",value:function(e,t){if(!e)return Promise.reject({type:ka,reason:"can not send empty string"});var n=this[dl],r=this[ll],o=n(),i=Pu(o),a=function(e,t){if(t===kp.All)return $p;if(t===kp.Panelist)return ef;if(t===kp.SilentModeUsers)return tf;var n=e.meeting.isWebinar,r=e.participants,o=r.xmppAttendeeList,i=r.attendeesList;return n?i.find((function(e){return e.userId===t}))||o.find((function(e){return e.userId===t})):i.find((function(e){return e.userId===t}))}(o,t),s=function(e,t,n){var r=null==t?void 0:t.userId;if(!(null==e?void 0:e.zoomID)||!(null==t?void 0:t.displayName)||r===e.userId)return{type:ka,reason:"invalid target user"};var o=n.chat.chatPrivilege,i=n.meeting.isWebinar,a=Uu(n),s=t.isHost||t.bCoHost;if(!a)if(i&&bu(e.userRole)){if(o===Dp.NoAttendee||o===Dp.AllPanelist&&r!==kp.Panelist||o===Dp.All&&r!==kp.All&&r!==kp.Panelist)return{type:Da,reason:"Insufficient chat privilege"}}else if(o===Dp.NoAttendee||o===Dp.Host&&!s||r===kp.SilentModeUsers||o===Dp.EveryonePublicly&&r!==kp.All&&!s)return{type:Da,reason:"Insufficient chat privilege"};return null}(i,a,o);if(s)return Promise.reject(s);var u=o.meeting,c=u.isWebinar,d=u.encType===Ei.AES_GCM,l={message:e,sender:null==i?void 0:i.displayName,senderId:null==i?void 0:i.userId,reader:null==a?void 0:a.displayName,readerId:null==a?void 0:a.userId,timeStamp:(new Date).valueOf()},p=Promise.resolve();return t===kp.SilentModeUsers?Df.chat(yn(e),t):p=Ii.beginEncrypt({text:e,type:bi.RWG_CHAT}).then((function(e){c?a.userRole===tu.Attendee?(kf.sendWebinarMsg(e,a.jid,kp.IndividualCcPanelist,d),Df.chat(e,kp.Panelist,null==i?void 0:i.zoomID)):bu(i.userRole)&&t===kp.Panelist?kf.sendWebinarMsg(e,null,kp.Panelist,d):kp.All!==t&&kp.Panelist!==t&&a.userRole===tu.Attendee||Df.chat(e,t,null==i?void 0:i.zoomID):Df.chat(e,t,null==i?void 0:i.zoomID)})),p.then((function(){return r(Gd(l)),ja("CHAT_RECEIVE_MESSAGE_EVENTS",l),l}))}},{key:"changePrivilege",value:function(e){var t=this[dl](),n=t.meeting.isWebinar,r=t.chat.chatPrivilege;return!n&&!Lp.includes(e)||n&&!Hp.includes(e)?Promise.reject({type:ka,reason:"invalid privilege value of parameter"}):r===e?Promise.resolve(""):(Df.setChatPriviledge(e),Ha("CHAT_PRIVILEGE_CHANGE",(function(t){return t.chatPrivilege===e&&{ret:0,body:t}})))}}]),r}(bl)).prototype,"sendMessage",[rf,pl],Object.getOwnPropertyDescriptor(af.prototype,"sendMessage"),af.prototype),b(af.prototype,"changePrivilege",[of,hl,pl],Object.getOwnPropertyDescriptor(af.prototype,"changePrivilege"),af.prototype),af),Uf=Wr(Xp),Mf=Fn("SET_CLOUD_RECORDING_START"),Vf=Fn("SET_CLOUD_RECORDING_STOP"),jf=Fn("SET_LOCAL_RECORD_STATUS_LIST"),Lf=function(e){switch(e){case 0:return zi.Stopped;case 1:return zi.Started;case 2:return zi.Paused;default:return"Unknown"}},Hf=Object.freeze({__proto__:null,startCloudRecordingResponse:function(e){return qr(e,4106).pipe(st((function(e){var t,n;return!0===(null==e||null===(t=e.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.bRecord)})),Ui((function(e){if(0===e.payload.body.result)return ja(Xi),Mf()})))},stopCloudRecordingResponse:function(e){return qr(e,4106).pipe(st((function(e){var t,n;return!1===(null==e||null===(t=e.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.bRecord)})),Ui((function(e){if(0===e.payload.body.result)return ja(Yi),Vf()})))},receiveCloudRecordIndication:function(e){return qr(e,7938).pipe(st((function(e){var t,n;return void 0!==(null==e||null===(t=e.payload)||void 0===t||null===(n=t.body)||void 0===n?void 0:n.bRecord)})),Ui((function(e){var t=e.payload.body.bRecord;return!0===t?(ja("START_RECORDING_SUCCESS"),Mf()):!1===t?(ja("STOP_RECORDING_SUCCESS"),Vf()):void 0})))},receiveLocalRecordingIndication:function(e){return qr(e,7937).pipe(st((function(e){var t=e.payload.body,n=t.add,r=t.update;return n||r})),Ui((function(e){var t=e.payload.body,n=t.add,r=t.update,o=function(e){return void 0!==e.bLocalRecordStatus},i=function(e){return{bLocalRecordStatus:Lf(e.bLocalRecordStatus),id:e.id}},a=[],s=[];n&&(a=v(n.filter(o).map(i))),r&&(s=v(r.filter(o).map(i)));var u=[].concat(v(a),v(s));if(u.length)return ja("LOCAL_RECORDING_CHANGE",u),jf(u)})))}}),xf=vr((i(df={},"".concat(Mf),ou((function(e){e.bRecord=!0}))),i(df,"".concat(Vf),ou((function(e){e.bRecord=!1}))),i(df,"".concat(jf),ou((function(e,t){var n=t.payload;Array.isArray(n)?n.forEach((function(t){e.localRecordStatus[t.id]=t.bLocalRecordStatus})):e.localRecordStatus[n.id]=n.bLocalRecordStatus}))),df),{bRecord:!1,localRecordStatus:{}}),Ff=Si.createAgent(),Gf=(lf=yl("recording"),pf=yl("recording"),b((ff=function(e){c(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return o(r,[{key:"startCloudRecording",value:function(){return!1!==this[dl]().recording.bRecord?Promise.reject({type:Na,reason:"Cloud recording is already started."}):(Ff.recordMeeting(!0),Ha(Xi))}},{key:"stopCloudRecording",value:function(){return!0!==this[dl]().recording.bRecord?Promise.reject({type:Na,reason:"Cloud recording is already stopped."}):(Ff.recordMeeting(!1),Ha(Yi))}},{key:"isCloudRecordingStarted",value:function(){var e=this[cl].getState();return!!e.recording&&e.recording.bRecord}},{key:"getLocalRecordingStatus",value:function(){var e=this[cl].getState();return e.recording?e.recording.localRecordStatus:{}}}],[{key:"hasPermission",value:function(e){return!!mu(e.userRole)||!0===e.bCoHost}}]),r}(bl)).prototype,"startCloudRecording",[hl,pl,lf],Object.getOwnPropertyDescriptor(ff.prototype,"startCloudRecording"),ff.prototype),b(ff.prototype,"stopCloudRecording",[hl,pl,pf],Object.getOwnPropertyDescriptor(ff.prototype,"stopCloudRecording"),ff.prototype),ff),Bf=Wr(Hf),Wf=function(e,t,n){var r=e.voteCount;if("upvote"===t.command||"downvote"===t.command)"upvote"===t.command?e.voteCount+=1:e.voteCount-=1,n&&r!==e.voteCount&&ja("QA_VOTE_EVENTS",{questionId:t.id,voteCount:e.voteCount,action:"upvote"===t.command?"up":"down"});else if("dismiss"===t.command||"reopen"===t.command){var o=e.dismissed;e.dismissed="dismiss"===t.command,n&&o!==e.dismissed&&ja("QA_DISMISS_EVENT",{questionId:t.id,dismissed:e.dismissed})}else if("livestart"===t.command||"liveend"===t.command){var i=e.liveAnswer;e.liveAnswer="livestart"===t.command?"start":"done",n&&i!==e.liveAnswer&&ja("QA_LIVE_ANSWER_EVENT",{questionId:t.id,liveAnswer:e.liveAnswer})}},qf=Object.freeze({__proto__:null,qaSettingResponse:function(e,t){return qr(e,7938).pipe(st((function(e){return t=e.payload.body,["bAllowAnonymousQuestion","bAllowAttendeeViewAllQuestion","bAllowAttendeeUpvoteQuestion","bAllowAttendeeCommentQuestion"].some((function(e){return t.hasOwnProperty(e)}));var t})),Mi((function(e){var n,r=e.payload.body,o=r.bAllowAnonymousQuestion,i=r.bAllowAttendeeViewAllQuestion,a=r.bAllowAttendeeUpvoteQuestion,s=r.bAllowAttendeeCommentQuestion,c=t.value.QA,d=y(n=c.tempSetting)||g(n)||m(n)||S(),l=d[0],p=d.slice(1),f=u({},c.setting),h=u({},l),v=[];return void 0!==o&&(delete h.allowAnonymousQuestion,f.allowAnonymousQuestion=o),void 0!==i&&(delete h.allowAttendeeViewAllQuestion,f.allowAttendeeViewAllQuestion=i),void 0!==a&&(delete h.allowAttendeeVote,f.allowAttendeeVote=a),void 0!==s&&(delete h.allowAttendeeComment,f.allowAttendeeComment=s),v.push(Zd(f)),0===Object.keys(h).length?(v.push(Yd(p)),ja("QA_SETTING_SUCCESS_EVENT",f)):v.push(Yd([h].concat(p))),Ke(v)})))},questionResponse:function(e,t){return Kr(e,"WebinarQA").pipe(st((function(e){var t;return null===(t=e.payload.data)||void 0===t?void 0:t.target})),st((function(e){return""!==e.payload.data.target.id})),Ui((function(e){var n=e.payload.data.target,r=t.value.QA.questionList.findIndex((function(e){return e.id===n.id})),o=t.value.QA.questionList[r];if(o){if(o=u({},o),n.answer&&0!==n.answer.length){var i,a=n.answer[0],s=Wp(t.value,a.jid);a.userId=s.userId,delete a.jid,ja("QA_NEW_ANSWER_EVENT",{questionId:n.id,newAnswer:a}),o.answer=null===(i=o.answer)||void 0===i?void 0:i.concat(a)}Wf(o,n,!0)}else o=function(e,t){var n=u(u({},e),{},{answer:e.answer||[],voteCount:0,dismissed:!1,liveAnswer:""}),r=Wp(t,e.jid);return r&&(n.userId=r.userId),delete n.command,delete n.jid,n}(n,t.value),Wf(o,n,!1),ja("QA_NEW_QUESTION_EVENT",{questionId:n.id,newQuestion:o});return $d({question:o,index:r})})))}}),Kf={setting:{allowAnonymousQuestion:!1,allowAttendeeViewAllQuestion:!1,allowAttendeeVote:!1,allowAttendeeComment:!1},tempSetting:[],questionList:[]},zf=vr((i(hf={},"".concat(Zd),ou((function(e,t){var n=t.payload;Object.assign(e.setting,n)}))),i(hf,"".concat(Yd),ou((function(e,t){var n=t.payload;e.tempSetting=n}))),i(hf,"".concat($d),ou((function(e,t){var n=t.payload,r=n.question,o=n.index;o>-1?e.questionList[o]=r:e.questionList.push(r)}))),i(hf,"".concat(el),ou((function(e,t){var n=t.payload,r=e.questionList.find((function(e){return e.id===n.questionId}));r&&(r.voted=n.voted)}))),i(hf,"".concat(tl),(function(){return u({},Kf)})),hf),Kf),Qf=Si.createAgent(),Jf=ki.getInstance(),Xf=(vf=cf("object"),yf=cf("string"),gf=cf("string","boolean"),mf=cf("string","boolean"),Ef=cf("string","string","boolean|undefined"),Sf=cf("string","boolean"),b((bf=function(e){c(r,e);var t=f(r);function r(){return n(this,r),t.apply(this,arguments)}return o(r,[{key:"qaSetting",value:function(e){var t=this[dl],n=this[ll],r=t(),o=r.QA,i=o.setting,a=o.tempSetting,s=r.meeting,u={},c=e.allowAnonymousQuestion,d=e.allowAttendeeViewAllQuestion,l=e.allowAttendeeVote,p=e.allowAttendeeComment,f=!1,h=!1,v=!1,y=!1;return void 0!==c&&i.allowAnonymousQuestion!==c&&(f=!0),void 0!==d&&i.allowAttendeeViewAllQuestion!==d&&(h=!0),void 0===d&&i.allowAttendeeViewAllQuestion||!0===d?(void 0!==l&&i.allowAttendeeVote!==l&&(v=!0),void 0!==p&&i.allowAttendeeComment!==p&&(y=!0)):(i.allowAttendeeVote&&(v=!0),i.allowAttendeeComment&&(y=!0)),f&&(Qf.allowAnonymousQuestion(s.userId,!i.allowAnonymousQuestion),u.allowAnonymousQuestion=!i.allowAnonymousQuestion),h&&(Qf.allowViewAll(s.userId,!i.allowAttendeeViewAllQuestion),u.allowAttendeeViewAllQuestion=!i.allowAttendeeViewAllQuestion),v&&(Qf.allowVote(s.userId,!i.allowAttendeeVote),u.allowAttendeeVote=!i.allowAttendeeVote),y&&(Qf.allowComment(s.userId,!i.allowAttendeeComment),u.allowAttendeeComment=!i.allowAttendeeComment),0===Object.keys(u).length?Promise.resolve(i):(n(Yd(a.concat(u))),La(Ca))}},{key:"liveAnswer",value:function(e){var t=(0,this[dl])();if(Kp(t,t.meeting.userId).isAttendee)return Promise.reject({type:Da,reason:"no permission"});var n=t.QA.questionList.find((function(t){return t.id===e}));return n?n.dismissed?Promise.reject({type:Da,reason:"can not answer the dismissed question"}):"done"===n.liveAnswer?Promise.resolve({questionId:n.id,liveAnswer:n.liveAnswer}):(Jf.answerOnline(e,""===n.liveAnswer),La(wa)):Promise.reject({type:ka,reason:"questionId is not exist"})}},{key:"dismissQuestion",value:function(e,t){var n=(0,this[dl])();if(Kp(n,n.meeting.userId).isAttendee)return Promise.reject({type:Da,reason:"no permission"});var r=n.QA.questionList.find((function(t){return t.id===e}));return r?r.dismissed&&t||!r.dismissed&&!t?Promise.resolve({questionId:r.id,dismissed:r.dismissed}):(t?Jf.sendDismiss(e):Jf.sendReOpen(e),La(Ta)):Promise.reject({type:ka,reason:"question is not exist"})}},{key:"askQuestion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this[dl],r=n(),o=r.QA.setting,i=r.meeting.userId,a=Kp(r,i),s=a.isAttendee,u=o.allowAnonymousQuestion;return s?(Jf.sendAsk(e,u&&t,u),La(Ia)):Promise.reject({type:Da,reason:"only attendee can ask question"})}},{key:"answerQuestion",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this[dl],o=r(),i=o.QA.setting.allowAttendeeComment,a=Kp(o,o.meeting.userId),s=a.isAttendee;if(!i&&s)return Promise.reject({type:Da,reason:"no permission"});var u=o.QA.questionList.find((function(t){return t.id===e}));return u?u.dismissed?Promise.reject({type:Da,reason:"can not answer the dismissed question"}):(Jf.sendAnswer(t,e,n),La(Oa)):Promise.reject({type:ka,reason:"question is not exist"})}},{key:"voteQuestion",value:function(e,t){var n=this[dl],r=this[ll],o=n(),i=o.QA.setting.allowAttendeeVote,a=Kp(o,o.meeting.userId).isAttendee;if(!i&&a)return Promise.reject({reason:"vote is forbidden"});var s=o.QA.questionList.find((function(t){return t.id===e}));return s?s.dismissed?Promise.reject({reason:"can not vote for the dismissed question"}):"up"===s.voted&&t||"down"===s.voted&&!t?Promise.resolve({questionId:s.id,voteCount:s.voteCount,action:"no-change"}):(t?Jf.sendUpVote(e):Jf.sendDownVote(e),r(el({questionId:e,voted:t?"up":"down"})),La(Ra)):Promise.reject({reason:"invalid question"})}},{key:"getQASettingStatus",value:function(){var e;return u({},null===(e=this[dl]().QA)||void 0===e?void 0:e.setting)}},{key:"getHistory",value:function(){var e;return null===(e=this[dl]().QA)||void 0===e?void 0:e.questionList.map((function(e){var t;return u(u({},e),{},{answer:null===(t=e.answer)||void 0===t?void 0:t.map((function(e){return u({},e)}))})}))}}]),r}(bl)).prototype,"qaSetting",[vf,hl,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"qaSetting"),bf.prototype),b(bf.prototype,"liveAnswer",[yf,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"liveAnswer"),bf.prototype),b(bf.prototype,"dismissQuestion",[gf,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"dismissQuestion"),bf.prototype),b(bf.prototype,"askQuestion",[mf,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"askQuestion"),bf.prototype),b(bf.prototype,"answerQuestion",[Ef,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"answerQuestion"),bf.prototype),b(bf.prototype,"voteQuestion",[Sf,fl,pl],Object.getOwnPropertyDescriptor(bf.prototype,"voteQuestion"),bf.prototype),bf),Yf={closedCaption:{epic:Jp,reducer:jp,Client:Qp},chat:{epic:Uf,reducer:Zp,Client:Pf},recording:{epic:Bf,reducer:xf,Client:Gf},QA:{epic:Wr(qf),reducer:zf,Client:Xf}},Zf=Si.createAgent(),$f=(_f=ml(jc.Other),Af=ml(jc.Other),Cf=ml(jc.Other),If=ml(jc.Other),Of=ml(jc.Attendee),Tf=ml(jc.Other),Rf=gl("isWaitingRoomLocked"),wf=gl("allowParticipantsRenameLocked"),b((Nf=function(e){c(r,e);var t=f(r);function r(e){var o;return n(this,r),(o=t.call(this,e)).modules=void 0,o.mediaStream=void 0,o.modules=new Map,o}return o(r,[{key:"init",value:function(e,t,n){var r=this,o=this[ll],i=this[cl],a=Co,s="en-US",u="js_media.min.js",c="".concat(Co,"/").concat(u);if(n){var d=n.dependentAssets,l=n.additionalFeatures,p=n.constraints,f=n.language;if(f&&(s=f),"CDN"===d)a=Ao,c="".concat(Ao,"/").concat(u);else if("Global"===d)a=Co,c="".concat(Co,"/").concat(u);else if("CN"===d)a=Io,c="".concat(Io,"/").concat(u);else if(d&&/^https?:\/\//.test(d)){var h=d;"/"===h[h.length-1]&&(h=h.slice(0,length-2)),a=h,c="".concat(h,"/").concat(u)}l&&Array.isArray(l)&&l.forEach((function(e){if(Yf[e]&&void 0===i.getState()[e]){var t=Yf[e],n=t.epic,o=t.reducer,a=t.Client;i.injectReducer(e,o),i.injectEpic(n);var s=new a(i);r.modules.set(e,s)}})),(null==p?void 0:p.audio)&&void 0===i.getState().audio&&(i.injectReducer("audio",Fc),i.injectEpic(Gc)),(null==p?void 0:p.video)&&void 0===i.getState().video&&(i.injectReducer("video",Ld),i.injectEpic(Hd)),(null==p?void 0:p.screen)&&void 0===i.getState().share&&(i.injectReducer("share",fd),i.injectEpic(hd))}return o(Jo({apiKey:e,signature:t,language:s})),o(xr({mediaConstraints:n&&n.constraints||{},assetsPath:a})),new Promise((function(e,t){pi(c,(function(){e()}),(function(){t({type:ka,reason:"depedent assets are not accessible"})}))}))}},{key:"createMediaStream",value:function(){return void 0===this.mediaStream&&(this.mediaStream=new hp(this[cl])),this.mediaStream}},{key:"on",value:function(e,t){!function(e,t){var n=Pa[e];if(n){var r=Ma.get(e);if(r)r.push(t),Ma.set(e,r);else{var o=[t];Ma.set(e,o);var i=it.apply(void 0,v(n.map((function(e){var t=e.event,n=e.payload;return tt(Ua,t).pipe(Ve((function(e){return n(e)})),_e(De))})))).subscribe((function(t){var n=Ma.get(e);n&&n.forEach((function(e){e(t)}))}));Va.push(i)}}}(e,t)}},{key:"off",value:function(e,t){!function(e,t){if(Pa[e]){var n=Ma.get(e);if(Array.isArray(n)){var r=n.findIndex((function(e){return e===t}));r>-1&&(n.splice(r,1),Ma.set(e,n))}}}(e,t)}},{key:"getFeatureModule",value:function(e){return this.modules.get(e)}},{key:"join",value:function(e,t,n,r){var o=this[dl],i=this[ll],a=o(),s=a.meeting,u=s.apiKey,c=s.signature,d=s.lang,l=s.meetingStatus,p=a.socket.zoomSocketStatus;return u&&c?"initial"===l&&"closed"===p?(i(Vo({apiKey:u,signature:c,meetingNumber:e,userName:t,lang:d,passWord:n,userEmail:r,sdkUrl:yn("".concat(location.origin).concat(location.pathname)),sdkOrigin:yn(location.origin),proxy:1,cv:"1.8.0"})),La(Qi)):Promise.reject({type:Na,reason:"duplicated operation"}):Promise.reject({type:Na,reason:"invalid apiKey or signature"})}},{key:"joinInstant",value:function(e,t,n,r,o){var i=this[dl],a=this[ll],s=i(),u=s.meeting,c=u.lang,d=u.meetingStatus,l=s.socket.zoomSocketStatus;return t?"initial"===d&&"closed"===l?(a(jo({topic:e,password:o||"",userName:n,zlk:t,lang:c,cv:r})),La(Qi)):Promise.reject({type:Na,reason:"duplicated operation"}):Promise.reject({type:Na,reason:"invalid  signature"})}},{key:"leave",value:function(){var e=this[dl],t=this[ll];return"connected"===e().socket.zoomSocketStatus?(t(Bo()),Fa(),ht(1e3).pipe(wt("")).toPromise()):Promise.reject({type:Na})}},{key:"end",value:function(){var e=this[dl],t=this[ll];return"connected"===e().socket.zoomSocketStatus?(t(Wo()),Fa(),ht(1e3).pipe(wt("")).toPromise()):Promise.reject({type:Na})}},{key:"lock",value:function(){return!0===this[cl].getState().meeting.bLock?Promise.resolve(""):(Zf.lockMeeting(!0),Ha("UPDATE_MEETING_ATTRIBUTE",(function(e){return!0===e.bLock})))}},{key:"unlock",value:function(){return!1===this[cl].getState().meeting.bLock?Promise.resolve(""):(Zf.lockMeeting(!1),Ha("UPDATE_MEETING_ATTRIBUTE",(function(e){return!1===e.bLock})))}},{key:"rename",value:function(e,t){var n=this[cl].getState(),r=n.meeting.bAllowAttendeeRename,o=Pu(n),i=bu(o.userRole),a=Uu(n);if(i)return Promise.reject({type:Da});if(t&&t!==(null==o?void 0:o.userId)){if(a){var s=n.participants.attendeesList.find((function(e){return e.userId===t}));if(s)return Zf.rename(t,yn(e),yn(s.displayName)),$u(t,(function(t){return t.displayName===e}));var u=Vu(n).find((function(e){return e.userId===t}));return u?(ki.getInstance().rename(u.jid,e),Ha("UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",(function(t){var n=t.find((function(e){return e.jid===u.jid}));return n&&n.name===e}))):Promise.reject({type:ka,reason:"no matching user"})}return Promise.reject({type:Da})}return e===o.displayName?Promise.resolve():a||r?(Zf.rename(o.userId,yn(e),yn(o.displayName)),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(t){return t.displayName===e}))):Promise.reject({type:Da,reason:"host disallow rename themselves"})}},{key:"remove",value:function(e){var t=this[cl].getState();if(t.participants.attendeesList.find((function(t){return t.userId===e})))return Zf.expel(e),Ha("REMOVE_USER_PARTICIPANT_ATTRIBUTE",(function(t){return t.some((function(t){return t.userId===e}))}));var n=Vu(t).find((function(t){return t.userId===e}));return n?(Zf.expelAttendee(n.jid),Ha("UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",(function(e){return-1===e.findIndex((function(e){return e.jid===n.jid}))}))):Promise.reject({type:ka,reason:"no matched user"})}},{key:"admit",value:function(e){var t=this[cl].getState();return ju(t).find((function(t){return t.userId===e}))?(Zf.putOnHold(e,!1),Ha("REMOVE_USER_PARTICIPANT_ATTRIBUTE",(function(t){return t.some((function(t){return t.userId===e&&1===t.nUserStatus}))}))):Promise.reject({type:ka,reason:"no matching user"})}},{key:"admitAll",value:function(){return!0===this[cl].getState().participants.isAdmitAllSilentUsers?Promise.reject({type:Na,reason:"already admit all"}):(Zf.admitAllSilentUsers(),new Promise((function(e,t){lt(xa("ADMIT_ALL_SILENT_USERS_END",1).pipe(wt("")),xa("MEETING_HOST_CHANGE_INDICATION",1).pipe(Ve((function(e){return!1===e?"host changed":""}))),xa("MEETING_COHOST_CHANGE_INDICATION",1).pipe(Ve((function(e){return!1===e?"co-host changed":""})))).subscribe((function(t){return e(t)}))})))}},{key:"makeHost",value:function(e){return Zf.assignHost(e,!1),$u(e,(function(e){return!0===e.isHost}))}},{key:"makeCoHost",value:function(e){var t=this[cl].getState(),n=Lu(t).find((function(t){return t.userId===e}));return!0===(null==n?void 0:n.bCoHost)?Promise.reject({type:ka,reason:"user:[".concat(e,"] is already co-host ")}):(Zf.assignHost(e,!0),$u(e,(function(e){return!0===e.bCoHost})))}},{key:"withdrawCoHost",value:function(e){var t=this[cl].getState(),n=Lu(t).find((function(t){return t.userId===e}));return!1===(null==n?void 0:n.bCoHost)?Promise.reject({type:ka,reason:"user:[".concat(e,"] is not a co-host")}):(Zf.revokeCoHost(e),$u(e,(function(e){return!1===e.bCoHost})))}},{key:"putOnHold",value:function(e){return Zf.putOnHold(e,!0),$u(e,(function(e){return!0===e.bHold}))}},{key:"promoteToPanelist",value:function(e){var t=Vu(this[cl].getState()).find((function(t){return t.userId===e}));return Zf.roleChangeWebinar(!0,t.jid,t.userId,t.clientCap),Ha("MEETING_WEBINAR_ROLE_CHANGE",(function(e){return 0===e.ret&&e.jid===(null==t?void 0:t.jid)&&!0===e.bPromote}))}},{key:"changeToAttendee",value:function(e){var t=this[cl].getState(),n=Lu(t).find((function(t){return t.userId===e}));if((null==n?void 0:n.isHost)||(null==n?void 0:n.bCoHost))return Promise.reject({type:ka,reason:"can not change host or co-host to attendee"});var r=t.participants.xmppAttendeeList.find((function(t){return t.userId===e}));return Zf.roleChangeWebinar(!1,r.jid,r.userId,r.clientCap),Ha("MEETING_WEBINAR_ROLE_CHANGE",(function(e){return 0===e.ret&&e.jid===(null==r?void 0:r.jid)&&!1===e.bPromote}))}},{key:"raiseOrLowerHand",value:function(e){var t=this[cl].getState(),n=t.meeting,r=n.bAllowRaiseHand,o=n.userId,i=n.isWebinar;if(r){var a=Pu(t);if(i&&bu(a.userRole)){var s=Vu(t).find((function(e){return e.userId===o}));if((null==s?void 0:s.bRaiseHand)!==e){var u=ki.getInstance();return e?u.raiseHand():u.lowerHand(),Ha("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",(function(t){return t.bRaiseHand===e}))}return Promise.resolve("")}return Uu(t)?Promise.reject({type:Na,reason:"host or co-host can not raise or lower hand"}):(null==a?void 0:a.bRaiseHand)!==e?(Zf.raiseLowerHand(a.userId,e),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(t){return t.bRaiseHand===e}))):Promise.resolve("")}return Promise.reject({type:Da,reason:"host disallow raise or lower hand"})}},{key:"raiseHand",value:function(){return this.raiseOrLowerHand(!0)}},{key:"lowerHand",value:function(){return this.raiseOrLowerHand(!1)}},{key:"putDownHand",value:function(e){var t=this[cl].getState();if(t.meeting.isWebinar){var n=Vu(t).find((function(t){return t.userId===e}));if(n&&!0===n.bRaiseHand)return ki.getInstance().lowerHand([n.jid]),Ha("MEETING_WEBINAR_ATTENDEE_PUT_DOWN_HANDS",(function(e){return e.findIndex((function(e){return e===n.jid}))>-1}))}var r=Lu(t).find((function(t){return t.userId===e}));return r&&!0===r.bRaiseHand?(Zf.raiseLowerHand(e,!1),$u(e,(function(e){return!1===e.bRaiseHand}))):Promise.reject({type:ka,reason:"no matching user"})}},{key:"sendNonverbalFeedback",value:function(e){var t=Pu(this[cl].getState()),n=e;return t.feedback===e&&(n=Do.None),Zf.sendFeedback(n),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(e){return e.feedback===n}))}},{key:"clearNonverbalFeedback",value:function(){return Zf.clearFeedback(),Promise.resolve("")}},{key:"lowerAllHands",value:function(){return Zf.lowerAllHands(),Promise.resolve("")}},{key:"enableWaitingRoom",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.meeting.bHoldUponEntry;return n===e?Promise.resolve(""):(Zf.setHoldOnEntry(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bHoldUponEntry===e})))}},{key:"allowRenameThemselves",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.meeting.bAllowAttendeeRename;return n==e?Promise.resolve(""):(Zf.allowParticipantRename(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bAllowAttendeeRename===e})))}},{key:"allowRaiseHand",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.meeting.bAllowRaiseHand;return n===e?Promise.resolve(""):(Zf.allowRaiseHand(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bAllowRaiseHand===e})))}},{key:"allowAttendeeViewParticipantCounts",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this[cl].getState(),n=t.meeting.bAllowShowCount;return n===e?Promise.resolve(""):(Zf.allowViewParticipantNumber(e),Ha("UPDATE_MEETING_ATTRIBUTE",(function(t){return t.bAllowShowCount===e})))}},{key:"broadcastInPracticeSession",value:function(){return!1===this[dl]().meeting.bBroadcast?(Zf.practiceSession(),Ha("UPDATE_MEETING_ATTRIBUTE",(function(e){return!0===e.bBroadcast}))):Promise.reject({type:Na})}},{key:"reclaimHost",value:function(){var e=this[dl](),t=e.meeting.isOriginHost,n=Pu(e);return(null==n?void 0:n.isHost)?Promise.reject({type:Na,reason:"You are already host now"}):t?(Zf.reclaimHost(n.userId,!1),Ha("UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",(function(e){return!0===e.isHost}))):Promise.reject({type:Da,reason:"You are not the origin host"})}},{key:"isHost",value:function(){var e=this[cl].getState(),t=Pu(e);return!!t&&t.isHost}},{key:"isCoHost",value:function(){var e=this[cl].getState(),t=Pu(e);return!!t&&!!t.bCoHost}},{key:"isOriginHost",value:function(){return this[dl]().meeting.isOriginHost}},{key:"isWebinar",value:function(){return this[dl]().meeting.isWebinar}},{key:"isOnHold",value:function(){return this[dl]().meeting.isOnHold}},{key:"isAttendee",value:function(){var e=this[dl](),t=Pu(e);return!!t&&bu(t.userRole)}},{key:"getCurrentUser",value:function(){var e=this[cl].getState(),t=Pu(e);if(t){var n={userId:t.userId,displayName:t.displayName,audio:t.audio,muted:t.muted,isHost:t.isHost,isCoHost:t.bCoHost,avatar:t.avatar,isPhoneUser:Eu(t.userType),bRaiseHand:t.bRaiseHand,bHold:t.bHold,bVideoOn:t.bVideoOn,sharerOn:t.sharerOn,sharePause:t.sharerPause,feedback:t.feedback};if(e.meeting.isWebinar&&bu(t.userRole)){var r=e.participants.allowTalkAttendeesList.find((function(e){return e.userId===t.userId})),o=!!r;Object.assign(n,{isAllowToTalk:o}),r&&Object.assign(n,{audio:r.audio,muted:r.muted})}return n}return null}},{key:"getParticipantsList",value:function(){var e=this[cl].getState(),t=e.meeting,n=t.isWebinar,r=t.meetingStatus,o=Pu(e);return"joined"!==r||!o||o.bHold||n&&bu(o.userRole)?[]:Lu(e).map((function(e){return{userId:e.userId,displayName:e.displayName,audio:e.audio,muted:e.muted,isHost:e.isHost,isCoHost:e.bCoHost,avatar:e.avatar,isPhoneUser:Eu(e.userType),bRaiseHand:e.bRaiseHand,bHold:e.bHold,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharePause:e.sharerPause,feedback:e.feedback}}))}},{key:"getOnHoldParticipantsList",value:function(){var e=this[cl].getState(),t=Pu(e);return"joined"===e.meeting.meetingStatus&&t&&(t.isHost||t.bCoHost)?ju(e).map((function(e){return{userId:e.userId,displayName:e.displayName,bHold:e.bHold}})):[]}},{key:"getWebinarAttendeesList",value:function(){var e=this[cl].getState(),t=Pu(e),n=e.meeting,r=n.isWebinar,o=n.meetingStatus,i=e.participants.allowTalkAttendeesList;return r&&"joined"===o&&t&&!bu(t.userRole)?Vu(e).map((function(e){var t=e.userId,n=i.find((function(e){return e.userId===t}));return n?{userId:e.userId,displayName:e.displayName,bRaiseHand:e.bRaiseHand,isAllowToTalk:!0,audio:n.audio,muted:n.muted}:{userId:e.userId,displayName:e.displayName,bRaiseHand:e.bRaiseHand,isAllowToTalk:!1}})):[]}},{key:"getMeetingHost",value:function(){var e=this[dl]();if(e.meeting.isWebinar){var t=Pu(e);if(t&&!bu(t.userRole)){var n=Hu(e);if(n)return{userId:n.userId,displayName:n.displayName,audio:n.audio,muted:n.muted,isHost:n.isHost,isCoHost:n.bCoHost,avatar:n.avatar,isPhoneUser:Eu(n.userType),bRaiseHand:n.bRaiseHand,bHold:n.bHold,bVideoOn:n.bVideoOn,sharerOn:n.sharerOn,feedback:n.feedback}}}else{var r=Hu(e);if(r)return{userId:r.userId,displayName:r.displayName,audio:r.audio,muted:r.muted,isHost:r.isHost,isCoHost:r.bCoHost,avatar:r.avatar,isPhoneUser:Eu(r.userType),bRaiseHand:r.bRaiseHand,bHold:r.bHold,bVideoOn:r.bVideoOn,sharerOn:r.sharerOn,feedback:r.feedback}}return null}},{key:"isEnableWaitingRoom",value:function(){return this[dl]().meeting.bHoldUponEntry}},{key:"isAllowToRaiseHand",value:function(){return this[dl]().meeting.bAllowRaiseHand}},{key:"isAllowToRename",value:function(){return this[dl]().meeting.bAllowAttendeeRename}},{key:"isInPracticeSession",value:function(){return!1===this[dl]().meeting.bBroadcast}},{key:"getMeetingInfo",value:function(){var e=this[dl]().meeting,t=e.meetingStatus,n=e.isOnHold,r=e.meetingNumber,o=e.passWord,i=e.userName,a=e.userEmail,s=e.meetingTopic,u=e.encType,c=e.region,d=e.network,l=e.topic,p=e.userId,f="joined"===t&&!n;if(e.zlkJwtToken)return{topic:l,password:o,userName:i,userId:p,isInMeeting:f};var h="";return 0===u?h="None":1===u?h="AES ECB":2===u&&(h="AES GCM"),{meetingNumber:r,password:o,userName:i,userId:p,userEmail:a,meetingTopic:s,encryptionType:h,region:c,network:d,isInMeeting:f}}}]),r}(bl)).prototype,"end",[vl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"end"),Nf.prototype),b(Nf.prototype,"lock",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"lock"),Nf.prototype),b(Nf.prototype,"unlock",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"unlock"),Nf.prototype),b(Nf.prototype,"rename",[pl],Object.getOwnPropertyDescriptor(Nf.prototype,"rename"),Nf.prototype),b(Nf.prototype,"remove",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"remove"),Nf.prototype),b(Nf.prototype,"admit",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"admit"),Nf.prototype),b(Nf.prototype,"admitAll",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"admitAll"),Nf.prototype),b(Nf.prototype,"makeHost",[_f,vl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"makeHost"),Nf.prototype),b(Nf.prototype,"makeCoHost",[Af,vl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"makeCoHost"),Nf.prototype),b(Nf.prototype,"withdrawCoHost",[Cf,vl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"withdrawCoHost"),Nf.prototype),b(Nf.prototype,"putOnHold",[If,hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"putOnHold"),Nf.prototype),b(Nf.prototype,"promoteToPanelist",[Of,hl,fl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"promoteToPanelist"),Nf.prototype),b(Nf.prototype,"changeToAttendee",[Tf,hl,fl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"changeToAttendee"),Nf.prototype),b(Nf.prototype,"raiseHand",[pl],Object.getOwnPropertyDescriptor(Nf.prototype,"raiseHand"),Nf.prototype),b(Nf.prototype,"lowerHand",[pl],Object.getOwnPropertyDescriptor(Nf.prototype,"lowerHand"),Nf.prototype),b(Nf.prototype,"putDownHand",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"putDownHand"),Nf.prototype),b(Nf.prototype,"sendNonverbalFeedback",[pl],Object.getOwnPropertyDescriptor(Nf.prototype,"sendNonverbalFeedback"),Nf.prototype),b(Nf.prototype,"clearNonverbalFeedback",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"clearNonverbalFeedback"),Nf.prototype),b(Nf.prototype,"lowerAllHands",[hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"lowerAllHands"),Nf.prototype),b(Nf.prototype,"enableWaitingRoom",[Rf,hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"enableWaitingRoom"),Nf.prototype),b(Nf.prototype,"allowRenameThemselves",[wf,hl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"allowRenameThemselves"),Nf.prototype),b(Nf.prototype,"allowRaiseHand",[hl,fl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"allowRaiseHand"),Nf.prototype),b(Nf.prototype,"allowAttendeeViewParticipantCounts",[hl,fl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"allowAttendeeViewParticipantCounts"),Nf.prototype),b(Nf.prototype,"broadcastInPracticeSession",[hl,fl,pl],Object.getOwnPropertyDescriptor(Nf.prototype,"broadcastInPracticeSession"),Nf.prototype),b(Nf.prototype,"reclaimHost",[pl],Object.getOwnPropertyDescriptor(Nf.prototype,"reclaimHost"),Nf.prototype),Nf),eh=function(){function e(){n(this,e)}return o(e,null,[{key:"createClient",value:function(){if(!this.meetingClient){var e=Rp();this.meetingClient=new $f(e)}return this.meetingClient}},{key:"destroyClient",value:function(){this.meetingClient&&(this.meetingClient.leave(),this.meetingClient=null)}},{key:"checkSystemRequirements",value:function(){return{audio:Cn()&&In(),video:Cn()&&void 0!==navigator.mediaDevices,screen:Cn()&&!Nn()&&(Pn()||/firefox/i.test(navigator.userAgent)||Dn()||navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&kn())}}},{key:"getDevices",value:function(e){return e?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){return e.getTracks().forEach((function(e){return e.stop()})),navigator.mediaDevices.enumerateDevices()}))}}]),e}();return eh.meetingClient=void 0,eh["1.8.0"]="1.8.0",eh}()})),c="https://dmogdx0jrul3u.cloudfront.net/instantsdk/".concat("1.0.0","/lib"),d="https://source.zoom.us/instantsdk/".concat("1.0.0","/lib"),l="https://jssdk.zoomus.cn/instantsdk/".concat("1.0.0","/lib"),p=Symbol("stream"),f=function(){function t(n){e(this,t),this[p]=void 0,this[p]=n}return n(t,[{key:"startAudio",value:function(){return this[p].joinComputerAudio()}},{key:"stopAudio",value:function(){return this[p].leaveComputerAudio()}},{key:"muteAudio",value:function(e){return this[p].muteAudio(e)}},{key:"unmuteAudio",value:function(e){return this[p].unmuteAudio(e)}},{key:"isAudioMuted",value:function(e){return this[p].isAudioMuted(e)}},{key:"getMicList",value:function(){return this[p].getMicrophones()}},{key:"getSpeakerList",value:function(){return this[p].getSpeakers()}},{key:"getActiveMicrophone",value:function(){return this[p].getActiveMicrophone()}},{key:"getActiveSpeaker",value:function(){return this[p].getActiveSpeaker()}},{key:"switchMicrophone",value:function(e){return this[p].switchMicrophone(e)}},{key:"switchSpeaker",value:function(e){return this[p].switchSpeaker(e)}},{key:"startVideo",value:function(e,t){return this[p].startCaptureVideo(e,t)}},{key:"stopVideo",value:function(){return this[p].stopCaptureVideo()}},{key:"renderVideo",value:function(e,t,n){return this[p].startRenderVideo(e,t,n,"")}},{key:"stopRenderVideo",value:function(){return this[p].stopRenderVideo()}},{key:"getCameraList",value:function(){return this[p].getCameras()}},{key:"switchCamera",value:function(e){return this[p].switchCamera(e)}},{key:"switchCanvasForVideoCapture",value:function(e){return this[p].switchCanvasForVideoCapture(e)}},{key:"isRemoteVideoActive",value:function(){return this[p].isRemoteVideoActive()}},{key:"isReceivingVideo",value:function(){return this[p].isReceivingVideo()}},{key:"isCapturingVideo",value:function(){return this[p].isCapturingVideo()}},{key:"isCameraTaken",value:function(){return this[p].isCameraTaken()}},{key:"getCurrentUserVideoSsrc",value:function(){return this[p].getCurrentUserVideoSsrc()}},{key:"getActiveVideoId",value:function(){return this[p].getActiveVideoId()}},{key:"getActiveCamera",value:function(){return this[p].getActiveCamera()}},{key:"isCaptureForbidden",value:function(){return this[p].isCaptureForbidden()}},{key:"getReceivedVideoDimension",value:function(){return this[p].getReceivedVideoDimension()}},{key:"startShareView",value:function(e,t){return this[p].startRenderScreenShare(e,t)}},{key:"stopShareView",value:function(){return this[p].stopRenderScreenShare()}},{key:"startShareScreen",value:function(e){return this[p].startScreenShare(e)}},{key:"pauseShareScreen",value:function(){return this[p].pauseScreenShare()}},{key:"resumeShareScreen",value:function(){return this[p].resumeScreenShare()}},{key:"stopShareScreen",value:function(){return this[p].stopScreenShare()}},{key:"lockShare",value:function(e){return this[p].lockScreenShare(e)}},{key:"isShareLocked",value:function(){return this[p].isShareLocked()}}]),t}(),h=Symbol("chat"),v=0,y=1,g=[1,4,5],m=function t(n,r){var o=this;e(this,t),this[h]=void 0,this.that=void 0,this.sendChatToUser=function(e,t){var n=o.that.getCurrentUserInfo();return n.isHost||n.isManager||1===o.getPrivilege()?t===v||t===y?Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"invalid userId"}):o[h].sendMessage(e,t):Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"chat private is disabled"})},this.sendChatToAll=function(e){var t=o.that.getCurrentUserInfo();return t.isHost||t.isManager||4!==o.getPrivilege()?o[h].sendMessage(e,v):Promise.reject({type:"INSUFFICIENT_PRIVILEGES",reason:"chat is disabled"})},this.changePrivilege=function(e){return g.includes(e)?o[h].changePrivilege(e):Promise.reject({type:"INVALID_PARAMETERS",reason:"invalid privilege value"})},this.getPrivilege=function(){return o[h].getPrivilege()},this[h]=n,this.that=r},E=(s((function(e,t){!function(t,n){e.exports=function(t){var n,r=(t=t||{}).Base64,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(o),a=String.fromCharCode,s=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?a(192|t>>>6)+a(128|63&t):a(224|t>>>12&15)+a(128|t>>>6&63)+a(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return a(240|t>>>18&7)+a(128|t>>>12&63)+a(128|t>>>6&63)+a(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(e){return e.replace(u,s)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),t>=2?"=":o.charAt(n>>>6&63),t>=1?"=":o.charAt(63&n)].join("")},l=t.btoa&&"function"==typeof t.btoa?function(e){return t.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,d)},p=function(e){return l(c(String(e)))},f=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},h=function(e,t){return t?f(p(e)):p(e)};t.Uint8Array&&(n=function(e,t){for(var n="",r=0,i=e.length;r<i;r+=3){var a=e[r],s=e[r+1],u=e[r+2],c=a<<16|s<<8|u;n+=o.charAt(c>>>18)+o.charAt(c>>>12&63)+(void 0!==s?o.charAt(c>>>6&63):"=")+(void 0!==u?o.charAt(63&c):"=")}return t?f(n):n});var v,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,g=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return a(55296+(t>>>10))+a(56320+(1023&t));case 3:return a((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return a((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},m=function(e){return e.replace(y,g)},E=function(e){var t=e.length,n=t%4,r=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),o=[a(r>>>16),a(r>>>8&255),a(255&r)];return o.length-=[0,0,2,1][n],o.join("")},S=t.atob&&"function"==typeof t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/\S{1,4}/g,E)},b=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},A=function(e){return function(e){return m(S(e))}(_(e))};t.Uint8Array&&(v=function(e){return Uint8Array.from(b(_(e)),(function(e){return e.charCodeAt(0)}))});var C=function(){var e=t.Base64;return t.Base64=r,e};if(t.Base64={"1.0.0":"2.6.4",atob:b,btoa:l,fromBase64:A,toBase64:h,utob:c,encode:h,encodeURI:function(e){return h(e,!0)},btou:m,decode:A,noConflict:C,fromUint8Array:n,toUint8Array:v},"function"==typeof Object.defineProperty){var I=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",I((function(){return A(this)}))),Object.defineProperty(String.prototype,"toBase64",I((function(e){return h(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",I((function(){return h(this,!0)})))}}t.Meteor&&(Base64=t.Base64);e.exports&&(e.exports.Base64=t.Base64);return{Base64:t.Base64}}(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:a)})),function(e){return"string"==typeof e&&e.length>0}),S=Symbol("Client"),b=function(){function t(){e(this,t),this[S]=void 0,this.stream=void 0,this.chat=void 0,this[S]=u.createClient()}return n(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Global",n="";switch(t){case"Global":n=d;break;case"CN":n=l;break;case"CDN":n=c;break;default:n=t}return this[S].init("","",{language:e,dependentAssets:n,constraints:i({},u.checkSystemRequirements()),additionalFeatures:["chat"]})}},{key:"join",value:function(e,t,n,r){return E(e)&&E(t)&&E(n)?e.length>200?Promise.reject({type:"INVALID_PARAMETERS",reason:"the max length of topic is 200"}):n.length>200?Promise.reject({type:"INVALID_PARAMETERS",reason:"the max length of username is 200"}):!r||E(r)&&!void/^([!@#$%^&*?=]|\w|\d){1,10}$/gi.test(r)?this[S].joinInstant(e,t,n,"1.0.0",r):Promise.reject({type:"INVALID_PARAMETERS",reason:"Password can contain English characters, numbers and special characters like !@#$%^&*?=, and the max length of password is 10"}):Promise.reject({type:"INVALID_PARAMETERS",reason:"topic, token and userName must be string and required"})}},{key:"leave",value:function(){return this[S].leave()}},{key:"getSessionInfo",value:function(){var e=this[S].getMeetingInfo();return{isInMeeting:e.isInMeeting||!1,password:e.password||"",topic:e.topic,userName:e.userName,userId:e.userId}}},{key:"on",value:function(e,t){this[S].on(e,t)}},{key:"off",value:function(e,t){this[S].off(e,t)}},{key:"getMediaStream",value:function(){return this.stream||(this.stream=new f(this[S].createMediaStream())),this.stream}},{key:"getChatClient",value:function(){return this.chat||(this.chat=new m(this[S].getFeatureModule("chat"),this)),this.chat}},{key:"coventUser",value:function(e){return{userId:e.userId,avatar:e.avatar||"",displayName:e.displayName,isHost:e.isHost,isManager:e.isCoHost||!1,audio:e.audio,muted:e.muted,bVideoOn:e.bVideoOn,sharerOn:e.sharerOn,sharerPause:e.sharerPause}}},{key:"getCurrentUserInfo",value:function(){var e=this[S].getCurrentUser();return this.coventUser(e)}},{key:"getUser",value:function(e){var t=this[S].getParticipantsList().find((function(t){return t.userId===e}));if(t)return this.coventUser(t)}},{key:"getAllUser",value:function(){var e=this;return this[S].getParticipantsList().map((function(t){return e.coventUser(t)}))}},{key:"changeName",value:function(e,t){return this[S].rename(e,t)}},{key:"makeHost",value:function(e){return this[S].makeHost(e)}},{key:"makeManager",value:function(e){return this[S].makeCoHost(e)}},{key:"revokeManager",value:function(e){return this[S].withdrawCoHost(e)}},{key:"removeUser",value:function(e){return this[S].remove(e)}}]),t}(),_=function(){function t(){e(this,t)}return n(t,null,[{key:"createClient",value:function(){return this.instantClient||(this.instantClient=new b),this.instantClient}},{key:"checkSystemRequirements",value:function(){return u.checkSystemRequirements()}}]),t}();_.instantClient=void 0,_["1.0.0"]="1.0.0",window.ZoomInstant=_||{},module.exports=_;
